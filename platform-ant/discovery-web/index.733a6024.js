!function(e){function t(t){for(var n,i,c=t[0],s=t[1],o=t[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);f.length;)f.shift()();return l.push.apply(l,o||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={index:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var u=s;l.push([825,"chunk-vendors"]),a()}({105:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCategory=t.removeSNMP=t.updateSNMP=t.createSNMP=t.fetchNewScriptFile=t.fetchNewScriptFileByGroupId=t.fetchScriptFileByGroupId=t.fetchSNMPParamGroup=t.fetchScriptFiles=void 0;var r=n(a(44)),l=n(a(23)),i=a(53);t.fetchScriptFiles=function(e){return function(t){return t({type:i.IS_FETCHING_SCRIPT_FILES,payload:!0}),$.get(l.default.script_files,{tag:e},(function(e){t({type:i.GET_SCRIPT_FILES,payload:e}),t({type:i.IS_FETCHING_SCRIPT_FILES,payload:!1})}))}};var c=function(e){return function(t){return $.get("".concat(l.default.snmp_param_group,"/").concat(e.id,"/groups"),{page:e.page,size:e.size},(function(e){t({type:i.GET_SNMP_PARAM_GROUP,payload:e})}))}};t.fetchSNMPParamGroup=c;t.fetchScriptFileByGroupId=function(e){return function(t){var a=l.default.plugin_lists+"/"+e+"/script";return $.get(a,(function(e){t({type:i.GET_SCRIPT_FILE,payload:e}),t(c({id:e.id,page:1,size:10}))}))}};t.fetchNewScriptFileByGroupId=function(e){return function(t){var a=l.default.plugin_lists+"/"+e;return $.get(a,(function(e){t({type:i.GET_SCRIPT_FILE,payload:e}),t(c({id:e.id,page:1,size:10}))}))}};t.fetchNewScriptFile=function(e){return function(t){var a=l.default.script_files+"/"+e;return $.get(a,(function(e){t({type:i.SET_CURRENT_SCRIPT_FILE,payload:e}),t(c({id:e.id,page:1,size:10}))}))}};t.createSNMP=function(e){return function(t){return $.ajax({type:"POST",url:l.default.snmp_param_group,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){r.default.success($.translate("saveSuc")),t(c({id:e.scriptId,page:1,size:10}))})).fail((function(e){}))}};t.updateSNMP=function(e){return function(t){return $.ajax({type:"POST",url:l.default.edit_snmp_param_group,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){r.default.success($.translate("updateSuc")),t(c({id:e.scriptId,page:1,size:10}))})).fail((function(e){r.default.error($.translate("updateFail"))}))}};t.removeSNMP=function(e){return function(t){return $.ajax({type:"POST",url:l.default.delete_snmp_param_group(e),contentType:"application/json"}).done((function(e){r.default.success($.translate("deleteSuc")),t(c({id:e.scriptId,page:1,size:10}))})).fail((function(e){r.default.error($.translate("deleteFail"))}))}};t.fetchCategory=function(e){return function(t){return $.get(l.default.category_for_deep(e),(function(e){t({type:i.GET_CATEGORY_FOR_DEEP,payload:e})}))}}},107:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=n(a(0)),f=r(a(1861));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}a(1865);var m=function(e){(0,s.default)(a,e);var t=p(a);function a(e){var n;return(0,i.default)(this,a),(n=t.call(this,e)).setFields=function(e,t){n.setState({fields:e,description:t}),document.getElementsByClassName(".blue .side-modal-body").scrollTop=0},n.state={fields:[],description:""},n}return(0,c.default)(a,[{key:"render",value:function(){var e=[{title:$.translate("attrName"),dataIndex:"codeName",key:"codeName",width:"40%"},{title:$.translate("attrValue"),dataIndex:"value",key:"value",width:"30%",render:function(e,t){return d.default.createElement("span",null,"".concat(t.value).concat(t.unit||""))}},{title:$.translate("ciStoreValue"),dataIndex:"storeValue",key:"storeValue",width:"30%",render:function(e,t){return d.default.createElement("span",{className:t.storeValue&&1===t.hasDifference?"warning":""},t.storeValue,t.storeValue&&t.unit?t.unit:"")}}];return d.default.createElement("div",{className:"config-detail"},d.default.createElement("header",{className:"ci-info"},d.default.createElement("p",{className:"title"}," ",$.translate("compareToStore")," "),d.default.createElement("div",{className:"notice"},d.default.createElement("span",null,d.default.createElement("i",{className:"iconfont icon-cross"}),$.translate("storeNotExist")),d.default.createElement("span",null,d.default.createElement("i",{className:"iconfont icon-warning1"}),$.translate("hasDifference")))),d.default.createElement("div",{className:"pull-left detail-tree"},d.default.createElement(f.default,{fields:this.setFields})),d.default.createElement("div",{ref:"tableDetail",className:"detail-table"},d.default.createElement("div",{className:"message-error mb10"},this.state.description),d.default.createElement(l.default,{columns:e,rowKey:function(e){return e.id},dataSource:this.state.fields,pagination:!1})))}}]),a}(d.Component);t.default=m},118:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.resetList=t.requestList=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="scan/scanStatisticsList/Load";t.LOAD=s;t.requestList=function(e,t){return{type:s,ajax:{type:"GET",url:l.default.scan_job_list+"?type=".concat(t),data:e},loadingParam:"isFetching",callback:function(e,t){t({type:s,payload:{data:e.page.elements,total:e.page.totalElementsNum,categories:e.categories}})}}};t.resetList=function(){return function(e){e({type:s,payload:{data:[],total:0,categories:[]}})}};var o={data:[],total:0,categories:[]}},120:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.resetList=t.fetchSucList=t.fetchFailList=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="discovery/discoveryJobStatisticsList/Load";t.LOAD=s;t.fetchFailList=function(e){return function(t){return $.get(l.default.fail_logs_of_group,e,(function(e){t({type:s,payload:{data:e.page.elements,total:e.page.totalElementsNum,categories:e.categories}})}))}};t.fetchSucList=function(e){return function(t){return $.get(l.default.suc_logs_of_group,e,(function(e){t({type:s,payload:{data:e.page.elements,total:e.page.totalElementsNum,categories:e.categories}})}))}};t.resetList=function(){return function(e){e({type:s,payload:{data:[],total:0,categories:[]}})}};var o={data:[],total:0,categories:[]}},131:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return d(d({},e),t.payload);default:return e}},t.removeLocalPluginJob=t.updateLocalPluginJob=t.createLocalPluginJob=t.resetLocalJob=t.fetchLocalJob=t.removePluginJob=t.updatePluginJob=t.createPluginJob=t.resetJob=t.fetchJob=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23)),c=a(182),s=a(222),o=a(500);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f="pluginJob/Load";t.LOAD=f;t.fetchJob=function(e,t){return function(a){return $.get(i.default.plugin_job+"/"+e,(function(e){_.isFunction(t)&&t(e),a({type:f,payload:{data:e}})}))}};t.resetJob=function(){return function(e){e({type:f,payload:{data:{count:{}}}})}};t.createPluginJob=function(e){return function(t){return $.ajax({type:"POST",url:i.default.plugin_job,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("saveSuc")),window.history.go(-1)})).fail((function(e){l.default.error($.translate("saveFail"))}))}};t.updatePluginJob=function(e){return function(t){return $.ajax({type:"POST",url:i.default.edit_plugin_job,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("updateSuc")),window.history.go(-1)})).fail((function(e){l.default.error($.translate("updateFail"))}))}};t.removePluginJob=function(e,t,a){return function(n){return $.ajax({type:"POST",url:i.default.delete_plugin_job(t),contentType:"application/json"}).done((function(t){l.default.success($.translate("deleteSuc")),n((0,c.fetchJobListOfPlugin)(e,a)),n((0,s.fetchStatisticOfDiscoveryJob)(e))})).fail((function(e){l.default.error($.translate("deleteFail"))}))}};t.fetchLocalJob=function(e,t){return function(a){return $.get(i.default.local_plugin_job+"/"+e,(function(e){_.isFunction(t)&&t(e),a({type:f,payload:{data:e}})}))}};t.resetLocalJob=function(){return function(e){e({type:f,payload:{data:{count:{}}}})}};t.createLocalPluginJob=function(e){return function(t){return $.ajax({type:"POST",url:i.default.local_plugin_job,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("saveSuc")),window.history.go(-1)})).fail((function(e){l.default.error($.translate("saveFail"))}))}};t.updateLocalPluginJob=function(e){return function(t){return $.ajax({type:"POST",url:i.default.edit_local_plugin_job,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("updateSuc")),window.history.go(-1)})).fail((function(e){l.default.error($.translate("updateFail"))}))}};t.removeLocalPluginJob=function(e,t,a){return function(n){return $.ajax({type:"POST",url:i.default.delete_local_plugin_job(t),contentType:"application/json"}).done((function(t){l.default.success($.translate("deleteSuc")),n((0,o.fetchLocalJobListOfPlugin)(e,a)),n((0,s.fetchStatisticOfDiscoveryJob)(e))})).fail((function(e){l.default.error($.translate("deleteFail"))}))}};var p={data:{count:{}}}},1445:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1446)),l=n(a(0)),i=n(a(654)),c=(0,a(17).connect)((function(e){return{breadcrumb:e.breadcrumb}}))((function(e){var t=e.breadcrumb.data;return l.default.createElement(r.default,null,i.default.map(t,(function(e,t){return l.default.createElement(r.default.Item,{key:e.name+t},e.url?l.default.createElement("a",{href:"#".concat(e.url)},e.name):e.name)})))}));t.default=c},1465:function(e,t,a){},1466:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(203)),i=r(a(204)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=n(a(0)),p=a(17),m=a(32),h=a(49),v=r(a(4)),y=a(314);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var E=function(e){(0,o.default)(a,e);var t=g(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).refreshData=function(){e.props.dispatch((0,y.fetchStatisticOfScan)()),e.t=setTimeout(e.refreshData,1e4)},e}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.refreshData();var e=[{name:$.translate("scan")}];this.props.dispatch((0,h.setBreadcrumb)(e))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t)}},{key:"render",value:function(){var e=this.props,t=e.statistic,a=e.location;return f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"overview"},f.default.createElement("div",{className:"overview-title"},$.translate("scanStatistics")),f.default.createElement(l.default,{type:"flex",justify:"space-between",className:"overview-statistics-box"},f.default.createElement(i.default,{span:"4",className:"overview-content"},f.default.createElement(m.Link,{to:"/scan/task"},f.default.createElement(i.default,{span:"12",className:"overview-item task-color"},f.default.createElement("h5",{className:"overview-icon"},f.default.createElement("i",{className:"iconfont icon-renwu"})),f.default.createElement("div",{className:"overview-info"},$.translate("numTask"))),f.default.createElement("div",null,f.default.createElement(i.default,{span:"12"},f.default.createElement("div",{className:"overview-item"},f.default.createElement("div",{className:"overview-count"},t.jobCount)),f.default.createElement("div",{className:(0,v.default)({"triangle-sign":a.pathname.indexOf("task")>0})}))))),f.default.createElement(i.default,{span:"8",className:"overview-content"},f.default.createElement(i.default,{span:"6",className:"overview-item discovery-color mr20"},f.default.createElement("h5",{className:"overview-icon"},f.default.createElement("i",{className:"iconfont icon-saomiao discovery-color"})),f.default.createElement("div",{className:"overview-info"},$.translate("scan1"))),f.default.createElement(i.default,{span:"6",className:"overview-item"},f.default.createElement("h4",{className:"overview-num-white"},t.ipCount),f.default.createElement("div",{className:"overview-info"},$.translate("sum"))),f.default.createElement(m.Link,{to:"/scan/scanOnline"},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-item"},f.default.createElement("h4",{className:"overview-num"},t.ipOnlineCount),f.default.createElement("div",{className:"overview-info"},$.translate("ipOnlineNum"))),f.default.createElement("div",{className:(0,v.default)({"triangle-sign":a.pathname.indexOf("scanOnline")>0})}))),f.default.createElement(m.Link,{to:"/scan/scanFail"},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-item"},f.default.createElement("div",{className:"overview-item-last"},f.default.createElement("h4",{className:"overview-num"},t.failCount),f.default.createElement("div",{className:"overview-info"},$.translate("failNum")))),f.default.createElement("div",{className:(0,v.default)({"triangle-sign":a.pathname.indexOf("scanFail")>0})})))),f.default.createElement(i.default,{span:"8",className:"overview-content"},f.default.createElement(i.default,{span:"6",className:"overview-item import-color mr20"},f.default.createElement("h4",{className:"overview-icon"},f.default.createElement("i",{className:"iconfont icon-daoruziyuanku import-color"})),f.default.createElement("div",{className:"overview-info"},$.translate("import"))),f.default.createElement(m.Link,{to:"/scan/importSuc"},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-item"},f.default.createElement("h4",{className:"overview-num"},t.configExportCount),f.default.createElement("div",{className:"overview-info"},$.translate("sucNum"))),f.default.createElement("div",{className:(0,v.default)({"triangle-sign":a.pathname.indexOf("importSuc")>0})}))),f.default.createElement(m.Link,{to:"/scan/importFail"},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-item"},f.default.createElement("h4",{className:"overview-num"},t.configExportFailCount),f.default.createElement("div",{className:"overview-info"},$.translate("failNum"))),f.default.createElement("div",{className:(0,v.default)({"triangle-sign":a.pathname.indexOf("importFail")>0})}))),f.default.createElement(m.Link,{to:"/scan/waitImport"},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-item"},f.default.createElement("div",{className:"overview-item-last"},f.default.createElement("h4",{className:"overview-num"},t.waitToExportCount),f.default.createElement("div",{className:"overview-info"},$.translate("WAIT_TO_IMPORT")))),f.default.createElement("div",{className:(0,v.default)({"triangle-sign":a.pathname.indexOf("waitImport")>0})})))),f.default.createElement(i.default,{span:"4",className:"overview-content"},f.default.createElement(i.default,{span:"12",className:"overview-item resource-color mr20"},f.default.createElement("h4",{className:"overview-icon"},f.default.createElement("i",{className:"iconfont icon-jichuziyuan resource-color"})),f.default.createElement("div",{className:"overview-info"},$.translate("resource"))),f.default.createElement(m.Link,{to:"/scan/resource"},f.default.createElement(i.default,{span:"12"},f.default.createElement("div",{className:"overview-item"},f.default.createElement("h4",{className:"overview-num"},t.resCount),f.default.createElement("div",{className:"overview-info"},$.translate("pacificExist"))),f.default.createElement("div",{className:(0,v.default)({"triangle-sign":a.pathname.indexOf("resource")>0})})))))),f.default.createElement("div",null,this.props.children))}}]),a}(f.PureComponent),b=(0,p.connect)((function(e){return{statistic:e.scanStatistics.data}}))(E);t.default=b},1471:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(146)),c=r(a(61)),s=r(a(170)),o=r(a(315)),u=r(a(104)),d=r(a(31)),f=r(a(19)),p=r(a(10)),m=r(a(59)),h=r(a(12)),v=r(a(13)),y=r(a(16)),g=r(a(14)),E=r(a(15)),b=r(a(76)),S=r(a(25)),O=n(a(0)),w=a(17),k=a(32),N=a(689),T=a(118),I=a(259),P=a(62);function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,E.default)(e);if(t){var r=(0,E.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,g.default)(this,a)}}var C=S.default.Option,j=b.default.Item,D=function(e){(0,y.default)(a,e);var t=R(a);function a(e){var n;return(0,h.default)(this,a),(n=t.call(this,e)).refreshData=function(){n.props.dispatch((0,T.requestList)(n.props.location.query,"jobs")),n.t=setTimeout(n.refreshData,1e4)},n.search=function(e){if(""===e.target.value){var t=n.state.conditions,a="page=".concat(t.page);t.status&&(a+="&status=".concat(t.status)),t.size&&(a+="&size=".concat(t.size)),k.hashHistory.replace("scan/task?".concat(a))}else 13===e.keyCode&&""!==$.trim(e.target.value)&&n.handleFetchJobs(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.showModal=function(e){n.props.dispatch((0,I.requestJob)(e.id)).then((function(e){n.setState({visible:!0,checkedJob:e})}))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{lastStartAt:"",splittedIPs:[],intervalType:"",status:"",count:{}}}),n.props.dispatch((0,I.resetJob)())},n.beginDiscovery=function(e){n.setState({checkLog:!0}),n.props.dispatch((0,N.beginDiscovery)(e.id,n.props.location.query)).then((function(){n.setState({checkLog:!1})})).fail((function(){n.setState({checkLog:!1})}))},n.stopDiscovery=function(e){n.props.dispatch((0,N.stopDiscovery)(e.id,n.props.location.query)),n.setState({checkLog:!1})},n.handleRemove=function(e){m.default.confirm({title:$.translate("deleteTask"),content:O.default.createElement("div",null,O.default.createElement("p",null,$.translate("makeSureDelete")+e.name+$.translate("task")),O.default.createElement("p",null,$.translate("scanResultAlsoDeleted"))),okText:$.translate("ok"),cancelText:$.translate("cancel"),onOk:function(){n.setState({visible:!1,checkedJob:{lastStartAt:"",splittedIPs:[],intervalType:"",status:"",count:{}}}),n.props.dispatch((0,I.removeJob)(e.id,n.props.location.query))}})},n.redirectToEdit=function(e){k.hashHistory.push("scan/edit/".concat(e))},n.redirectToResult=function(e){k.hashHistory.push("scan/result/".concat(e)),n.props.dispatch((0,I.resetJob)())},n.onClose=function(){n.setState({visible:!1})},n.handleFetchJobs=function(e){n.setState({conditions:e});var t="page=".concat(e.page);e.keyword&&(t+="&keyword=".concat(e.keyword)),e.status&&(t+="&status=".concat(e.status)),e.size&&(t+="&size=".concat(e.size)),k.hashHistory.replace("scan/task?".concat(t))},n.state={visible:!1,checkLog:!1,conditions:{keyword:n.props.location.query.keyword||"",page:1,size:n.props.location.query.size||10,status:""},checkedJob:{lastStartAt:"",splittedIPs:[],intervalType:"",status:"",count:{}}},n}return(0,v.default)(a,[{key:"componentDidMount",value:function(){if(this.refreshData(),this.props.location.search){var e=this.props.location.query;this.setState({conditions:e})}}},{key:"componentWillReceiveProps",value:function(e){if(e.location.search!==this.props.location.search){var t=e.location.query;this.setState({conditions:t}),this.props.dispatch((0,T.requestList)(e.location.query,"jobs"))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t),this.props.dispatch((0,T.resetList)())}},{key:"render",value:function(){var e=this,t={labelCol:{span:4},wrapperCol:{span:18}},a=this.props.scanStatisticsList,n=a.data,r=a.total,m=this.state,h=m.checkedJob,v=m.conditions,y=m.checkLog;return O.default.createElement("div",{className:"container"},O.default.createElement("div",{className:"widget-filter clearfix"},O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(f.default,{prefix:O.default.createElement(p.default,{type:"search"}),placeholder:$.translate("keywordWantFindJobName"),defaultValue:this.state.conditions.keyword,className:"search-input",onKeyUp:this.search})),O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(S.default,{value:v.status||"",className:"filter-select",getPopupContainer:function(e){return e},placeholder:$.translate("allState"),onChange:function(t){e.handleFetchJobs(Object.assign(v,{status:t,page:1}))}},O.default.createElement(C,{value:""},$.translate("allState")),_.map(P.JOB_STATUS,(function(e){return O.default.createElement(C,{key:e,value:e},$.translate(e)||e)})))),O.default.createElement(k.Link,{to:"/scan/create"},O.default.createElement(d.default,{className:"pull-right",type:"primary"},O.default.createElement(p.default,{type:"plus"}),$.translate("addTask")))),O.default.createElement("table",{className:"task-table"},O.default.createElement("thead",null,O.default.createElement("tr",null,O.default.createElement("td",{width:"15%"},$.translate("taskName")),O.default.createElement("td",{width:"15%"},$.translate("recentlyFoundStartTime")),O.default.createElement("td",{width:"10%"},$.translate("taskStrategy")),O.default.createElement("td",{width:"10%"},$.translate("status")),O.default.createElement("td",{width:"20%"},$.translate("recentlyFoundSEndTime")),O.default.createElement("td",{width:"12%"},$.translate("recentlyEnd")),O.default.createElement("td",{width:"18%"},$.translate("operation")))),_.map(n,(function(t){return O.default.createElement("tbody",{key:t.id},O.default.createElement("tr",{className:"separation-row"},O.default.createElement("td",{colSpan:"7"})),O.default.createElement("tr",{className:"content-row"},O.default.createElement("td",null,O.default.createElement("a",{className:"task-name",onClick:function(){return e.showModal(t)}},t.name)),O.default.createElement("td",null,t.lastStartAt),O.default.createElement("td",null,$.translate(t.intervalType)),O.default.createElement("td",null,$.translate(t.status)),O.default.createElement("td",null,"START"===t.status?O.default.createElement("div",{className:"table-progress"},O.default.createElement(u.default,{percent:t.percent,status:"active",strokeWidth:5})):t.lastEndAt),O.default.createElement("td",null,"START"===t.status?O.default.createElement(k.Link,{to:"/scan/log/".concat(t.id)},O.default.createElement(d.default,{size:"small",type:"primary",disabled:!t.lastStartAt},$.translate("detail"))):O.default.createElement(k.Link,{to:"/scan/result/".concat(t.id)},O.default.createElement(d.default,{size:"small",type:"primary",disabled:!t.lastEndAt||y},$.translate("detail")))),O.default.createElement("td",null,"START"===t.status?O.default.createElement(o.default,{placement:"bottom",title:$.translate("stopDiscoveryTaskImmediately"),onConfirm:function(){return e.stopDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},O.default.createElement("div",null,O.default.createElement(d.default,{size:"small",type:"wait",style:{width:"64%"}},$.translate("cancelExecute")))):O.default.createElement("div",null,O.default.createElement(o.default,{placement:"bottomRight",title:$.translate("discoveryTaskImmediately"),onConfirm:function(){return e.beginDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},O.default.createElement("div",{style:{display:"inline-block"}},O.default.createElement(d.default,{size:"small",type:"primary",disabled:"START"===t.status},$.translate("begin")))),O.default.createElement(k.Link,{to:"/scan/edit/".concat(t.id)}," ",O.default.createElement(d.default,{size:"small",type:"success",disabled:"START"===t.status},$.translate("edit"))),O.default.createElement(d.default,{disabled:"START"===t.status,size:"small",type:"error",onClick:function(){return e.handleRemove(t)},className:"ml5"},$.translate("delete"))))))}))),r>0?O.default.createElement("div",{className:"mt20 clearfix"},O.default.createElement(s.default,{className:"pull-right",showQuickJumper:!0,current:+v.page||1,total:r,showTotal:function(e){return $.translate("total",{total:e})},onChange:function(t){return e.handleFetchJobs(Object.assign(v,{page:t}))},showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],pageSize:Number(this.state.conditions.size),onShowSizeChange:function(t,a){return e.handleFetchJobs(Object.assign(v,{page:1,size:a}))}})):null,O.default.createElement(l.default,{title:h.name,width:"600",visible:this.state.visible,onClose:this.handleCancel},O.default.createElement("div",{className:"scan-modal"},O.default.createElement("div",{className:"scan-modal-action"},O.default.createElement(d.default,{onClick:function(){return e.redirectToResult(h.id)},type:"primary",disabled:!h.lastEndAt},$.translate("detail")),O.default.createElement(d.default,{type:"success",onClick:function(){return e.redirectToEdit(h.id)},disabled:"START"===h.status},$.translate("edit")),O.default.createElement(d.default,{type:"error",disabled:"START"===h.status,onClick:function(){return e.handleRemove(h)}},$.translate("delete"))),O.default.createElement(b.default,{className:"scan-modal-inner-block"},O.default.createElement(j,(0,c.default)({},t,{label:$.translate("recentlyStartTime")}),O.default.createElement("p",{className:"ant-form-text"},h.lastStartAt)),O.default.createElement(j,(0,c.default)({},t,{label:$.translate("effectNumIP")}),O.default.createElement("p",{className:"ant-form-text"},h.splittedIPs.length)),O.default.createElement(j,(0,c.default)({},t,{label:$.translate("scanIP")}),O.default.createElement("div",{className:"ant-form-text"},_.map(h.ips,(function(e){return O.default.createElement(i.default,{key:e},e)})))),O.default.createElement(j,(0,c.default)({},t,{label:$.translate("taskStrategy")}),O.default.createElement("p",{className:"ant-form-text"},$.translate(h.intervalType))),O.default.createElement(j,(0,c.default)({},t,{label:$.translate("status")}),O.default.createElement("p",{className:"ant-form-text"},$.translate(h.status))),O.default.createElement(j,(0,c.default)({},t,{label:"Agent"}),O.default.createElement("p",{className:"ant-form-text"},h.agentName)),O.default.createElement(j,(0,c.default)({},t,{label:$.translate("network")}),O.default.createElement("p",{className:"ant-form-text"},h.networkDomainName))),O.default.createElement(b.default,{className:"scan-modal-inner-block"},O.default.createElement(j,(0,c.default)({},t,{className:"pb8",label:$.translate("recentlyScanResult")}),O.default.createElement("p",{className:"ant-form-text"},h.lastEndAt)),O.default.createElement(j,null,O.default.createElement("ul",null,O.default.createElement("li",{className:"widget-block-item"},O.default.createElement("h5",null,h.count.ipOnlineCount),O.default.createElement("span",null,$.translate("ipOnlineNum")))))))))}}]),a}(O.PureComponent),L=(0,w.connect)((function(e){return{scanStatisticsList:e.scanStatisticsList}}))(D);t.default=L},149:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validIPAddress=function(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[xX]|[01]?[0-9][0-9]?)$/.test(e)},t.validPassword=function(e){return/^.{2,80}$/.test(e)},t.validText=function(e){return/^.{0,255}$/.test(e)},t.validSpecialChar=function(e){return/[\\/><&'"()]/.test(e)},t.getCookie=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()},t.getUserProduct=function(){var e=0;window.USER_INFO&&_.map(window.USER_INFO.products,(function(t){"1014"===t.productNum&&(e=t.role)}));return e}},1565:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(32),y=a(118),g=a(465),E=a(62),b=r(a(707));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var O=p.default.Option,w=function(e){(0,u.default)(a,e);var t=S(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).configClassChange=function(e,t){var a={id:t.id,ciTypeCode:e},r=t.jobId;n.props.dispatch((0,g.changeConfigClass)(r,a))},n.handleFetchRecords=function(e){n.props.dispatch((0,y.requestList)(e,"online"))},n.state={conditions:{keyword:"",page:1,size:10,ciTypeCode:"",status:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.requestList)(this.state.conditions,"online")),this.props.dispatch((0,g.fetchCiTypies)())}},{key:"render",value:function(){var e=this,t=this.props.scanStatisticsList,a=t.data,n=t.total,r=t.categories,s=this.props.ciTypes,o=this.state.conditions,u=[{title:m.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"15%",render:function(e,t){return m.default.createElement(v.Link,{className:"pl20 text-overflow",to:"/scan/result/".concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"15%"},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"15%",render:function(t,a){return a.online?m.default.createElement(b.default,{ciTypies:s,text:t,onChange:function(t){return e.configClassChange(t,a)}}):t}},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"25%",render:function(e,t){return _.map(t.services,(function(e,t){return m.default.createElement("span",{className:"table-service",key:e+t},e)}))}},{title:$.translate("resourceSituation"),dataIndex:"existState",key:"existState",width:"15%",render:function(e,t){return function(e){var t=e.existState;return m.default.createElement("span",null,$.translate(t))}(t)}},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"15%",render:function(e,t){return function(e){var t=e.imState;return m.default.createElement("span",{className:"table-tag ".concat(E.INREPO_COLOR[t])},$.translate(t))}(t)}}],d={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:o.page,total:n,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(o,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(o,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(o,{ciTypeCode:t,page:1}))}},m.default.createElement(O,{value:""},$.translate("allType")),_.map(r,(function(e){return m.default.createElement(O,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)})))))),m.default.createElement(l.default,{pagination:d,className:"widget-filter-result",rowKey:function(e){return e.id},columns:u,dataSource:a}))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,y.resetList)())}}]),a}(m.Component),k=(0,h.connect)((function(e){return{scanStatisticsList:e.scanStatisticsList,ciTypes:e.ciTypies.ciTypes}}))(w);t.default=k},1626:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=n(a(0)),m=a(17),h=a(32),v=a(118);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var g=function(e){(0,u.default)(a,e);var t=y(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,v.requestList)(e,"scanFail"))},n.t=setTimeout(null),n.state={conditions:{keyword:"",page:1,size:n.props.location.query.size||10}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.requestList)(this.state.conditions,"scanFail"))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.scanStatisticsList,a=t.data,n=t.total,r=this.state.conditions,s=[{title:p.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return p.default.createElement(h.Link,{className:"pl20 text-overflow",to:"/scan/result/".concat(t.jobId)},e)}},{title:"Agent",dataIndex:"agentName",key:"agentName",width:"20%"},{title:$.translate("scanFailReason"),dataIndex:"description",key:"description",width:"60%"}],o={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:r.page,total:n,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(r,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(r,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"widget-filter"},p.default.createElement("div",{className:"clearfix"},p.default.createElement("div",{className:"widget-filter-control"},p.default.createElement(i.default,{prefix:p.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})))),p.default.createElement(l.default,{className:"widget-filter-result",rowKey:function(e){return e.id},columns:s,dataSource:a,pagination:o}))}}]),a}(p.Component),E=(0,m.connect)((function(e){return{scanStatisticsList:e.scanStatisticsList}}))(g);t.default=E},1627:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(32),y=a(118);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,y.requestList)(e,"inRepo"))},n.state={conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.requestList)(this.state.conditions,"inRepo"))}},{key:"render",value:function(){var e=this,t=this.props.scanStatisticsList,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return m.default.createElement(v.Link,{className:"pl20 text-overflow",to:"/scan/result/".concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"20%"},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%"},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"40%",render:function(e,t){return _.map(t.services,(function(e,t){return m.default.createElement("span",{className:"table-service",key:e+t},e)}))}}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(E,{value:""},$.translate("allType")),_.map(r,(function(e,t){return m.default.createElement(E,{key:t,value:e.ciTypeCode},e.ciTypeName)})))))),m.default.createElement(l.default,{pagination:u,className:"widget-filter-result",columns:o,dataSource:a,rowKey:function(e){return e.id}}))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,y.resetList)())}}]),a}(m.Component),S=(0,h.connect)((function(e){return{scanStatisticsList:e.scanStatisticsList}}))(b);t.default=S},1628:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(32),y=a(118);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,y.requestList)(e,"waitToExport"))},n.state={conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.requestList)(this.state.conditions,"waitToExport"))}},{key:"render",value:function(){var e=this,t=this.props.scanStatisticsList,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"15%",render:function(e,t){return m.default.createElement(v.Link,{className:"pl20 text-overflow",to:"/scan/result/".concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"15%"},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"15%"},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"30%",render:function(e,t){return _.map(t.services,(function(e,t){return m.default.createElement("span",{className:"table-service",key:e+t},e)}))}},{title:$.translate("resourceSituation"),dataIndex:"existState",key:"existState",width:"15%",render:function(e,t){return function(e){var t=e.existState;return m.default.createElement("span",null,$.translate(t))}(t)}}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(E,{value:""},$.translate("allType")),_.map(r,(function(e,t){return m.default.createElement(E,{key:t,value:e.ciTypeCode},e.ciTypeName)})))))),m.default.createElement(l.default,{pagination:u,className:"widget-filter-result",columns:o,dataSource:a,rowKey:function(e){return e.id}}))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,y.resetList)())}}]),a}(m.Component),S=(0,h.connect)((function(e){return{scanStatisticsList:e.scanStatisticsList}}))(b);t.default=S},1629:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(32),y=a(118);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,y.requestList)(e,"repoFail"))},n.state={conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.requestList)(this.state.conditions,"repoFail"))}},{key:"render",value:function(){var e=this,t=this.props.scanStatisticsList,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"15%",render:function(e,t){return m.default.createElement(v.Link,{className:"pl20 text-overflow",to:"/scan/result/".concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"15%"},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"15%"},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"20%",render:function(e,t){return _.map(t.services,(function(e,t){return m.default.createElement("span",{className:"table-service",key:e+t},e)}))}},{title:$.translate("description"),dataIndex:"description",key:"description",width:"25%"}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(E,{value:""},$.translate("allType")),_.map(r,(function(e,t){return m.default.createElement(E,{key:t,value:e.ciTypeCode},e.ciTypeName)})))))),m.default.createElement(l.default,{pagination:u,className:"widget-filter-result",columns:o,dataSource:a,rowKey:function(e){return e.id}}))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,y.resetList)())}}]),a}(m.Component),S=(0,h.connect)((function(e){return{scanStatisticsList:e.scanStatisticsList}}))(b);t.default=S},1630:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(118);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var g=p.default.Option,E=function(e){(0,u.default)(a,e);var t=y(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,v.requestList)(e,"resource"))},n.state={conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.requestList)(this.state.conditions,"resource"))}},{key:"render",value:function(){var e=this,t=this.props.scanStatisticsList,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"20%",render:function(e){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%"},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"60%",render:function(e,t){return _.map(t.services,(function(e,t){return m.default.createElement("span",{className:"table-service",key:e+t},e)}))}}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(g,{value:""},$.translate("allType")),_.map(r,(function(e,t){return m.default.createElement(g,{key:t,value:e.ciTypeCode},e.ciTypeName)})))))),m.default.createElement(l.default,{pagination:u,className:"widget-filter-result",columns:o,dataSource:a,rowKey:function(e){return e.id}}))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}}]),a}(m.Component),b=(0,h.connect)((function(e){return{scanStatisticsList:e.scanStatisticsList}}))(E);t.default=b},1631:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(31)),i=r(a(10)),c=r(a(146)),s=r(a(176)),o=r(a(325)),u=r(a(61)),d=r(a(19)),f=r(a(12)),p=r(a(13)),m=r(a(16)),h=r(a(14)),v=r(a(15)),y=r(a(25)),g=r(a(76)),E=n(a(0)),b=a(17),S=r(a(58)),O=r(a(1653)),w=a(49),k=a(149),N=a(326),T=a(327),I=a(259),P=a(1654),R=a(53),C=r(a(722));function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,v.default)(e);if(t){var r=(0,v.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var D,L=g.default.Item,x=y.default.Option,F=function(e){(0,m.default)(a,e);var t=j(a);function a(e){var n;return(0,f.default)(this,a),(n=t.call(this,e)).handleCancel=function(){n.props.form.resetFields(),window.history.go(-1)},n.formatValue=function(e){return e.startAt=e.startAt.format(O.default.DEFAULT_DATE_FORMAT),e.autoIm=e.autoIm||!1,e},n.handleSubmit=function(){n.props.form.validateFields((function(e,t){if(!e){var a=n.formatValue(t);n.props.job.id&&(a.agentId=n.props.job.agentId,a.agentName=n.props.job.agentName,a.networkDomainName=n.props.job.networkDomainName,a.networkDomainCode=n.props.job.networkDomainCode,a.networkDomainId=n.props.job.networkDomainId),a.agentId=n.state.agentId,a.networkDomainCode=n.state.networkDomainCode,a.networkDomainId=n.state.networkDomainId,a.networkDomainName=n.state.networkDomainName,a.agentName=n.state.agentName,n.props.job.id?(a.id=n.props.job.id,n.props.dispatch((0,I.updateJob)(a))):n.props.dispatch((0,I.createJob)(a))}}))},n.addIpTags=function(e){var t=n.props.form.getFieldValue("ips")||[];n.props.form.setFieldsValue({ips:t.concat(e)})},n.removeIpTag=function(e){var t=n.props.form.getFieldValue("ips")||[];t=t.filter((function(t){return e!==t})),n.props.form.setFieldsValue({ips:t})},n.checkScanName=function(e,t,a){(t=$.trim(t))?(D&&(clearTimeout(D),D=null),D=setTimeout((function(){var e=n.props.params.id||"0";n.props.dispatch((0,P.checkName)(t,e,(function(e){e.data?a():a([new Error($.translate("nameOccupied"))])})))}),500)):a(),(0,k.validSpecialChar)(t)&&a([new Error($.translate("dangerCode"))])},n.clearTag=function(){n.props.form.setFieldsValue({ips:[]})},n.selectAgent=function(e,t){n.setState({agentId:e,agentName:t.props.children})},n.selectNetwork=function(e,t){var a=e.indexOf("|"),r=e.length,l=e.substring(0,a),i=e.substring(a+1,r);n.setState({networkDomainCode:l,networkDomainId:i,networkDomainName:t.props.children}),n.props.form.setFieldsValue({agentId:[]}),n.props.dispatch((0,N.fetchAgent)(i))},n.state={agentName:n.props.job?n.props.job.agentName:"",networkDomainName:n.props.job?n.props.job.networkDomainName:"",agentId:n.props.job?n.props.job.agentId:"",networkDomainCode:n.props.job?n.props.job.networkDomainCode:"",networkDomainId:n.props.job?n.props.job.networkDomainId:""},n}return(0,p.default)(a,[{key:"componentWillReceiveProps",value:function(e){var t=[{name:$.translate("scan"),url:"/scan"},{name:$.translate("addTask")}];e.params.id&&(t=[{name:$.translate("scan"),url:"/scan"},{name:$.translate("edit")+e.job.name}]),this.props.dispatch((0,w.setBreadcrumb)(t)),e.job.id!==this.props.job.id&&(this.setState({networkDomainName:e.job.networkDomainName,agentName:e.job.agentName,agentId:e.job.agentId,networkDomainCode:e.job.networkDomainCode,networkDomainId:e.job.networkDomainId}),e.job.id&&this.props.dispatch((0,N.fetchAgent)(e.job.networkDomainId,e.job.agentId)))}},{key:"componentDidMount",value:function(){this.props.dispatch((0,T.fetchNetwork)()),this.props.params.id&&this.props.dispatch((0,I.requestJob)(this.props.params.id))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,N.resetAgent)()),this.props.dispatch((0,I.resetJob)())}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.job,r=a.agent,f=a.network,p=a.isAgent,m={labelCol:{span:2},wrapperCol:{span:10}};return E.default.createElement("div",{className:"container"},E.default.createElement(g.default,{className:"task-form",style:{paddingTop:50}},E.default.createElement(L,(0,u.default)({},m,{label:$.translate("taskName")}),t("name",{initialValue:n.name,rules:[{required:!0,message:$.translate("pleaseEnterTaskName")},{min:2,max:50,message:$.translate("taskNameNumRules",{min:2,max:50})},{validator:this.checkScanName}],trigger:"onChange"})(E.default.createElement(d.default,{placeholder:$.translate("pleaseEnterTaskName")}))),E.default.createElement(L,(0,u.default)({},m,{label:$.translate("beginTime")}),t("startAt",{initialValue:n.id?(0,S.default)(n.startAt,R.DEFAULT_DATEFORMAT):(0,S.default)(Date.now()),rules:[{required:!0,message:$.translate("pleaseSelect")+$.translate("beginTime")}]})(E.default.createElement(o.default,{showTime:!0,allowClear:!1,format:O.default.DEFAULT_DATE_FORMAT}))),E.default.createElement(L,(0,u.default)({},m,{label:$.translate("implementStrategy")}),t("intervalType",{initialValue:n.intervalType||"WEEKLY",rules:[{required:!0,message:$.translate("pleaseSelect")+$.translate("implementStrategy")}]})(E.default.createElement(y.default,{getPopupContainer:function(e){return e}},_.map(O.default.executionStrate,(function(e){return E.default.createElement(x,{key:e,value:e},$.translate(e))}))))),E.default.createElement(L,{wrapperCol:{span:12,offset:2}},t("autoIm",{valuePropName:"checked",initialValue:n.autoIm})(E.default.createElement(s.default,null,$.translate("scanResultsDirectlyPacific")))),E.default.createElement(L,(0,u.default)({},{labelCol:{span:2},wrapperCol:{span:12}},{label:$.translate("scanIP")}),t("ips",{initialValue:n.ips||[],rules:[{required:!0,message:$.translate("ipRequired"),type:"array",min:1}]})(E.default.createElement("div",null)),E.default.createElement(C.default,{ipTags:this.props.form.getFieldValue("ips")||[],onChange:this.addIpTags}),this.props.form.getFieldValue("ips").length>0?E.default.createElement("div",{className:"tags-list clearfix"},_.map(this.props.form.getFieldValue("ips")||[],(function(t,a){return E.default.createElement(c.default,{key:t+a,closable:!0,onClose:function(){e.removeIpTag(t)}},t)})),E.default.createElement("div",{className:"tag-clear",onClick:this.clearTag},E.default.createElement(i.default,{type:"delete"}))):null),E.default.createElement(L,(0,u.default)({},m,{label:$.translate("network")}),t("networkDomainCode",{initialValue:n.networkDomainName,rules:[{required:!0,message:$.translate("pleaseSelectNetwork")}]})(E.default.createElement(y.default,{getPopupContainer:function(e){return e},disabled:0===f.length,placeholder:$.translate("pleaseSelectNetwork"),onSelect:this.selectNetwork,notFoundContent:$.translate("noData")},_.map(f,(function(e){return E.default.createElement(x,{key:e.code,value:e.code+"|"+e.id},e.name)}))))),E.default.createElement(L,(0,u.default)({},m,{label:"Agent"}),t("agentId",{initialValue:p?n.agentName:[],rules:[{required:!0,message:$.translate("pleaseSelect")+"agent"}]})(E.default.createElement(y.default,{getPopupContainer:function(e){return e},placeholder:$.translate("pleaseSelect")+"agent",onSelect:this.selectAgent,notFoundContent:$.translate("noData")},_.map(r,(function(e){return E.default.createElement(x,{key:e.id,value:e.id},e.name)}))))),E.default.createElement(L,{style:{marginTop:20},wrapperCol:{span:10,offset:2},className:"submit-btn-group"},E.default.createElement(l.default,{type:"primary",onClick:this.handleSubmit},this.props.job.id?$.translate("update"):$.translate("save")),E.default.createElement(l.default,{style:{marginLeft:8},type:"ghost",onClick:this.handleCancel},$.translate("cancel")))))}}]),a}(E.Component);F=g.default.create()(F);var A=(0,b.connect)((function(e){return{job:e.scanJob.data,agent:e.agent.data,isAgent:e.agent.isAgent,network:e.network.data}}))(F);t.default=A},1653:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={executionStrate:["ONLY_ONCE","DAILY","WEEKLY","MONTHLY"],status:["START","WAIT","DONE"],DEFAULT_DATE_FORMAT:"YYYY-MM-DD HH:mm:ss"}},1654:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.checkName=function(e,t,a,n){var l={name:e};return{ajax:{type:"GET",url:r.default.check_scan_name(t),data:l},callback:a,error:n}};var r=n(a(23))},1655:function(e,t,a){},1656:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(31)),c=r(a(19)),s=r(a(10)),o=r(a(104)),u=r(a(44)),d=r(a(12)),f=r(a(13)),p=r(a(16)),m=r(a(14)),h=r(a(15)),v=r(a(25)),y=r(a(127)),g=n(a(0)),E=a(17),b=a(49),S=a(259),O=a(469),w=a(465),k=a(329),N=a(470),T=a(212),I=a(62),P=r(a(707)),R=r(a(1670)),C=r(a(1671));function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}var D=y.default.TabPane,L=v.default.Option,x=function(e){(0,p.default)(a,e);var t=j(a);function a(e){var n;return(0,d.default)(this,a),(n=t.call(this,e)).changeTab=function(e){"undefined"!==typeof n.refs.configImportResult&&n.refs.configImportResult.clearContent(),n.setState({statusResult:"online",tabKey:e,conditions:{keyword:"",page:1,size:10,ciTypeCode:""}});var t=n.props.params.id;"scan"===e?n.props.dispatch((0,k.fetchRecordsOfJob)(t)):n.props.dispatch((0,T.fetchImportSucLogs)(t))},n.getSearchValue=function(e){var t=Object.assign({},n.state.conditions,{keyword:e.target.value});n.setState({conditions:t})},n.statusResult=function(e){n.setState({statusResult:e,conditions:{keyword:"",page:1,size:10,ciTypeCode:""}});var t=n.props.params.id;n.props.dispatch((0,k.fetchRecordsOfJob)(t)),n.props.dispatch((0,N.fetchFailRecorsdOfJob)(t))},n.configClassChange=function(e,t){var a={id:t,ciTypeCode:e},r=n.props.params.id;n.props.dispatch((0,w.changeConfigClass)(r,a))},n.handleFetchRecords=function(e){n.props.dispatch((0,k.fetchRecordsOfJob)(n.props.params.id,e))},n.importToRepo=function(){n.state.selectIds.length?(n.setState({tabKey:"import"}),n.props.dispatch((0,S.resetJob)()),n.props.dispatch((0,O.importJobRecords)(n.props.params.id,n.state.selectIds,!1)),setTimeout(n.checkIsImporting,500)):u.default.error($.translate("pleaseSelect"))},n.importAllToRepo=function(){n.setState({tabKey:"import"}),n.props.dispatch((0,S.resetJob)()),n.props.dispatch((0,O.importJobRecords)(n.props.params.id,n.state.selectIds,!0)),setTimeout(n.checkIsImporting,500)},n.checkIsImporting=function(){var e=n.props.params.id;if(!n.props.import.isImporting)return n.props.dispatch((0,S.requestJob)(e)),n.props.dispatch((0,k.fetchRecordsOfJob)(e)),n.props.dispatch((0,T.fetchImportSucLogs)(e)),n.props.dispatch((0,T.fetchImportFailLogs)(e)),n.setState({selectIds:[]}),void clearTimeout(n.t);n.props.dispatch((0,O.checkImportingStatus)(e)),n.t=setTimeout(n.checkIsImporting,1e3)},n.t=setTimeout(null),n.state={selectIds:[],tabKey:"scan",statusResult:"online",conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,f.default)(a,[{key:"componentWillReceiveProps",value:function(e){if(e.job.id!==this.props.job.id){var t=[{name:$.translate("scan"),url:"/scan"},{name:e.job.name}];this.props.dispatch((0,b.setBreadcrumb)(t))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t),this.props.dispatch((0,S.resetJob)()),this.props.dispatch((0,k.resetRecordsOfJob)())}},{key:"componentDidMount",value:function(){var e=this.props.params.id;e&&(this.props.dispatch((0,S.requestJob)(e)),this.props.dispatch((0,w.fetchCiTypies)()),this.props.dispatch((0,k.fetchRecordsOfJob)(e)),this.props.dispatch((0,T.fetchImportFailLogs)(e))),this.props.dispatch((0,O.checkImportingStatus)(this.props.params.id)),setTimeout(this.checkIsImporting,200)}},{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.job,r=t.ciTypies,u=t.failRecord,d=this.props.import,f=d.failIds,p=d.isImporting,m=d.successIds,h=d.status,E=this.state,b=E.conditions,S=E.statusResult,O=[{title:g.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"15%",render:function(e){return g.default.createElement("span",{className:"pl20 text-overflow"},e)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%",render:function(t,a){return a.online?g.default.createElement(P.default,{ciTypies:r,text:t,onChange:function(t){return e.configClassChange(t,a.id)}}):t}},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"35%",render:function(e,t){return _.map(t.services,(function(e,t){return g.default.createElement("span",{className:"table-service",key:e+t},e)}))}},{title:$.translate("resourceSituation"),dataIndex:"existState",key:"existState",width:"15%",render:function(e,t){return function(e){var t=e.existState;return g.default.createElement("span",null,$.translate(t))}(t)}},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"15%",render:function(t,a){return function(t){var a=t.id,n=t.imState;return e.state.selectIds.indexOf(a)>-1&&p?m.indexOf(a)>-1?g.default.createElement("span",{className:"table-tag table-tag-green"},$.translate("EXPORTED")):f.indexOf(a)>-1?g.default.createElement("span",{className:"table-tag table-tag-red"},$.translate("FAIL")):g.default.createElement("span",{className:"table-tag table-tag-yellow"},$.translate("WAIT_TO_IMPORT")):g.default.createElement("span",{className:"table-tag ".concat(I.INREPO_COLOR[n])},$.translate(n))}(a)}}],w=[{title:g.default.createElement("span",{className:"pl20"},"Agent"),dataIndex:"agentName",key:"agentName",width:"30%",render:function(e){return g.default.createElement("span",{className:"pl20 text-overflow"},e)}},{title:$.translate("description"),dataIndex:"description",key:"description",width:"70%"}],k=a.total?{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:b.page,total:"online"===this.state.statusResult?a.total:u.total,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(b,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(b,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}}:null,N={selectedRowKeys:this.state.selectIds,onChange:function(t,a){e.setState({selectIds:t})}};return g.default.createElement("div",{className:"container"},g.default.createElement("div",{className:"overview-title"},$.translate("recentlyScan"),"\uff1a",n.lastStartAt),g.default.createElement("div",{className:"check-result"},g.default.createElement(y.default,{defaultActiveKey:"scan",activeKey:this.state.tabKey,onChange:this.changeTab},g.default.createElement(D,{tab:$.translate("scanResult"),key:"scan"},g.default.createElement(o.default,{percent:h.percent,showInfo:!1,status:"active",strokeWidth:3}),g.default.createElement("div",{className:"widget-filter",style:{marginTop:-15}},g.default.createElement("div",{className:"clearfix"},g.default.createElement("div",{className:"widget-filter-control"},g.default.createElement(c.default,{prefix:g.default.createElement(s.default,{type:"search"}),value:b.keyword,placeholder:$.translate("wantFindIPName"),className:"search-input",onChange:this.getSearchValue,onKeyUp:this.getSearch.bind(this)})),g.default.createElement("div",{className:"widget-filter-control"},"online"===S?g.default.createElement(v.default,{value:b.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(b,{ciTypeCode:t,page:1}))}},g.default.createElement(L,{value:""},$.translate("allType")),_.map(r,(function(e){return g.default.createElement(L,{key:e.code,value:e.code},e.name)}))):g.default.createElement("div",null,"\xa0")),g.default.createElement("div",{className:"widget-filter-control"},g.default.createElement("div",{className:"online"===S?"discovery-btn discovery-btn-suc discovery-btn-suc-active":"discovery-btn discovery-btn-suc",onClick:function(){return e.statusResult("online")}},$.translate("online"),"\uff08",n.count.succCount,"\uff09")),g.default.createElement("div",{className:"widget-filter-control"},g.default.createElement("div",{className:"scanFail"===S?"discovery-btn discovery-btn-fail discovery-btn-fail-active":"discovery-btn discovery-btn-fail",onClick:function(){return e.statusResult("scanFail")}},$.translate("scanFailReason"),"\uff08",n.count.scanFailCount,"\uff09")),"online"===S?g.default.createElement("div",{className:"pull-right"},g.default.createElement(i.default,{loading:p,className:"mr10",disabled:a.data.length<1,type:"primary",onClick:this.importToRepo},$.translate("importPacific")),g.default.createElement(i.default,{loading:p,disabled:a.data.length<1,type:"primary",onClick:this.importAllToRepo},$.translate("importAllPacific"))):null)),"online"===S?g.default.createElement(l.default,{pagination:k,rowSelection:N,className:"widget-filter-result",rowKey:function(e){return e.id},columns:O,dataSource:a.data}):g.default.createElement(l.default,{pagination:k,className:"widget-filter-result",rowKey:function(e){return e.id},columns:w,dataSource:u.data})),g.default.createElement(D,{tab:$.translate("importResult"),key:"import"},g.default.createElement(o.default,{percent:h.percent,showInfo:!1,status:"active",strokeWidth:3}),n.imported||p||100===h.percent?g.default.createElement(R.default,{ref:"configImportResult",jobId:this.props.params.id,job:this.props.job,import:this.props.import,dispatch:this.props.dispatch}):g.default.createElement("div",{className:"no-data"},g.default.createElement("p",null,$.translate("noDataNeedToImport")))),g.default.createElement(D,{tab:$.translate("scanLog"),key:"log"},g.default.createElement(C.default,{jobId:this.props.params.id})))))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}}]),a}(g.Component),F=(0,E.connect)((function(e){return{job:e.scanJob.data,record:e.jobRecord,failRecord:e.jobFailRecord,import:e.importRepo,ciTypies:e.ciTypies.ciTypes}}))(x);t.default=F},1670:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(168)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=n(a(0)),h=a(212);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var y=function(e){(0,d.default)(a,e);var t=v(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).getSearchValue=function(e){n.setState({conditions:{keyword:e.target.value}})},n.clearContent=function(){n.setState({statusResult:"suc",conditions:{keyword:"",page:1,size:10}})},n.getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.statusResult=function(e){n.setState({statusResult:e,conditions:{keyword:"",page:1,size:10}}),n.props.dispatch((0,h.fetchImportSucLogs)(n.props.jobId)),n.props.dispatch((0,h.fetchImportFailLogs)(n.props.jobId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}})},n.handleFetchRecords=function(e){n.setState({conditions:e}),"suc"===n.state.statusResult?n.props.dispatch((0,h.fetchImportSucLogs)(n.props.jobId,e)):n.props.dispatch((0,h.fetchImportFailLogs)(n.props.jobId,e))},n.t=setTimeout(null),n.state={statusResult:"suc",successLogs:[],conditions:{keyword:"",page:1,size:10}},n}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props.job,a=this.props.import,n=a.isImporting,r=a.failLog,o=a.sucLog,u=this.state.conditions,d=[{title:m.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"25%",render:function(e,t){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"25%"},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"50%",render:function(e,t){return _.map(t.services,(function(e,t){return m.default.createElement("span",{className:"table-service",key:e+t},e)}))}}],f=[{title:m.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"20%",render:function(e,t){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%"},{title:$.translate("runService"),dataIndex:"services",key:"services",width:"20%",render:function(e,t){return _.map(t.services,(function(e,t){return m.default.createElement("span",{className:"table-service",key:e+t},e)}))}},{title:$.translate("description"),dataIndex:"description",key:"description",width:"40%"}],p={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:u.page,total:"suc"===this.state.statusResult?o.total:r.total,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(u,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(u,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",null,m.default.createElement(l.default,{spinning:n,tip:$.translate("systemImporting")},m.default.createElement("div",{className:"widget-filter clearfix",style:{marginTop:-15}},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(c.default,{prefix:m.default.createElement(s.default,{type:"search"}),value:u.keyword,placeholder:$.translate("wantFindIPName"),className:"search-input",onChange:this.getSearchValue,onKeyUp:this.getSearch})),m.default.createElement("div",{className:"widget-filter-control"},"\xa0"),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement("div",{className:"suc"===this.state.statusResult?"discovery-btn discovery-btn-suc discovery-btn-suc-active":"discovery-btn discovery-btn-suc",onClick:function(){return e.statusResult("suc")}},$.translate("importSuc"),"\uff08",n?o.successLogs.length:t.count.rsImSuccCount,"\uff09")),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement("div",{className:"fail"===this.state.statusResult?"discovery-btn discovery-btn-fail discovery-btn-fail-active":"discovery-btn discovery-btn-fail",onClick:function(){return e.statusResult("fail")}},$.translate("importFail"),"\uff08",n?r.failLogs.length:t.count.rsImFailCount,"\uff09"))),"suc"===this.state.statusResult?m.default.createElement(i.default,{className:"widget-filter-result",columns:d,pagination:p,dataSource:o.successLogs,rowKey:function(e){return e.id}}):m.default.createElement(i.default,{className:"widget-filter-result",columns:f,pagination:p,dataSource:r.failLogs,rowKey:function(e){return e.id}})))}}]),a}(m.Component);t.default=y},1671:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(62),y=a(178);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,y.fetchLog)(n.props.jobId,e))},n.state={conditions:{keyword:"",page:1,size:10,logLevel:""}},n}return(0,o.default)(a,[{key:"componentWillMount",value:function(){this.props.dispatch((0,y.fetchLog)(this.props.jobId))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"render",value:function(){var e=this,t=this.state.conditions,a=this.props.log,n=a.data,r=a.total,s=a.elapseTime,o=[{title:m.default.createElement("span",{className:"pl20"},$.translate("time")),dataIndex:"createdAt",key:"createdAt",width:"30%",render:function(e){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("level"),dataIndex:"logLevel",key:"logLevel",width:"20%"},{title:$.translate("content"),dataIndex:"description",key:"description",width:"50%"}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:t.page,total:r,pageSize:this.state.conditions.size,onShowSizeChange:function(a,n){return e.handleFetchRecords(Object.assign(t,{size:n,page:1}))},onChange:function(a){return e.handleFetchRecords(Object.assign(t,{page:a}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("keywordWantFind"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{className:"filter-select",getPopupContainer:function(e){return e},placeholder:$.translate("allLevel"),onChange:function(a){return e.handleFetchRecords(Object.assign(t,{logLevel:a,page:1}))}},m.default.createElement(E,{value:""},$.translate("allLevel")),_.map(v.LOG_LEVEL,(function(e){return m.default.createElement(E,{key:e,value:$.translate(e)},$.translate(e))})))),m.default.createElement("div",{className:"pull-right mr10",style:{lineHeight:"30px"}},m.default.createElement("span",null,$.translate("elapsedTime"),"\uff1a",s)))),m.default.createElement(l.default,{className:"widget-filter-result",columns:o,pagination:u,dataSource:n,rowKey:function(e){return e.id}}))}}]),a}(m.Component),S=(0,h.connect)((function(e){return{log:e.log}}))(b);t.default=S},1672:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(104)),c=r(a(31)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=n(a(0)),m=a(17),h=a(32),v=a(49),y=a(178),g=a(689),E=a(259);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var S=function(e){(0,u.default)(a,e);var t=b(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).checkIsImporting=function(){e.props.dispatch((0,y.fetchLog)(e.props.params.id)).then((function(t){"WAIT"!==t.status&&"DONE"!==t.status||(h.hashHistory.push("scan/result/".concat(e.props.params.id)),e.props.dispatch((0,y.resetLog)()),clearTimeout(e.t))})),e.t=setTimeout(e.checkIsImporting,2e3)},e.stopScan=function(){var t=e.props.params.id;e.props.dispatch((0,g.stopDiscovery)(t)),h.hashHistory.push("scan/result/".concat(t))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.params.id;this.props.dispatch((0,E.requestJob)(e)),this.checkIsImporting()}},{key:"componentWillReceiveProps",value:function(e){if(e.job.id!==this.props.job.id){var t=[{name:$.translate("scan"),url:"/scan"},{name:e.job.name}];this.props.dispatch((0,v.setBreadcrumb)(t))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t),this.props.dispatch((0,E.resetJob)())}},{key:"render",value:function(){var e=this.props.log,t=e.data,a=e.elapseTime,n=e.percent,r=[{title:p.default.createElement("span",{className:"pl20"},$.translate("time")),dataIndex:"createdAt",key:"createdAt",width:"30%",render:function(e){return p.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("level"),dataIndex:"logLevel",key:"logLevel",width:"20%"},{title:$.translate("content"),dataIndex:"description",key:"description",width:"50%"}];return p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"widget-filter"},p.default.createElement("div",{className:"clearfix "},p.default.createElement("div",{className:"widget-filter-control lh30"},$.translate("scanLog")),p.default.createElement("div",{className:"pull-right lh30"},p.default.createElement(c.default,{type:"primary",onClick:this.stopScan},$.translate("cancelScan"))),p.default.createElement("div",{className:"pull-right mr30 lh30"},p.default.createElement("span",null,$.translate("elapsedTime"),"\uff1a",a)))),p.default.createElement(i.default,{percent:n,showInfo:!1,status:"active",strokeWidth:3}),p.default.createElement(l.default,{style:{marginTop:"-14px"},className:"widget-filter-result",columns:r,pagination:!1,dataSource:t,rowKey:function(e){return e.id}}))}}]),a}(p.Component),O=(0,m.connect)((function(e){return{job:e.scanJob.data,log:e.log}}))(S);t.default=O},1673:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=a(49),p=a(330),m=a(179),h=r(a(727));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(a,e);var t=v(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).refreshData=function(){e.props.dispatch((0,p.fetchStatisticOfDiscovery)()),e.props.dispatch((0,m.fetchPluginList)()),e.t=setTimeout(e.refreshData,1e4)},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){this.refreshData();var e=[{name:$.translate("discovery"),url:"plugins/task"}];this.props.dispatch((0,f.setBreadcrumb)(e))}},{key:"componentWillReceiveProps",value:function(){if(-1===this.props.location.pathname.indexOf("task")){var e=[{name:$.translate("discovery"),url:"plugins/task"}];this.props.dispatch((0,f.setBreadcrumb)(e))}else if(-1===this.props.location.pathname.indexOf("local")){var t=[{name:$.translate("discovery"),url:"plugins/task"},{name:$.translate("discoveryScript")}];this.props.dispatch((0,f.setBreadcrumb)(t))}else{var a=[{name:$.translate("discovery"),url:"plugins/task"},{name:$.translate("localDiscoveryScript")}];this.props.dispatch((0,f.setBreadcrumb)(a))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t)}},{key:"render",value:function(){var e=this.props,t=e.statistic,a=e.location;return u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"overview"},u.default.createElement("div",{className:"overview-title"},$.translate("discoverStatistic")),u.default.createElement(h.default,{statistic:t,location:a})),u.default.createElement("div",{className:"overview"},this.props.children))}}]),a}(u.Component),g=(0,d.connect)((function(e){return{statistic:e.discoveryStatistics.data}}))(y);t.default=g},1674:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10)),i=r(a(59)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=r(a(127)),p=n(a(0)),m=r(a(2)),h=a(17),v=a(105),y=a(179),g=a(472),E=a(471),b=r(a(728)),S=r(a(1675)),O=r(a(1676));function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var k=f.default.TabPane,N=function(e){(0,o.default)(a,e);var t=w(a);function a(e){var n;return(0,c.default)(this,a),(n=t.call(this,e)).showScriptFiles=function(e){n.props.dispatch((0,v.fetchScriptFiles)(e)),n.setState({scriptFileVisible:!0,tag:e})},n.handleCancel=function(){n.setState({scriptFileVisible:!1,tag:""})},n.handleRemove=function(e,t,a){e.stopPropagation(),i.default.confirm({title:$.translate("removeDiscoveryAbility"),content:p.default.createElement("div",null,p.default.createElement("p",null,$.translate("doRemove")+t.scriptGroupName+$.translate("discoveryPlugin")),p.default.createElement("p",null,$.translate("afterRemoval"))),onOk:function(){"REMOTE"===a?n.props.dispatch((0,y.removePlugin)(t.id)):n.props.dispatch((0,g.removeLocalPlugin)(t.id))}})},n.redirectTo=function(e){return"REMOTE"===e.jobTag&&e.relationScan?n.context.router.push("plugins/".concat(e.id,"/relations")):"LOCAL"===e.jobTag?n.context.router.push("plugins/local/".concat(e.id,"/jobs")):n.context.router.push("plugins/".concat(e.id,"/jobs"))},n.redirectToNewJobView=function(e){if(!e.used&&e.permit){if(n.props.dispatch((0,v.fetchNewScriptFile)(e.scriptId)),"LOCAL"===n.state.tag)return n.context.router.push("plugins/local/".concat(e.scriptId,"/jobs/new?groupUnexist"));n.context.router.push("plugins/".concat(e.scriptId,"/new"))}},n.onChangeType=function(e){n.context.router.push("".concat(e,"/task"))},n.renderPlugin=function(e,t){return p.default.createElement("li",{key:e.id,onClick:function(){return n.redirectTo(e)}},p.default.createElement("div",{className:"plugin-item"},!e.relationScan&&p.default.createElement("div",{className:"plugin-item-delete",onClick:function(a){return n.handleRemove(a,e,t)}},p.default.createElement(l.default,{type:"minus-circle-o"})),p.default.createElement("div",{className:"plugin-item-name"},p.default.createElement("img",{className:"class-icon",src:e.relationScan?S.default:e.bgIcon,alt:$.translate("relationDiscovery")}),p.default.createElement("p",{title:e.name,className:"title truncate ml5"}," ",e.name," ")),p.default.createElement("div",{className:"plugin-item-desc"},e.relationScan?p.default.createElement("p",null,p.default.createElement("span",null,$.translate("discoveryRelNum"),p.default.createElement("b",null,e.count.rlCount)),p.default.createElement("span",{className:"ant-divider"}),p.default.createElement("span",null,$.translate("numTask"),p.default.createElement("b",null,e.count.jobCount))):p.default.createElement("p",null,p.default.createElement("span",null,$.translate("discoverSucNum"),p.default.createElement("b",null,e.count&&e.count.succCount)),p.default.createElement("span",{className:"ant-divider"}),p.default.createElement("span",null,$.translate("discoverFailNum"),p.default.createElement("b",null,e.count&&e.count.scanFailCount)),p.default.createElement("span",{className:"ant-divider"}),p.default.createElement("span",null,$.translate("numTask"),p.default.createElement("b",null,e.count&&e.count.jobCount))))))},n.renderTabPane=function(){var e=n.props,t=e.plugins,a=e.localPlugins,r=[{key:"plugins",title:$.translate("remoteDiscoveryPlug"),data:t,groupTag:"REMOTE"},{key:"plugins/local",title:$.translate("localDiscoveryPlug"),data:a,groupTag:"LOCAL"}];return _.map(r,(function(e,t){return p.default.createElement(k,{key:e.key,tab:e.title},p.default.createElement("ul",{className:"plugin"},_.map(e.data,(function(t){return n.renderPlugin(t,e.groupTag)})),p.default.createElement("li",{onClick:function(){return n.showScriptFiles(e.groupTag)}},p.default.createElement("div",{className:"plugin-item plugin-item-add"},p.default.createElement(l.default,{type:"plus"}),p.default.createElement("p",null,$.translate("usePlugin"))))))}))},n.state={scriptFileVisible:!1,tag:""},n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,E.fetchCompareStatus)()),this.props.dispatch((0,y.fetchPluginList)()),this.props.dispatch((0,g.fetchLocalPluginList)())}},{key:"render",value:function(){return p.default.createElement("div",{className:"overview"},p.default.createElement(f.default,{style:{marginTop:40},defaultActiveKey:this.props.location.pathname.indexOf("local")<0?"plugins":"plugins/local",onChange:this.onChangeType},this.renderTabPane()),p.default.createElement(O.default,null),p.default.createElement(b.default,{visible:this.state.scriptFileVisible,onCancel:this.handleCancel,scriptFiles:this.props.scriptFiles,redirectTo:this.redirectToNewJobView}))}}]),a}(p.Component);N.contextTypes={router:m.default.object.isRequired};var T=(0,h.connect)((function(e){return{plugins:e.plugin.lists,scriptFiles:e.plugins.scriptFiles,localPlugins:e.localPlugin.lists}}))(N);t.default=T},1675:function(e,t,a){e.exports=a.p+"static/images/relationDisc.ba3224c.png"},1676:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17);a(1677);var f=a(1678);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var m=function(e){e.active;var t=e.payload,a=(e.label,_.reduce(t,(function(e,t){return{value:e.value+t.value}}),{value:0}).value);return u.default.createElement("div",{className:"custom-tooltip"},u.default.createElement("p",{className:"title"},$.translate("discoverTotal"),": ",a),_.map(t,(function(e){return u.default.createElement("p",{key:e.dataKey,className:"info"},u.default.createElement("span",{style:{background:e.color},className:"dot"})," ",$.translate(e.name),": ",e.value," ")})))},h=function(e){(0,c.default)(a,e);var t=p(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props.data;return u.default.createElement("div",{className:"chart"},u.default.createElement("h3",{style:{marginBottom:10}},$.translate("compareWithStoreResult")),u.default.createElement(f.ResponsiveContainer,null,u.default.createElement(f.BarChart,{data:e,barSize:30,margin:{right:20}},u.default.createElement(f.CartesianGrid,{vertical:!1,fill:"none"}),u.default.createElement(f.XAxis,{dataKey:"ciTypeName",axisLine:!1,tickFormatter:function(e){return e.slice(0,10)},padding:{bottom:10}}),u.default.createElement(f.YAxis,{type:"number",tickLine:!1,axisLine:!1}),u.default.createElement(f.Tooltip,{content:u.default.createElement(m,null)}),u.default.createElement(f.Bar,{stackId:"a",dataKey:"countUnCompare"}),u.default.createElement(f.Bar,{stackId:"a",dataKey:"countDiffer"}),u.default.createElement(f.Bar,{stackId:"a",dataKey:"countUnDiffer"}))))}}]),a}(u.PureComponent),v=(0,d.connect)((function(e){return{data:e.compareStatus.data}}))(h);t.default=v},1677:function(e,t,a){},178:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.resetLog=t.fetchLog=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="logProcess/Load";t.LOAD=s;t.fetchLog=function(e,t){return function(a){return $.get(l.default.log_list(e),t,(function(e){a({type:s,payload:{data:e.list.elements,total:e.list.totalElementsNum,elapseTime:e.elapseTime,percent:e.percent,status:e.status}})}))}};t.resetLog=function(){return function(e){e({type:s,payload:{data:[],total:0,elapseTime:"00:00:00",percent:0,status:""}})}};var o={data:[],total:0,elapseTime:"00:00:00",percent:0,status:""}},179:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return u(u({},e),t.payload);default:return e}},t.removePlugin=t.fetchPluginList=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23)),c=a(330),s=a(471);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d="plugin/Load";t.LOAD=d;var f=function(){return function(e){return $.get(i.default.plugin_lists,(function(t){e({type:d,payload:{lists:t}})}))}};t.fetchPluginList=f;t.removePlugin=function(e){return function(t){return $.ajax({type:"POST",url:i.default.delete_plugin_lists(e),contentType:"application/json"}).done((function(e){l.default.success($.translate("deleteSuc")),t((0,s.fetchCompareStatus)()),t(f()),t((0,c.fetchStatisticOfDiscovery)())})).fail((function(e){l.default.error($.translate("deleteFail"))}))}};var p={lists:[]}},182:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.resetJobListOfPlugin=t.fetchJobListOfPlugin=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="pluginJobList/Load";t.LOAD=s;t.fetchJobListOfPlugin=function(e,t){return function(a){return $.get(l.default.job_list_of_plugin(e),t,(function(e){a({type:s,payload:{data:e.elements,total:e.totalElementsNum}})}))}};t.resetJobListOfPlugin=function(){return function(e){e({type:s,payload:{data:[],total:0}})}};var o={data:[],total:0}},183:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.checkPluginName=function(e,t,a,n){var r={name:e};return{ajax:{type:"GET",url:l.default.check_plugin_name(t),data:r},callback:a,error:n}},t.fetchAttrList=t.fetchModelClasses=t.addScriptModels=t.saveScriptModels=t.fetchScriptModels=t.editScript=t.addScript=t.createScript=t.saveScript=t.useScript=t.deleteScript=t.fetchScriptHistory=t.resetScriptDetail=t.editScriptPlugin=t.fetchScriptDetail=t.deleteScriptPlugin=t.fetchScriptPluginList=void 0;var r=n(a(44)),l=n(a(23)),i=a(32),c=a(53),s=function(e){return function(t){return $.get(l.default.script_plugin_list,{groupTag:e},(function(a){var n={};n[e]={sysList:a.sys,cusList:a.cus},t({type:c.GET_SCRIPT_PLUGIN_LIST,payload:n})}))}};t.fetchScriptPluginList=s;t.deleteScriptPlugin=function(e){return function(t){return $.ajax({type:"POST",url:l.default.script_plugin_delete(e),contentType:"application/json"}).done((function(e){})).fail((function(e){r.default.error($.translate("deleteFail"))}))}};var o=function(e){return function(t){return $.get(l.default.script_plugin_detail(e),(function(e){t({type:c.GET_SCRIPT_PLUGIN_DETAIL,payload:{models:e.models,scriptGroup:e.scriptGroup}})}))}};t.fetchScriptDetail=o;t.editScriptPlugin=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"REMOTE";return function(n){return $.ajax({type:"POST",url:l.default.script_plugin_edit,contentType:"application/json",data:JSON.stringify(e)}).done((function(e){r.default.success($.translate("updateSuc")),n(s(a)),n(o(t))})).fail((function(e){r.default.error($.translate("updateFail"))}))}};t.resetScriptDetail=function(){return function(e){e({type:c.GET_SCRIPT_PLUGIN_DETAIL,payload:{models:[],scriptGroup:{}}})}};var u=function(e){return function(t){return $.get(l.default.script_plugin_history(e),(function(e){t({type:c.GET_SCRIPT_PLUGIN_HISTORY,payload:{historyList:e}})}))}};t.fetchScriptHistory=u;t.deleteScript=function(e,t){return function(a){return $.ajax({type:"POST",url:l.default.delete_script(t),contentType:"application/json"}).done((function(t){!1===t.data?r.default.error(t.message):(r.default.success($.translate("deleteSuc")),a(u(e)))})).fail((function(e){r.default.error($.translate("deleteFail"))}))}};t.useScript=function(e,t){return function(a){return $.ajax({type:"POST",url:l.default.use_script(t),contentType:"application/json"}).done((function(t){!1===t.data?r.default.error(t.message):(r.default.success($.translate("enableSuccess")),a(u(e)))})).fail((function(e){r.default.error($.translate("enableFail"))}))}};t.saveScript=function(e){return function(t){return $.ajax({type:"POST",url:l.default.save_script,contentType:"application/json",data:JSON.stringify(e)}).done((function(e){r.default.success($.translate("temporarySuccess"))})).fail((function(e){}))}};t.createScript=function(e){return function(t){return $.ajax({type:"POST",url:l.default.save_script,contentType:"application/json",data:JSON.stringify(e)}).done((function(a){t({type:c.NEW_PLUGIN_DATA,payload:{pluginData:e}}),t(s(e.groupTag)),_.includes(window.location.href,"local")?i.hashHistory.replace("setting/localScript/".concat(a.scriptGroupId,"/edit/").concat(a.scriptId)):i.hashHistory.replace("setting/script/".concat(a.scriptGroupId,"/edit/").concat(a.scriptId))})).fail((function(e){}))}};t.addScript=function(e,t){return function(a){return $.ajax({type:"POST",url:l.default.add_script(t),contentType:"application/json",data:JSON.stringify(e)}).done((function(t){e.draft?r.default.success($.translate("temporarySuccess")):(a({type:c.NEW_PLUGIN_DATA,payload:{pluginData:e}}),i.hashHistory.replace("setting/script/".concat(t.scriptGroupId,"/edit/").concat(t.scriptId)))})).fail((function(e){r.default.error($.translate("fail"))}))}};t.editScript=function(e){return{ajax:{type:"GET",url:l.default.edit_script(e)}}};t.fetchScriptModels=function(e){return function(t){return $.get(l.default.script_plugin_models(e),(function(e){t({type:c.GET_SCRIPT_PLUGIN_MODELS,payload:{models:e.models}}),t({type:c.GET_SCRIPT_PLUGIN_DESC,payload:{script:e}})}))}};t.saveScriptModels=function(e){return function(){return $.ajax({type:"POST",url:l.default.save_script_models,contentType:"application/json",data:JSON.stringify(e)}).done((function(e){r.default.success($.translate("updateSuc"))})).fail((function(e){r.default.error($.translate("updateFail"))}))}};t.addScriptModels=function(e,t){return function(){return $.ajax({type:"POST",url:l.default.add_script(t),contentType:"application/json",data:JSON.stringify(e)}).done((function(e){r.default.success($.translate("saveSuc"))})).fail((function(e){r.default.error($.translate("saveFail"))}))}};t.fetchModelClasses=function(){return function(e){return $.get(l.default.model_classes,(function(t){e({type:c.GET_MODEL_CLASSES,payload:{classes:t}})}))}};t.fetchAttrList=function(e){return function(t){return $.get(l.default.attr_list(e),(function(e){t({type:c.GET_ATTR_LIST,payload:{attrList:e}})}))}}},1860:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(221),E=a(84),b=r(a(107)),S=a(62);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var w=m.default.Option,k=function(e){(0,d.default)(a,e);var t=O(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,g.requestList)(e,"res"))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,E.resetIpDetail)())},n.state={visible:!1,checkedJob:{ip:""},conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.requestList)(this.state.conditions,"res"))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.props.jobs,n=a.data,r=a.total,o=a.categories,u=this.state,d=u.conditions,f=u.checkedJob,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("pluginName")),dataIndex:"pluginName",key:"pluginName",width:"15%",render:function(e,t){return h.default.createElement(y.Link,{className:"pl20 text-overflow",to:"/plugins/".concat(t.groupId,"/jobs")},e)}},{title:$.translate("taskName"),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"15%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("resourceClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"15%"},{title:$.translate("resourceName"),dataIndex:"name",key:"name",width:"20%"},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"15%",render:function(e,t){return function(e){var t=e.imState;return h.default.createElement("span",{className:"table-tag ".concat(S.INREPO_COLOR[t])},$.translate(t))}(t)}}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:d.page,total:r,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter"},h.default.createElement("div",{className:"clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindPluginJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(w,{value:""},$.translate("allType")),_.map(o,(function(e){return h.default.createElement(w,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)})))))),h.default.createElement(i.default,{pagination:v,className:"widget-filter-result",rowKey:function(e){return e.id},columns:p,dataSource:n}),h.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}}]),a}(h.Component),N=(0,v.connect)((function(e){return{jobs:e.discoveryStatisticsList,detail:e.ipDetail.data}}))(k);t.default=N},1861:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(16)),c=n(a(14)),s=n(a(15)),o=n(a(0)),u=a(17),d=n(a(1862));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}a(1864);var p=function(e){(0,i.default)(a,e);var t=f(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).getFields=function(e,t,a){n.setState({id:t}),n.props.fields(e,a)},n.state={id:""},n}return(0,l.default)(a,[{key:"componentWillReceiveProps",value:function(e){if(e.data&&e.data.ciId){var t=e.data,a=t.ciId,n=t.ciFieldInfos,r=t.description;this.getFields(n,a,r)}}},{key:"render",value:function(){var e=this;return o.default.createElement("ul",{className:"tree"},function t(a,n){var r=a.children||[];return 0===r.length?o.default.createElement(d.default,{id:a.id,data:a,key:n,getFields:e.getFields,isSelect:a.id===e.state.id,rootData:e.props.data}):o.default.createElement(d.default,{id:a.id,isSelect:a.id===e.state.id,data:a,key:n,getFields:e.getFields,rootData:e.props.data},_.map(r,(function(e,a){return t(e,n+a)})))}(this.props.data,0))}}]),a}(o.default.Component),m=(0,u.connect)((function(e){return{data:e.ipDetail.data}}))(p);t.default=m},1862:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=n(a(0)),f=a(1863),p=a(84);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,s.default)(a,e);var t=m(a);function a(){var e;(0,i.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={id:"",isOpen:!1,names:""},e.isActive=function(t){return e.state.id===t&&e.state.isOpen?"tree-node tree-node-open":"tree-node tree-node-close"},e.isOpen=function(t){return e.state.id===t&&e.state.isOpen?"tree-icon tree-icon-open":"tree-icon"},e.treeNodeData=function(t,a){var n;(e.setState({id:t.id,isOpen:!e.state.isOpen}),_.isNull(t.children)&&t.ciId)&&(n=t.fail?"0":t.parentPath,e.props.dispatch((0,f.fetchNewTreeNode)(t.ciId,n)).then((function(n){t.children=n;var r=Object.assign({},a);e.props.dispatch({type:p.LOAD,payload:{data:r}})})))},e.handleSelect=function(t){e.props.getFields(t.ciFieldInfos||t.cifields,t.id,t.description)},e.checkStatus=function(){var t=e.props.data,a=t.existState,n=t.hasDifference;return"NOT_EXIST"===a?d.default.createElement("i",{className:"iconfont icon-cross"}):1===n?d.default.createElement("i",{className:"iconfont icon-warning1"}):null},e}return(0,c.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.rootData,r=t.isSelect,i=t.id,c=_.isNull(a.children)&&!a.ciId&&a.leaf?null:d.default.createElement(l.default,{className:this.isOpen(i),type:"caret-right",onClick:function(){return e.treeNodeData(a,n)}});return d.default.createElement("ul",{className:this.isActive(i)},d.default.createElement("li",null,a.leaf?null:c,a.fail?d.default.createElement(l.default,{className:"message-error",type:"close-circle"}):null,a.id?d.default.createElement("span",{onClick:function(){return e.handleSelect(a)},className:r?"active show-table":"show-table",title:a.name},a.name," ",this.checkStatus()):d.default.createElement("span",{title:a.name},a.name)),this.props.children)}}]),a}(d.PureComponent);t.default=h},1863:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNewTreeNode=function(e,t){return{ajax:{type:"GET",url:r.default.new_tree_node(e,t)}}};var r=n(a(23))},1864:function(e,t,a){},1865:function(e,t,a){},1866:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=n(a(0)),m=a(17),h=a(32),v=a(221);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var g=function(e){(0,u.default)(a,e);var t=y(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,v.requestList)(e,"findFail"))},n.state={conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.requestList)(this.state.conditions,"findFail"))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.jobs,a=t.data,n=t.total,r=this.state.conditions,s=[{title:p.default.createElement("span",{className:"pl20"},$.translate("pluginName")),dataIndex:"pluginName",key:"pluginName",width:"15%",render:function(e,t){return p.default.createElement(h.Link,{className:"pl20 text-overflow",to:"/plugins/".concat(t.groupId,"/jobs")},e)}},{title:$.translate("taskName"),dataIndex:"jobName",key:"jobName",width:"15%",render:function(e,t){return p.default.createElement(h.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId)},e)}},{title:p.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"15%",render:function(e){return p.default.createElement("span",{className:"pl20 text-overflow"},e)}},{title:$.translate("description"),dataIndex:"description",key:"description",width:"55%"}],o={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:r.page,total:n,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(r,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(r,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"widget-filter"},p.default.createElement("div",{className:"clearfix"},p.default.createElement("div",{className:"widget-filter-control"},p.default.createElement(i.default,{prefix:p.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindPluginJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})))),p.default.createElement(l.default,{pagination:o,className:"widget-filter-result",rowKey:function(e){return e.id},columns:s,dataSource:a}))}}]),a}(p.Component),E=(0,m.connect)((function(e){return{jobs:e.discoveryStatisticsList}}))(g);t.default=E},1867:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(221),E=a(84),b=r(a(107));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var O=m.default.Option,w=function(e){(0,d.default)(a,e);var t=S(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,g.requestList)(e,"repoSuccess"))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,E.resetIpDetail)())},n.state={visible:!1,checkedJob:{ip:""},conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.requestList)(this.state.conditions,"repoSuccess"))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.props.jobs,n=a.data,r=a.total,o=a.categories,u=this.state,d=u.conditions,f=u.checkedJob,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("pluginName")),dataIndex:"pluginName",key:"pluginName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{className:"pl20 text-overflow",to:"/plugins/".concat(t.groupId,"/jobs")},e)}},{title:$.translate("taskName"),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"20%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"20%"}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:d.page,total:r,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter"},h.default.createElement("div",{className:"clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindPluginJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(O,{value:""},$.translate("allType")),_.map(o,(function(e){return h.default.createElement(O,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)})))))),h.default.createElement(i.default,{pagination:v,className:"widget-filter-result",rowKey:function(e){return e.id},columns:p,dataSource:n}),h.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}}]),a}(h.Component),k=(0,v.connect)((function(e){return{jobs:e.discoveryStatisticsList,detail:e.ipDetail.data}}))(w);t.default=k},1868:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(221),E=a(84),b=r(a(107));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var O=m.default.Option,w=function(e){(0,d.default)(a,e);var t=S(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,g.requestList)(e,"repoFail"))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchFailIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,E.resetIpDetail)())},n.state={visible:!1,checkedJob:{ip:""},conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.requestList)(this.state.conditions,"repoFail"))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.props.jobs,n=a.data,r=a.total,o=a.categories,u=this.state,d=u.conditions,f=u.checkedJob,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("pluginName")),dataIndex:"pluginName",key:"pluginName",width:"15%",render:function(e,t){return h.default.createElement(y.Link,{className:"pl20 text-overflow",to:"/plugins/".concat(t.groupId,"/jobs")},e)}},{title:$.translate("taskName"),dataIndex:"jobName",key:"jobName",width:"15%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"15%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"15%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"20%"},{title:$.translate("description"),dataIndex:"description",key:"description",width:"20%"}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:d.page,total:r,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter"},h.default.createElement("div",{className:"clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindPluginJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(O,{value:""},$.translate("allType")),_.map(o,(function(e){return h.default.createElement(O,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)})))))),h.default.createElement(i.default,{pagination:v,className:"widget-filter-result",rowKey:function(e){return e.id},columns:p,dataSource:n}),h.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}}]),a}(h.Component),k=(0,v.connect)((function(e){return{jobs:e.discoveryStatisticsList,detail:e.ipDetail.data}}))(w);t.default=k},1869:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(221),E=a(84),b=r(a(107));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var O=m.default.Option,w=function(e){(0,d.default)(a,e);var t=S(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,E.resetIpDetail)())},n.handleFetchRecords=function(e){n.props.dispatch((0,g.requestList)(e,"waitToExport"))},n.state={checkedJob:{ip:""},conditions:{keyword:"",page:1,size:10,ciTypeCode:""}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.requestList)(this.state.conditions,"waitToExport"))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.props.jobs,n=a.data,r=a.total,o=a.categories,u=this.state,d=u.conditions,f=u.checkedJob,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("pluginName")),dataIndex:"pluginName",key:"pluginName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{className:"pl20 text-overflow",to:"/plugins/".concat(t.groupId,"/jobs")},e)}},{title:$.translate("taskName"),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId)},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"20%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"20%"}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:d.page,total:r,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter"},h.default.createElement("div",{className:"clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindPluginJobNameIP"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{defaultValue:"",className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(O,{value:""},$.translate("allType")),_.map(o,(function(e,t){return h.default.createElement(O,{key:t,value:e.ciTypeCode},e.ciTypeName)})))))),h.default.createElement(i.default,{pagination:v,className:"widget-filter-result",columns:p,dataSource:n,rowKey:function(e){return e.id}}),h.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}}]),a}(h.Component),k=(0,v.connect)((function(e){return{jobs:e.discoveryStatisticsList,detail:e.ipDetail.data}}))(w);t.default=k},1870:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=a(49),p=a(222),m=r(a(727));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var v=function(e){(0,c.default)(a,e);var t=h(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).refreshData=function(){e.props.dispatch((0,p.fetchStatisticOfDiscoveryJob)(e.props.params.id)),e.t=setTimeout(e.refreshData,1e4)},e}return(0,i.default)(a,[{key:"componentWillReceiveProps",value:function(e){var t="DEEP_SCAN"===e.statistic.jobType?$.translate("discoveryScript"):$.translate("localDiscoveryScript"),a="DEEP_SCAN"===e.statistic.jobType?"plugins":"plugins/local/task",n=[{name:$.translate("discovery"),url:"plugins/task"},{name:t,url:a},{name:e.statistic.groupName}];this.props.dispatch((0,f.setBreadcrumb)(n))}},{key:"componentDidMount",value:function(){this.refreshData()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t)}},{key:"render",value:function(){var e=this.props,t=e.statistic,a=e.location;return u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"overview"},u.default.createElement("div",{className:"overview-title"},$.translate("taskStatisticsResults")),u.default.createElement(m.default,{statistic:t,location:a,proxyPath:"/plugins/".concat(this.props.params.id)})),u.default.createElement("div",null,this.props.children))}}]),a}(u.PureComponent),y=(0,d.connect)((function(e){return{statistic:e.discoveryJobStatistics.data}}))(v);t.default=y},1871:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(146)),c=r(a(61)),s=r(a(170)),o=r(a(315)),u=r(a(104)),d=r(a(31)),f=r(a(19)),p=r(a(10)),m=r(a(59)),h=r(a(12)),v=r(a(13)),y=r(a(16)),g=r(a(14)),E=r(a(15)),b=r(a(76)),S=r(a(25)),O=n(a(0)),w=a(17),k=a(32),N=a(105),T=a(131),I=a(350),P=a(179),R=a(182),C=a(62);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,E.default)(e);if(t){var r=(0,E.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,g.default)(this,a)}}var D=S.default.Option,L=b.default.Item,x=function(e){(0,y.default)(a,e);var t=j(a);function a(){var e;(0,h.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,checkLog:!1,checkedJob:{lastStartAt:"",splittedIPs:[],intervalType:"",status:""},conditions:{keyword:e.props.location.query.keyword||"",page:1,size:e.props.location.query.size||10,ciTypeCode:""}},e.refreshData=function(){var t=e.props.params.id;e.props.dispatch((0,R.fetchJobListOfPlugin)(t,e.props.location.query||"")),e.props.dispatch((0,P.fetchPluginList)()),e.t=setTimeout(e.refreshData,1e4)},e.getSearch=function(t){if(""===t.target.value){var a=e.state.conditions,n="page=".concat(a.page);a.status&&(n+="&status=".concat(a.status)),a.size&&(n+="&size=".concat(a.size)),k.hashHistory.replace("plugins/".concat(e.props.params.id,"/jobs?").concat(n))}else 13===t.keyCode&&""!==$.trim(t.target.value)&&e.handleFetchJobs(Object.assign(e.state.conditions,{keyword:t.target.value,page:1}))},e.handleFetchJobs=function(t){e.setState({conditions:t});var a="page=".concat(t.page);t.keyword&&(a+="&keyword=".concat(t.keyword)),t.status&&(a+="&status=".concat(t.status)),t.size&&(a+="&size=".concat(t.size)),k.hashHistory.replace("plugins/".concat(e.props.params.id,"/jobs?").concat(a))},e.showSideModal=function(t){e.setState({visible:!0,checkedJob:t}),e.props.dispatch((0,N.fetchCategory)(t.id))},e.handleCancel=function(){e.setState({visible:!1,checkedJob:{lastStartAt:"",splittedIPs:[],intervalType:"",status:""}})},e.handleRemove=function(t){m.default.confirm({title:$.translate("deleteTask"),content:O.default.createElement("div",null,O.default.createElement("p",null,$.translate("makeSureDelete")+t.name+$.translate("task")),O.default.createElement("p",null,$.translate("scanResultAlsoDeleted"))),okText:$.translate("ok"),cancelText:$.translate("cancel"),onOk:function(){e.setState({visible:!1,checkedJob:{lastStartAt:"",splittedIPs:[],intervalType:"",status:""}}),e.props.dispatch((0,T.removePluginJob)(e.props.params.id,t.id,e.props.location.query))}})},e.redirectToEditJob=function(t){k.hashHistory.push("plugins/".concat(e.props.params.id,"/jobs/").concat(t.id,"/edit"))},e.beginDiscovery=function(t){e.props.dispatch((0,I.beginDiscovery)(e.props.params.id,t.id,e.props.location.query)),e.setState({checkLog:!1})},e.stopDiscovery=function(t){e.props.dispatch((0,I.stopDiscovery)(e.props.params.id,t.id,e.props.location.query)),e.setState({checkLog:!1})},e.redirectToResult=function(t){k.hashHistory.push("plugins/".concat(e.props.params.id,"/jobs/").concat(t))},e}return(0,v.default)(a,[{key:"componentWillReceiveProps",value:function(e){if(e.location.search!==this.props.location.search){var t=e.location.query;this.setState({conditions:t}),this.props.dispatch((0,R.fetchJobListOfPlugin)(e.params.id,t))}}},{key:"componentDidMount",value:function(){if(this.props.location.search){var e=this.props.location.query;this.setState({conditions:e})}this.refreshData()}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,R.resetJobListOfPlugin)()),clearTimeout(this.t)}},{key:"render",value:function(){var e=this,t=this.props.categories,a=this.props.jobs,n=a.data,r=a.total,m=this.state,h=m.checkedJob,v=m.conditions,y=m.checkLog,g={labelCol:{span:5},wrapperCol:{span:18}};return O.default.createElement("div",{className:"container"},O.default.createElement("div",{className:"widget-filter mt10 clearfix"},O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(f.default,{prefix:O.default.createElement(p.default,{type:"search"}),placeholder:$.translate("keywordWantFindJobName"),className:"search-input",defaultValue:this.state.conditions.keyword,onKeyUp:this.getSearch})),O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(S.default,{value:v.status||"",className:"filter-select",onChange:function(t){return e.handleFetchJobs(Object.assign(v,{status:t,page:1}))}},O.default.createElement(D,{value:""},$.translate("allState")),_.map(C.JOB_STATUS,(function(e){return O.default.createElement(D,{key:e,value:e},$.translate(e))})))),O.default.createElement(k.Link,{to:"/plugins/".concat(this.props.params.id,"/jobs/new")},O.default.createElement(d.default,{className:"pull-right",type:"primary"},O.default.createElement(p.default,{type:"plus"}),$.translate("addTask")))),O.default.createElement("table",{className:"task-table"},O.default.createElement("thead",null,O.default.createElement("tr",null,O.default.createElement("td",{width:"15%"},$.translate("taskName")),O.default.createElement("td",{width:"15%"},$.translate("recentlyFoundStartTime")),O.default.createElement("td",{width:"10%"},$.translate("taskStrategy")),O.default.createElement("td",{width:"10%"},$.translate("status")),O.default.createElement("td",{width:"20%"},$.translate("recentlyFoundSEndTime")),O.default.createElement("td",{width:"12%"},$.translate("recentlyEnd")),O.default.createElement("td",{width:"18%"},$.translate("operation")))),_.map(n,(function(t){return O.default.createElement("tbody",{key:t.id},O.default.createElement("tr",{className:"separation-row"},O.default.createElement("td",{colSpan:"7"})),O.default.createElement("tr",{className:"content-row"},O.default.createElement("td",null,O.default.createElement("a",{className:"task-name",onClick:function(){return e.showSideModal(t)}},t.name)),O.default.createElement("td",null,t.lastStartAt),O.default.createElement("td",null,$.translate(t.intervalType)),O.default.createElement("td",null,$.translate(t.status)),O.default.createElement("td",null,"START"===t.status?O.default.createElement("div",{className:"table-progress"},O.default.createElement(u.default,{percent:t.percent,status:"active",strokeWidth:5})):t.lastEndAt),O.default.createElement("td",null,"START"===t.status?O.default.createElement(k.Link,{to:"/plugins/".concat(e.props.params.id,"/log/").concat(t.id)},O.default.createElement(d.default,{size:"small",type:"primary",disabled:!t.lastStartAt},$.translate("detail"))):O.default.createElement(k.Link,{to:"/plugins/".concat(e.props.params.id,"/jobs/").concat(t.id)},O.default.createElement(d.default,{size:"small",type:"primary",disabled:!t.lastEndAt||y},$.translate("detail")))),O.default.createElement("td",null,"START"===t.status?O.default.createElement(o.default,{placement:"bottom",title:$.translate("stopDiscoveryTaskImmediately"),onConfirm:function(){return e.stopDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},O.default.createElement("div",null,O.default.createElement(d.default,{size:"small",type:"wait",style:{width:"75%"}},$.translate("cancelExecute")))):O.default.createElement("div",null,O.default.createElement(o.default,{placement:"bottomRight",title:$.translate("discoveryTaskImmediately"),onConfirm:function(){return e.beginDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},O.default.createElement("div",{style:{display:"inline-block",marginRight:10}},O.default.createElement(d.default,{size:"small",type:"primary",disabled:"START"===t.status},$.translate("begin")))),O.default.createElement(d.default,{size:"small",type:"success",disabled:"START"===t.status,onClick:function(){return e.redirectToEditJob(t)}},$.translate("edit")),O.default.createElement(d.default,{size:"small",type:"error",disabled:"START"===t.status,onClick:function(){return e.handleRemove(t)}},$.translate("delete"))))))}))),r>0?O.default.createElement("div",{className:"mt20 clearfix"},O.default.createElement(s.default,{className:"pull-right",total:r,showQuickJumper:!0,current:+v.page||1,onChange:function(t){return e.handleFetchJobs(Object.assign(v,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})},showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],pageSize:Number(this.state.conditions.size),onShowSizeChange:function(t,a){return e.handleFetchJobs(Object.assign(v,{page:1,size:a}))}})):null,O.default.createElement(l.default,{title:h.name,width:"900",visible:this.state.visible,onClose:this.handleCancel},O.default.createElement("div",{className:"scan-modal"},O.default.createElement("div",{className:"scan-modal-action"},O.default.createElement(d.default,{onClick:function(){return e.redirectToResult(h.id)},type:"primary",disabled:!h.lastEndAt},$.translate("detail")),O.default.createElement(d.default,{type:"success",onClick:function(){return e.redirectToEditJob(h)},disabled:"START"===h.status},$.translate("edit")),O.default.createElement(d.default,{type:"error",disabled:"START"===h.status,onClick:function(){return e.handleRemove(h)}},$.translate("delete"))),O.default.createElement(b.default,{className:"scan-modal-inner-block"},O.default.createElement(L,(0,c.default)({},g,{label:$.translate("recentlyStartTime")}),O.default.createElement("p",{className:"ant-form-text"},h.lastStartAt)),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("effectNumIP")}),O.default.createElement("p",{className:"ant-form-text"},h.splittedIPs.length)),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("discoverIP")}),O.default.createElement("div",{className:"ant-form-text"},_.map(h.ips,(function(e){return O.default.createElement(i.default,{key:e},e," ")})))),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("taskStrategy")}),O.default.createElement("p",{className:"ant-form-text"},$.translate(h.intervalType))),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("status")}),O.default.createElement("p",{className:"ant-form-text"},$.translate(h.status))),O.default.createElement(L,(0,c.default)({},g,{label:"Agent"}),O.default.createElement("p",{className:"ant-form-text"},h.agentName)),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("network")}),O.default.createElement("p",{className:"ant-form-text"},h.networkDomainName))),O.default.createElement(b.default,{className:"scan-modal-inner-block"},O.default.createElement(L,(0,c.default)({},g,{label:$.translate("recentDiscoverResults")}),O.default.createElement("p",{className:"ant-form-text"},h.lastEndAt)),O.default.createElement(L,null,O.default.createElement("ul",null,_.map(t,(function(e,t){if(e.count)return O.default.createElement("li",{key:e.ciTypeCode+t,className:"widget-block-item"},O.default.createElement("h5",{title:e.count},e.count),O.default.createElement("span",{title:e.ciTypeName},e.ciTypeName))}))))))))}}]),a}(O.PureComponent),F=(0,w.connect)((function(e){return{jobs:e.pluginJobList,categories:e.plugins.category}}))(x);t.default=F},1872:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(120),E=a(84),b=r(a(107)),S=a(62);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var w=m.default.Option,k=function(e){(0,d.default)(a,e);var t=O(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).search=function(e){""===e.target.value?n.props.dispatch((0,g.fetchSucList)(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,g.fetchSucList)(e))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,E.resetIpDetail)())},n.state={checkedJob:{ip:""},conditions:{groupId:n.props.params.id,type:"res",keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.fetchSucList)(this.state.conditions))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.props.lists,n=a.data,r=a.total,o=a.categories,u=this.state,d=u.conditions,f=u.checkedJob,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId),className:"pl20"},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"20%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("resourceClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%"},{title:$.translate("resourceName"),dataIndex:"name",key:"name",width:"20%"},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"20%",render:function(e,t){return function(e){var t=e.imState;return h.default.createElement("span",{className:"table-tag ".concat(S.INREPO_COLOR[t])},$.translate(t))}(t)}}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:d.page,total:r,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.search.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(w,{value:""},$.translate("allType")),_.map(o,(function(e){return h.default.createElement(w,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),h.default.createElement(i.default,{columns:p,rowKey:function(e){return e.id},dataSource:n,pagination:v}),h.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}}]),a}(h.Component),N=(0,v.connect)((function(e){return{lists:e.discoveryJobStatisticsList,detail:e.ipDetail.data}}))(k);t.default=N},1873:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=n(a(0)),m=a(17),h=a(32),v=a(120);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var g=function(e){(0,u.default)(a,e);var t=y(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,v.fetchFailList)(e))},n.state={conditions:{groupId:n.props.params.id,isExported:"false",keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.fetchFailList)(this.state.conditions))}},{key:"search",value:function(e){""===e.target.value?this.props.dispatch((0,v.fetchFailList)(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.lists,a=t.data,n=t.total,r=this.state.conditions,s=[{title:p.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"15%",render:function(e,t){return p.default.createElement(h.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId),className:"pl20"},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"15%"},{title:$.translate("description"),dataIndex:"description",key:"description",width:"70%"}],o={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:r.page,total:n,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(r,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(r,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"widget-filter clearfix"},p.default.createElement("div",{className:"widget-filter-control"},p.default.createElement(i.default,{prefix:p.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.search.bind(this)}))),p.default.createElement(l.default,{columns:s,rowKey:function(e){return e.id},dataSource:a,pagination:o}))}}]),a}(p.Component),E=(0,m.connect)((function(e){return{lists:e.discoveryJobStatisticsList}}))(g);t.default=E},1874:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(120),E=a(84),b=r(a(107));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var O=m.default.Option,w=function(e){(0,d.default)(a,e);var t=S(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,g.fetchSucList)(e))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,E.resetIpDetail)())},n.state={visible:!1,checkedJob:{ip:""},conditions:{groupId:n.props.params.id,type:"repoSuccess",keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.fetchSucList)(this.state.conditions))}},{key:"search",value:function(e){""===e.target.value?this.props.dispatch((0,g.fetchSucList)(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.props.lists,n=a.data,r=a.total,o=a.categories,u=this.state,d=u.conditions,f=u.checkedJob,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId),className:"pl20"},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"20%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"25%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"35%"}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:d.page,total:r,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.search.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(O,{value:""},$.translate("allType")),_.map(o,(function(e){return h.default.createElement(O,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),h.default.createElement(i.default,{columns:p,rowKey:function(e){return e.id},dataSource:n,pagination:v}),h.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}}]),a}(h.Component),k=(0,v.connect)((function(e){return{ciTypies:e.ciTypies.ciFailTypes,lists:e.discoveryJobStatisticsList,detail:e.ipDetail.data}}))(w);t.default=k},1875:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(120),E=a(84),b=r(a(107));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var O=m.default.Option,w=function(e){(0,d.default)(a,e);var t=S(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,g.fetchFailList)(e))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchFailIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,E.resetIpDetail)())},n.state={visible:!1,checkedJob:{ip:""},conditions:{groupId:n.props.params.id,isExported:!0,keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.fetchFailList)(this.state.conditions))}},{key:"search",value:function(e){""===e.target.value?this.props.dispatch((0,g.fetchFailList)(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.state,n=a.conditions,r=a.checkedJob,o=this.props.lists,u=o.data,d=o.total,f=o.categories,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId),className:"pl20"},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"15%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"15%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"20%"},{title:$.translate("description"),dataIndex:"description",key:"description",width:"30%"}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:n.page,total:d,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(n,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(n,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.search.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(n,{ciTypeCode:t,page:1}))}},h.default.createElement(O,{value:""},$.translate("allType")),_.map(f,(function(e){return h.default.createElement(O,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),h.default.createElement(i.default,{columns:p,rowKey:function(e){return e.id},dataSource:u,pagination:v}),h.default.createElement(l.default,{title:r.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}}]),a}(h.Component),k=(0,v.connect)((function(e){return{lists:e.discoveryJobStatisticsList,detail:e.ipDetail.data}}))(w);t.default=k},1876:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(17),y=a(32),g=a(120),E=a(84),b=r(a(107));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var O=m.default.Option,w=function(e){(0,d.default)(a,e);var t=S(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,g.fetchSucList)(e))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,E.fetchIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.disaptch((0,E.resetIpDetail)())},n.state={checkedJob:{ip:""},conditions:{groupId:n.props.params.id,type:"waitToExport",keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,g.fetchSucList)(this.state.conditions))}},{key:"search",value:function(e){""===e.target.value?this.props.dispatch((0,g.fetchSucList)(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,g.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.detail,a=this.props.lists,n=a.data,r=a.total,o=a.categories,u=this.state,d=u.conditions,f=u.checkedJob,p=[{title:h.default.createElement("span",{className:"pl20"},$.translate("taskName")),dataIndex:"jobName",key:"jobName",width:"20%",render:function(e,t){return h.default.createElement(y.Link,{to:"/plugins/".concat(t.groupId,"/jobs/").concat(t.jobId),className:"pl20"},e)}},{title:"IP",dataIndex:"ip",key:"ip",width:"20%",render:function(t,a){return h.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)}},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"25%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"35%"}],v={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:d.page,total:r,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return h.default.createElement("div",{className:"container show"},h.default.createElement("div",{className:"widget-filter clearfix"},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),placeholder:$.translate("wantFindJobNameIP"),className:"search-input",onKeyUp:this.search.bind(this)})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(O,{value:""},$.translate("allType")),_.map(o,(function(e){return h.default.createElement(O,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),h.default.createElement(i.default,{columns:p,rowKey:function(e){return e.id},dataSource:n,pagination:v}),h.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},h.default.createElement(b.default,{data:t})))}}]),a}(h.Component),k=(0,v.connect)((function(e){return{lists:e.discoveryJobStatisticsList,detail:e.ipDetail.data}}))(w);t.default=k},1877:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(104)),c=r(a(170)),s=r(a(61)),o=r(a(26)),u=r(a(24)),d=r(a(31)),f=r(a(19)),p=r(a(10)),m=r(a(44)),h=r(a(12)),v=r(a(13)),y=r(a(16)),g=r(a(14)),E=r(a(15)),b=r(a(25)),S=r(a(127)),O=n(a(0)),w=a(17),k=r(a(107)),N=r(a(1878)),T=r(a(1879)),I=a(49),P=a(105),R=a(131),C=a(84),j=a(329),D=a(470),L=a(222),x=a(469),F=a(212),A=a(62),M=a(53);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,E.default)(e);if(t){var r=(0,E.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,g.default)(this,a)}}var U=S.default.TabPane,V=b.default.Option,K=function(e){(0,y.default)(a,e);var t=z(a);function a(e){var n;return(0,h.default)(this,a),(n=t.call(this,e)).switchCheckResult=function(e){n.setState({showSuccessStatus:e,conditions:{keyword:"",page:1,ciTypeCode:"",size:10}});var t=n.props.params.jobId;n.props.dispatch((0,j.fetchRecordsOfJob)(t)),n.props.dispatch((0,D.fetchFailRecorsdOfJob)(t))},n.changeTab=function(e){"undefined"!==typeof n.refs.configImportResult&&n.refs.configImportResult.clearContent(),n.setState({showSuccessStatus:!0,tabKey:e,conditions:{keyword:"",page:1,size:10,ciTypeCode:""}});var t=n.props.params.jobId;"discovery"===e?n.props.dispatch((0,j.fetchRecordsOfJob)(t)):(n.props.dispatch((0,F.fetchImportFailLogs)(t)),n.props.dispatch((0,F.fetchImportSucLogs)(t)))},n.checkFailLogs=function(){n.setState({failLogsVisible:!0})},n.getSearchValue=function(e){var t=Object.assign({},n.state.conditions,{keyword:e.target.value});n.setState({conditions:t})},n.getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.handleFetchRecords=function(e){var t=n.props.params.jobId;n.state.showSuccessStatus?n.props.dispatch((0,j.fetchRecordsOfJob)(t,e)):n.props.dispatch((0,D.fetchFailRecorsdOfJob)(t,e)),n.setState({conditions:e})},n.checkIsImporting=function(){if(!n.props.isImporting)return n.props.dispatch((0,F.fetchImportFailLogs)(n.props.params.jobId)),n.props.dispatch((0,F.fetchImportSucLogs)(n.props.params.jobId)),n.state.jobType&&("LOCAL_SCAN"===n.state.jobType?n.props.dispatch((0,R.fetchLocalJob)(n.props.params.jobId)):n.props.dispatch((0,R.fetchJob)(n.props.params.jobId))),n.setState({selectIds:[]}),void clearTimeout(n.t);n.props.dispatch((0,x.checkImportingStatus)(n.props.params.jobId)),n.t=setTimeout(n.checkIsImporting,1e3)},n.importToRepo=function(){n.state.selectIds.length?(n.setState({tabKey:"import"}),n.props.dispatch((0,R.resetJob)()),n.props.dispatch((0,x.importJobRecords)(n.props.params.jobId,n.state.selectIds,!1)),setTimeout(n.checkIsImporting,500)):m.default.error($.translate("chooseDiscoveryResult"))},n.importAllPacific=function(){n.setState({tabKey:"import"}),n.props.dispatch((0,R.resetJob)()),n.props.dispatch((0,x.importJobRecords)(n.props.params.jobId,n.state.selectIds,!0)),setTimeout(n.checkIsImporting,500)},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t}),n.props.dispatch((0,C.fetchIpDetail)(t.ciId))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.dispatch((0,C.resetIpDetail)())},n._renderBtnSwitcher=function(){var e=n.props.job,t=n.state.showSuccessStatus;return O.default.createElement("div",{style:{display:"inline-block",marginLeft:20}},O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement("div",{className:"discovery-btn discovery-btn-suc ".concat(t?"discovery-btn-suc-active":""),onClick:function(){return n.switchCheckResult(!0)}},$.translate("discoverySuc"),"\uff08",e.count?e.count.succCount:0,"\uff09")),O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement("div",{className:"discovery-btn discovery-btn-fail ".concat(t?"":"discovery-btn-fail-active"),onClick:function(){return n.switchCheckResult(!1)}},$.translate("discoveryFail"),"\uff08",e.count?e.count.scanFailCount:0,"\uff09")))},n._renderSearch=function(){var e=n.state.conditions;return O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(f.default,{value:e.keyword,prefix:O.default.createElement(p.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onChange:n.getSearchValue,onKeyUp:n.getSearch}))},n._renderSucHeader=function(){var e=n.state.conditions,t=n.props,a=t.categories,r=t.isImporting,l=t.record;return O.default.createElement("div",{className:"clearfix"},n._renderSearch(),O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(b.default,{className:"filter-select",getPopupContainer:function(e){return e},placeholder:$.translate("allType"),value:e.ciTypeCode,onChange:function(t){return n.handleFetchRecords(Object.assign(e,{ciTypeCode:t,page:1}))}},O.default.createElement(V,{value:""},$.translate("allType")),_.map(a,(function(e){return O.default.createElement(V,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)})))),n._renderBtnSwitcher(),O.default.createElement("div",{className:"pull-right"},O.default.createElement(d.default,{loading:r,className:"mr10",disabled:l.data.length<1,type:"primary",onClick:n.importToRepo},$.translate("importPacific")),O.default.createElement(d.default,{loading:r,disabled:l.data.length<1,type:"primary",onClick:n.importAllPacific},$.translate("importAllPacific"))))},n._renderFailHeader=function(){return O.default.createElement("div",{className:"clearfix"},n._renderSearch(),O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement("div",null,"\xa0")),n._renderBtnSwitcher())},n._renderHeader=function(){return O.default.createElement("div",{className:"widget-filter"},n.state.showSuccessStatus?n._renderSucHeader():n._renderFailHeader())},n.getPagination=function(){var e=n.props,t=e.record,a=e.failRecord,r=n.state,l=r.conditions,i=r.showSuccessStatus?t.total:a.total;return{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:l.page,total:i,pageSize:l.size,onShowSizeChange:function(e,t){return n.handleFetchRecords(Object.assign(l,{size:t,page:1}))},onChange:function(e){return n.handleFetchRecords(G(G({},l),{},{page:e}))},showTotal:function(e){return $.translate("total",{total:e})}}},n._renderSucTable=function(){var e=n.props.record.data,t=n.props,a=t.isImporting,r=t.importStatus,l=t.importSucIds,i=t.importFailIds,u=[{title:O.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"25%",render:function(e,t){return O.default.createElement("a",{onClick:function(e){return n.checkDetail(e,t)},className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"25%"},{title:$.translate("name"),dataIndex:"name",key:"name",width:"25%"},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"25%",sorter:function(){},render:function(e,t){return function(e){var t=e.id,n=e.imState;return a||"START"===r.status?l.indexOf(t)>-1?O.default.createElement("span",{className:"table-tag table-tag-green"},$.translate("EXPORTED")):i.indexOf(t)>-1?O.default.createElement("span",{className:"table-tag table-tag-red"},$.translate("FAIL")):O.default.createElement("span",{className:"table-tag table-tag-yellow"},$.translate("WAIT_TO_IMPORT")):O.default.createElement("span",{className:"table-tag ".concat(A.INREPO_COLOR[n])},$.translate(n))}(t)}}],d=n.getPagination(),f={selectedRowKeys:n.state.selectIds,onChange:function(e){n.setState({selectIds:e})}};return O.default.createElement("div",null,O.default.createElement(o.default,{className:"widget-filter-result",rowKey:function(e){return e.id},pagination:!1,rowSelection:f,columns:u,dataSource:e,onChange:function(e,t,a){var r=n.state.conditions;if(r["imState.dir"]!==a.order){var l=G(G({},r),{},{page:1,sort:"imState","imState.dir":{ascend:"ASC",descend:"DESC"}[a.order]||""});n.handleFetchRecords(l)}}}),O.default.createElement(c.default,(0,s.default)({className:"pull-right mt20"},d)))},n._renderFailTable=function(){var e=n.props.failRecord.data,t=n.getPagination(),a=[{title:O.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"30%",render:function(e,t){return O.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("description"),dataIndex:"description",key:"description",width:"70%"}];return O.default.createElement("div",null,O.default.createElement(o.default,{className:"widget-filter-result",rowKey:function(e){return e.id},pagination:!1,columns:a,dataSource:e}),O.default.createElement(c.default,(0,s.default)({className:"pull-right mt20"},t)))},n._renderTable=function(){return n.state.showSuccessStatus?n._renderSucTable():n._renderFailTable()},n._renderProgress=function(){return O.default.createElement(i.default,{showInfo:!1,status:"active",strokeWidth:3,percent:n.props.importStatus.percent})},n._renderDiscoveryResult=function(){return O.default.createElement("main",null,n._renderProgress(),n._renderHeader(),n._renderTable())},n.t=setTimeout(null),n.state={visible:!1,failLogsVisible:!1,tabKey:"discovery",showSuccessStatus:!0,checkedJob:{ip:""},selectIds:[],conditions:{keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,v.default)(a,[{key:"render",value:function(){var e=this.props,t=e.job,a=e.isImporting,n=e.importStatus,r=e.importSuc,i=e.importFail;return O.default.createElement("div",{className:"container show"},O.default.createElement("div",{className:"overview-title"},$.translate("recentlyDiscover"),"\uff1a",t.lastEndAt),O.default.createElement("div",{className:"check-result"},O.default.createElement(S.default,{defaultActiveKey:"discovery",activeKey:this.state.tabKey,onChange:this.changeTab},O.default.createElement(U,{tab:$.translate("discoverResult"),key:"discovery"},this._renderDiscoveryResult()),O.default.createElement(U,{tab:$.translate("configImportResult"),key:"import"},this._renderProgress(),t.imported||a||100===n.percent?O.default.createElement(N.default,{ref:"configImportResult",jobId:this.props.params.jobId,importSuc:r,importFail:i,successLogsTotal:t.count.rsImSuccCount,failLogsTotal:t.count.rsImFailCount,isImporting:a,dispatch:this.props.dispatch}):O.default.createElement("div",{className:"no-data"},O.default.createElement("p",null,$.translate("noDataNeedToImport")))),O.default.createElement(U,{tab:$.translate("discoveryLog"),key:"log"},O.default.createElement(T.default,{jobId:this.props.params.jobId})))),O.default.createElement(l.default,{title:this.state.checkedJob.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},O.default.createElement(k.default,null)))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.params,a=t.id,n=t.jobId;this.props.dispatch((0,L.fetchStatisticOfDiscoveryJob)(a,(function(t){e.setState({jobType:t.data.jobType}),t.data.jobType&&("DEEP_SCAN"===t.data.jobType?e.props.dispatch((0,R.fetchJob)(n)):e.props.dispatch((0,R.fetchLocalJob)(n)))}))),this.props.dispatch((0,j.fetchRecordsOfJob)(n)),this.props.dispatch((0,P.fetchCategory)(n)),this.props.dispatch((0,D.fetchFailRecorsdOfJob)(n)),this.props.dispatch((0,x.checkImportingStatus)(n)),this.props.dispatch((0,F.fetchImportFailLogs)(n)),this.props.dispatch((0,F.fetchImportSucLogs)(n)),setTimeout(this.checkIsImporting,200)}},{key:"componentWillReceiveProps",value:function(e){var t="DEEP_SCAN"===e.statistic.jobType?$.translate("discoveryScript"):$.translate("localDiscoveryScript"),a="DEEP_SCAN"===e.statistic.jobType?"plugins":"plugins/local/task",n="DEEP_SCAN"===e.statistic.jobType?"/plugins/".concat(e.statistic.groupId,"/jobs"):"/plugins/local/".concat(e.statistic.groupId,"/jobs"),r=[{name:$.translate("discovery")},{name:t,url:a},{name:e.statistic.groupName,url:n},{name:e.job.name}];this.props.dispatch((0,I.setBreadcrumb)(r))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,j.resetRecordsOfJob)()),this.props.dispatch({type:M.GET_IMPORTING_STATUS,payload:{successIds:[],sucLog:{successLogs:[]},failIds:[],failLog:{failLogs:[]},status:{percent:0,status:""},isImporting:!1}}),clearTimeout(this.t)}}]),a}(O.Component),W=(0,w.connect)((function(e){return{job:e.pluginJob.data,record:e.jobRecord,failRecord:e.jobFailRecord,categories:e.plugins.category,statistic:e.discoveryJobStatistics.data,isImporting:e.importRepo.isImporting,importSucIds:e.importRepo.successIds,importSuc:e.importRepo.sucLog,importFailIds:e.importRepo.failIds,importFail:e.importRepo.failLog,importStatus:e.importRepo.status}}))(K);t.default=W},1878:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(168)),c=r(a(26)),s=r(a(19)),o=r(a(10)),u=r(a(12)),d=r(a(13)),f=r(a(16)),p=r(a(14)),m=r(a(15)),h=r(a(25)),v=n(a(0)),y=r(a(107)),g=a(84),E=a(212);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var r=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var S=h.default.Option,O=function(e){(0,f.default)(a,e);var t=b(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).getSearchValue=function(e){var t=Object.assign({},n.state.conditions,{keyword:e.target.value});n.setState({conditions:t})},n.clearContent=function(){n.setState({statusResult:"suc",conditions:{keyword:"",page:1,ciTypeCode:"",size:10}})},n.getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.statusResult=function(e){n.setState({statusResult:e,conditions:{keyword:"",page:1,ciTypeCode:"",size:10}}),n.props.dispatch((0,E.fetchImportSucLogs)(n.props.jobId)),n.props.dispatch((0,E.fetchImportFailLogs)(n.props.jobId))},n.fetchTreeData=function(){var e=n.state,t=e.statusResult,a=e.checkedJob;"suc"===t?n.props.dispatch((0,g.fetchIpDetail)(a.ciId)):n.props.dispatch((0,g.fetchFailIpDetail)(a.ciId))},n.checkDetail=function(e,t){e.preventDefault(),n.setState({visible:!0,checkedJob:t},(function(){n.fetchTreeData()}))},n.handleCancel=function(){n.setState({visible:!1,checkedJob:{ip:""}}),n.props.disaptch((0,g.resetIpDetail)())},n.handleFetchRecords=function(e){n.setState({conditions:e}),"suc"===n.state.statusResult?n.props.dispatch((0,E.fetchImportSucLogs)(n.props.jobId,e)):n.props.dispatch((0,E.fetchImportFailLogs)(n.props.jobId,e))},n.t=setTimeout(null),n.state={statusResult:"suc",successLogs:[],checkedJob:{ip:""},detail:{},conditions:{keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,d.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isImporting,n=t.successLogsTotal,r=t.failLogsTotal,u=t.importSuc,d=t.importFail,f=this.state,p=f.conditions,m=f.checkedJob,g=[{title:v.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"35%",render:function(t,a){return v.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)},className:"pl20"},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"30%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"35%"}],E=[{title:v.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"ip",key:"ip",width:"20%",render:function(t,a){return v.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)},className:"pl20"},t)}},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"20%"},{title:$.translate("configName"),dataIndex:"name",key:"name",width:"20%"},{title:$.translate("description"),dataIndex:"description",key:"description",width:"20%"}],b=u.total>0&&{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:p.page,total:u.total,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(p,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(p,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}},O=d.total>0&&{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:p.page,total:d.total,pageSize:this.state.conditions.size,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(p,{size:a}))},onChange:function(t){return e.handleFetchRecords(Object.assign(p,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}},w="suc"===this.state.statusResult?u.sucCiTypes:d.failCiTypes;return v.default.createElement("div",null,v.default.createElement(i.default,{spinning:a,tip:$.translate("systemImporting")},v.default.createElement("div",{className:"widget-filter clearfix",style:{marginTop:-15}},v.default.createElement("div",{className:"widget-filter-control"},v.default.createElement(s.default,{prefix:v.default.createElement(o.default,{type:"search"}),value:p.keyword,placeholder:$.translate("keywordWantFindConfigName"),className:"search-input",onChange:this.getSearchValue,onKeyUp:this.getSearch})),v.default.createElement("div",{className:"widget-filter-control"},v.default.createElement(h.default,{className:"filter-select",getPopupContainer:function(e){return e},value:p.ciTypeCode,placeholder:$.translate("allType"),notFoundContent:$.translate("noData"),onChange:function(t){return e.handleFetchRecords(Object.assign(p,{ciTypeCode:t,page:1}))}},v.default.createElement(S,{value:""},$.translate("allType")),_.map(w,(function(e){return v.default.createElement(S,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)})))),v.default.createElement("div",{className:"widget-filter-control"},v.default.createElement("div",{className:"suc"===this.state.statusResult?"discovery-btn discovery-btn-suc discovery-btn-suc-active":"discovery-btn discovery-btn-suc",onClick:function(){return e.statusResult("suc")}},$.translate("importSuc"),"\uff08",a?u.successLogs.length:n,"\uff09")),v.default.createElement("div",{className:"widget-filter-control"},v.default.createElement("div",{className:"fail"===this.state.statusResult?"discovery-btn discovery-btn-fail discovery-btn-fail-active":"discovery-btn discovery-btn-fail",onClick:function(){return e.statusResult("fail")}},$.translate("importFail"),"\uff08",a?d.failLogs.length:r,"\uff09"))),"suc"===this.state.statusResult?v.default.createElement(c.default,{className:"widget-filter-result",columns:g,pagination:b,dataSource:u.successLogs,rowKey:function(e){return e.id}}):v.default.createElement(c.default,{className:"widget-filter-result",columns:E,pagination:O,dataSource:d.failLogs,rowKey:function(e){return e.id}})),v.default.createElement(l.default,{title:m.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},v.default.createElement(y.default,null)))}}]),a}(v.Component);t.default=O},1879:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(62),y=a(178);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,y.fetchLog)(n.props.jobId,e))},n.state={conditions:{keyword:"",page:1,size:10,logLevel:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.fetchLog)(this.props.jobId))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"render",value:function(){var e=this,t=this.state.conditions,a=this.props.log,n=a.data,r=a.total,s=a.elapseTime,o=[{title:m.default.createElement("span",{className:"pl20"},$.translate("time")),dataIndex:"createdAt",key:"createdAt",width:"30%",render:function(e){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("level"),dataIndex:"logLevel",key:"logLevel",width:"20%"},{title:$.translate("content"),dataIndex:"description",key:"description",width:"50%"}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:t.page,total:r,pageSize:this.state.conditions.size,onShowSizeChange:function(a,n){return e.handleFetchRecords(Object.assign(t,{size:n,page:1}))},onChange:function(a){return e.handleFetchRecords(Object.assign(t,{page:a}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("keywordWantFind"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{className:"filter-select",getPopupContainer:function(e){return e},placeholder:$.translate("allLevel"),notFoundContent:$.translate("noData"),onChange:function(a){return e.handleFetchRecords(Object.assign(t,{logLevel:a,page:1}))}},m.default.createElement(E,{value:""},$.translate("allLevel")),_.map(v.LOG_LEVEL,(function(e){return m.default.createElement(E,{key:e,value:$.translate(e)},$.translate(e))})))),m.default.createElement("div",{className:"pull-right",style:{lineHeight:"30px"}},m.default.createElement("span",null,$.translate("elapsedTime"),"\uff1a",s)))),m.default.createElement(l.default,{className:"widget-filter-result",columns:o,pagination:u,dataSource:n,rowKey:function(e){return e.id}}))}}]),a}(m.Component),S=(0,h.connect)((function(e){return{log:e.log}}))(b);t.default=S},1880:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(24)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=n(a(0)),f=a(17),p=r(a(791)),m=a(49),h=a(105),v=a(131),y=r(a(728));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var S=function(e){(0,s.default)(a,e);var t=b(a);function a(e){var n;return(0,i.default)(this,a),(n=t.call(this,e)).handleSubmit=function(e){n.props.dispatch((0,v.createPluginJob)(e))},n.handleCancel=function(){n.setState({visible:!1})},n.handleSelectScriptFile=function(e){n.props.dispatch({type:"SET_CURRENT_SCRIPT_FILE",payload:e}),n.props.dispatch((0,h.fetchSNMPParamGroup)({id:e.id,page:1,size:10})),n.setState({visible:!1})},n.state={visible:!1},n}return(0,c.default)(a,[{key:"componentWillReceiveProps",value:function(e){var t,a=e.params.id,n=e.scriptFile.scriptGroupName,r={name:$.translate("discoveryScript"),url:"/plugins"};_.includes(this.props.location.search,"local")&&(r={name:$.translate("localDiscoveryScript"),url:"/plugins/local/task"}),t=a?[{name:$.translate("discovery")},E({},r),{name:n,url:"/plugins/".concat(a,"/jobs")},{name:$.translate("addTask")}]:[{name:$.translate("discovery")},E({},r),{name:n},{name:$.translate("addTask")}],this.props.dispatch((0,m.setBreadcrumb)(t))}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=this.props.params.scriptFileId;t&&this.props.dispatch((0,h.fetchNewScriptFile)(t)),e&&this.props.dispatch((0,h.fetchScriptFileByGroupId)(e))}},{key:"render",value:function(){var e=this.props,t=e.scriptFiles,a=e.scriptFile;return d.default.createElement("div",{className:"container"},d.default.createElement(p.default,{title:a.alias,groupId:this.props.params.id,submit:this.handleSubmit}),d.default.createElement(y.default,{visible:this.state.visible,onCancel:this.handleCancel,scriptFiles:t,redirectTo:this.handleSelectScriptFile}))}}]),a}(d.Component),O=(0,f.connect)((function(e){return{scriptFile:e.plugins.scriptFile,scriptFiles:e.plugins.scriptFiles}}))(S);t.default=O},1897:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getProgress=void 0;var r=n(a(23));t.getProgress=function(e){return{ajax:{type:"GET",url:r.default.upload_status(e)}}}},1898:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(1899),y=a(465);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.setSearchConditions(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.setSearchConditions=function(e){n.setState({conditions:e}),n.props.dispatch((0,v.fetchIPs)(e))},n.state={conditions:{page:1,keyword:"",ciTypeCode:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.fetchCiTypies)()),this.props.dispatch((0,v.fetchIPs)())}},{key:"render",value:function(){var e=this,t=this.props,a=t.ciTypies,n=t.ips,r=t.ipTags,s=this.state.conditions,o=[{title:$.translate("ipAddress"),dataIndex:"ip",key:"ip"},{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName"}],u={onSelect:function(t,a){a?e.props.onAddIps([t.ip]):e.props.onRemoveIps([t.ip])},onSelectAll:function(t,a,n){var r=[];_.map(n,(function(e){r.push(e.ip)})),t?e.props.onAddIps(r):e.props.onRemoveIps(r)},selectedRowKeys:r},d=n.total>0&&{showQuickJumper:!0,current:this.state.conditions.page||1,total:n.total,onChange:function(t){return e.setSearchConditions(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",null,m.default.createElement("div",{className:"widget-filter clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onKeyUp:this.getSearch})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{defaultValue:"",getPopupContainer:function(e){return e},className:"filter-select",onChange:function(t){return e.setSearchConditions(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(E,{value:""},$.translate("allConfigClass")),_.map(a,(function(e){return m.default.createElement(E,{key:e.code,value:e.code},e.name)}))))),m.default.createElement(l.default,{rowKey:function(e){return e.ip},columns:o,pagination:d,rowSelection:u,dataSource:this.props.ips.data}))}}]),a}(m.Component),S=(0,h.connect)((function(e){return{ips:e.ips,ciTypies:e.ciTypies.ciTypes}}))(b);t.default=S},1899:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchIPs=void 0;var r=n(a(23)),l=a(53);t.fetchIPs=function(e){return function(t){return $.get(r.default.ips,e,(function(e){t({type:l.GET_IPS,payload:{data:e.elements,total:e.totalElementsNum}})}))}}},1900:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=r(a(791)),p=a(49),m=a(105),h=a(131);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(a,e);var t=v(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.groupId=e.props.params.id,t.id=e.props.params.jobId,e.props.dispatch((0,h.updatePluginJob)(t))},e}return(0,i.default)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.params.id,a=e.scriptFile.alias,n=[{name:$.translate("discovery")},{name:$.translate("discoveryScript"),url:"/plugins"},{name:a,url:"/plugins/".concat(t,"/jobs")},{name:$.translate("edit")+e.job.name}];this.props.dispatch((0,p.setBreadcrumb)(n))}},{key:"componentDidMount",value:function(){this.props.dispatch((0,h.fetchJob)(this.props.params.jobId)),this.props.dispatch((0,m.fetchScriptFileByGroupId)(this.props.params.id))}},{key:"render",value:function(){return u.default.createElement("div",{className:"container"},u.default.createElement(f.default,{id:this.props.params.jobId,groupId:this.props.params.id,title:this.props.scriptFile.alias,job:this.props.job,submit:this.handleSubmit}))}}]),a}(u.Component),g=(0,d.connect)((function(e){return{scriptFile:e.plugins.scriptFile,job:e.pluginJob.data}}))(y);t.default=g},1901:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(104)),c=r(a(31)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=n(a(0)),m=a(17),h=a(32),v=a(49),y=a(178),g=a(350),E=a(131),b=a(222);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var O=function(e){(0,u.default)(a,e);var t=S(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={jobType:""},e.checkIsImporting=function(){var t=e.props.params,a=t.id,n=t.jobId;e.props.dispatch((0,y.fetchLog)(n)).then((function(t){"WAIT"!==t.status&&"DONE"!==t.status||(h.hashHistory.push("plugins/".concat(a,"/jobs/").concat(n)),e.props.dispatch((0,y.resetLog)()),clearTimeout(e.t))})),e.t=setTimeout(e.checkIsImporting,2e3)},e.stopScan=function(){var t=e.props.params,a=t.id,n=t.jobId;e.props.dispatch((0,g.stopDiscovery)("",n)),h.hashHistory.push("plugins/".concat(a,"/jobs/").concat(n))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.params,a=t.jobId,n=t.id;this.props.dispatch((0,b.fetchStatisticOfDiscoveryJob)(n,(function(t){e.setState({jobType:t.data.jobType}),"LOCAL_SCAN"===t.data.jobType?e.props.dispatch((0,E.fetchLocalJob)(a)):e.props.dispatch((0,E.fetchJob)(a))}))),this.checkIsImporting()}},{key:"componentWillReceiveProps",value:function(e){var t="DEEP_SCAN"===e.statistic.jobType?"/plugins/".concat(e.statistic.groupId,"/jobs"):"/plugins/local/".concat(e.statistic.groupId,"/jobs"),a=[{name:$.translate("discovery"),url:"/plugins"},{name:e.statistic.groupName,url:t},{name:e.job.name}];this.props.dispatch((0,v.setBreadcrumb)(a))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t),this.props.dispatch((0,E.resetJob)())}},{key:"render",value:function(){var e=this.props.log,t=e.data,a=e.elapseTime,n=e.percent,r=[{title:p.default.createElement("span",{className:"pl20"},$.translate("time")),dataIndex:"createdAt",key:"createdAt",width:"30%",render:function(e){return p.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("level"),dataIndex:"logLevel",key:"logLevel",width:"20%"},{title:$.translate("content"),dataIndex:"description",key:"description",width:"50%"}];return p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"widget-filter"},p.default.createElement("div",{className:"clearfix "},p.default.createElement("div",{className:"widget-filter-control lh30"},$.translate("discoveryLog")),p.default.createElement("div",{className:"pull-right lh30"},p.default.createElement(c.default,{type:"primary",onClick:this.stopScan},$.translate("cancelDiscovery"))),p.default.createElement("div",{className:"pull-right mr30 lh30"},p.default.createElement("span",null,$.translate("elapsedTime"),"\uff1a",a)))),p.default.createElement(i.default,{percent:n,showInfo:!1,status:"active",strokeWidth:3}),p.default.createElement(l.default,{style:{marginTop:"-14px"},className:"widget-filter-result",columns:r,pagination:!1,dataSource:t,rowKey:function(e){return e.id}}))}}]),a}(p.Component),w=(0,m.connect)((function(e){return{job:e.pluginJob.data,statistic:e.discoveryJobStatistics.data,log:e.log}}))(O);t.default=w},1902:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(146)),c=r(a(61)),s=r(a(170)),o=r(a(315)),u=r(a(104)),d=r(a(31)),f=r(a(19)),p=r(a(10)),m=r(a(59)),h=r(a(12)),v=r(a(13)),y=r(a(16)),g=r(a(14)),E=r(a(15)),b=r(a(76)),S=r(a(25)),O=n(a(0)),w=a(17),k=a(32),N=a(105),T=a(131),I=a(350),P=a(472),R=a(500),C=a(62);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,E.default)(e);if(t){var r=(0,E.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,g.default)(this,a)}}var D=S.default.Option,L=b.default.Item,x=function(e){(0,y.default)(a,e);var t=j(a);function a(){var e;(0,h.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,checkLog:!1,checkedJob:{lastStartAt:"",ips:[],intervalType:"",status:""},conditions:{keyword:e.props.location.query.keyword||"",page:1,size:e.props.location.query.size||10,ciTypeCode:""}},e.refreshData=function(){var t=e.props.params.id;e.props.location.pathname.indexOf("local")<0||(e.props.dispatch((0,R.fetchLocalJobListOfPlugin)(t,e.props.location.query||"")),e.props.dispatch((0,P.fetchLocalPluginList)())),e.t=setTimeout(e.refreshData,1e4)},e.getSearch=function(t){if(""===t.target.value){var a=e.state.conditions,n="page=".concat(a.page);a.status&&(n+="&status=".concat(a.status)),a.size&&(n+="&size=".concat(a.size)),k.hashHistory.replace("plugins/local/".concat(e.props.params.id,"/jobs?").concat(n))}else 13===t.keyCode&&""!==$.trim(t.target.value)&&e.handleFetchJobs(Object.assign(e.state.conditions,{keyword:t.target.value,page:1}))},e.handleFetchJobs=function(t){e.setState({conditions:t});var a="page=".concat(t.page);t.keyword&&(a+="&keyword=".concat(t.keyword)),t.status&&(a+="&status=".concat(t.status)),t.size&&(a+="&size=".concat(t.size)),k.hashHistory.replace("plugins/local/".concat(e.props.params.id,"/jobs?").concat(a))},e.showSideModal=function(t){e.props.dispatch((0,T.fetchLocalJob)(t.id)).then((function(t){e.setState({visible:!0,checkedJob:t})})),e.props.dispatch((0,N.fetchCategory)(t.id))},e.handleCancel=function(){e.setState({visible:!1,checkedJob:{lastStartAt:"",ips:[],intervalType:"",status:""}})},e.handleRemove=function(t){m.default.confirm({title:$.translate("deleteTask"),content:O.default.createElement("div",null,O.default.createElement("p",null,$.translate("makeSureDelete")+t.name+$.translate("task")),O.default.createElement("p",null,$.translate("scanResultAlsoDeleted"))),okText:$.translate("ok"),cancelText:$.translate("cancel"),onOk:function(){e.setState({visible:!1,checkedJob:{lastStartAt:"",ips:[],intervalType:"",status:""}}),e.props.dispatch((0,T.removeLocalPluginJob)(e.props.params.id,t.id,e.props.location.query))}})},e.redirectToEditJob=function(t){k.hashHistory.push("plugins/local/".concat(e.props.params.id,"/jobs/").concat(t.id,"/edit"))},e.beginDiscovery=function(t){e.props.dispatch((0,I.beginDiscovery)(e.props.params.id,t.id,e.props.location.query)).then((function(){e.setState({checkLog:!1})})),e.setState({checkLog:!0})},e.stopDiscovery=function(t){e.props.dispatch((0,I.stopDiscovery)(e.props.params.id,t.id,e.props.location.query)),e.setState({checkLog:!1})},e.redirectToResult=function(t){k.hashHistory.push("plugins/".concat(e.props.params.id,"/jobs/").concat(t))},e}return(0,v.default)(a,[{key:"componentWillReceiveProps",value:function(e){if(e.location.search!==this.props.location.search){var t=e.location.query;this.setState({conditions:t}),this.props.dispatch((0,R.fetchLocalJobListOfPlugin)(e.params.id,t))}}},{key:"componentDidMount",value:function(){if(this.props.location.search){var e=this.props.location.query;this.setState({conditions:e})}this.refreshData()}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,R.resetLocalJobListOfPlugin)()),clearTimeout(this.t)}},{key:"render",value:function(){var e=this,t=this.props.categories,a=this.props.jobs,n=a.data,r=a.total,m=this.state,h=m.checkedJob,v=m.conditions,y=m.checkLog,g={labelCol:{span:5},wrapperCol:{span:18}};return O.default.createElement("div",{className:"container"},O.default.createElement("div",{className:"widget-filter mt10 clearfix"},O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(f.default,{prefix:O.default.createElement(p.default,{type:"search"}),placeholder:$.translate("keywordWantFindJobName"),className:"search-input",defaultValue:this.state.conditions.keyword,onKeyUp:this.getSearch})),O.default.createElement("div",{className:"widget-filter-control"},O.default.createElement(S.default,{value:v.status||"",className:"filter-select",onChange:function(t){return e.handleFetchJobs(Object.assign(v,{status:t,page:1}))}},O.default.createElement(D,{value:""},$.translate("allState")),_.map(C.JOB_STATUS,(function(e){return O.default.createElement(D,{key:e,value:e},$.translate(e))})))),O.default.createElement(k.Link,{to:"/plugins/local/".concat(this.props.params.id,"/jobs/new")},O.default.createElement(d.default,{className:"pull-right",type:"primary"},O.default.createElement(p.default,{type:"plus"}),$.translate("addTask")))),O.default.createElement("table",{className:"task-table"},O.default.createElement("thead",null,O.default.createElement("tr",null,O.default.createElement("td",{width:"15%"},$.translate("taskName")),O.default.createElement("td",{width:"15%"},$.translate("recentlyFoundStartTime")),O.default.createElement("td",{width:"10%"},$.translate("taskStrategy")),O.default.createElement("td",{width:"10%"},$.translate("status")),O.default.createElement("td",{width:"20%"},$.translate("recentlyFoundSEndTime")),O.default.createElement("td",{width:"12%"},$.translate("recentlyEnd")),O.default.createElement("td",{width:"18%"},$.translate("operation")))),_.map(n,(function(t){return O.default.createElement("tbody",{key:t.id},O.default.createElement("tr",{className:"separation-row"},O.default.createElement("td",{colSpan:"7"})),O.default.createElement("tr",{className:"content-row"},O.default.createElement("td",null,O.default.createElement("a",{className:"task-name",onClick:function(){return e.showSideModal(t)}},t.name)),O.default.createElement("td",null,t.lastStartAt),O.default.createElement("td",null,$.translate(t.intervalType)),O.default.createElement("td",null,$.translate(t.status)),O.default.createElement("td",null,"START"===t.status?O.default.createElement("div",{className:"table-progress"},O.default.createElement(u.default,{percent:t.percent,status:"active",strokeWidth:5})):t.lastEndAt),O.default.createElement("td",null,"START"===t.status?O.default.createElement(k.Link,{to:"/plugins/".concat(e.props.params.id,"/log/").concat(t.id)},O.default.createElement(d.default,{size:"small",type:"primary",disabled:!t.lastStartAt},$.translate("detail"))):O.default.createElement(k.Link,{to:"/plugins/".concat(e.props.params.id,"/jobs/").concat(t.id)},O.default.createElement(d.default,{size:"small",type:"primary",disabled:!t.lastEndAt||y},$.translate("detail")))),O.default.createElement("td",null,"START"===t.status?O.default.createElement(o.default,{placement:"bottom",title:$.translate("stopDiscoveryTaskImmediately"),onConfirm:function(){return e.stopDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},O.default.createElement("div",null,O.default.createElement(d.default,{size:"small",type:"wait",style:{width:"75%"}},$.translate("cancelExecute")))):O.default.createElement("div",null,O.default.createElement(o.default,{placement:"bottomRight",title:$.translate("discoveryTaskImmediately"),onConfirm:function(){return e.beginDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},O.default.createElement("div",{style:{display:"inline-block",marginRight:10}},O.default.createElement(d.default,{size:"small",type:"primary",disabled:"START"===t.status},$.translate("begin")))),O.default.createElement(d.default,{size:"small",type:"success",disabled:"START"===t.status,onClick:function(){return e.redirectToEditJob(t)}},$.translate("edit")),O.default.createElement(d.default,{size:"small",type:"error",disabled:"START"===t.status,onClick:function(){return e.handleRemove(t)}},$.translate("delete"))))))}))),r>0?O.default.createElement("div",{className:"mt20 clearfix"},O.default.createElement(s.default,{className:"pull-right",total:r,showQuickJumper:!0,current:+v.page||1,onChange:function(t){return e.handleFetchJobs(Object.assign(v,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})},showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],pageSize:Number(this.state.conditions.size),onShowSizeChange:function(t,a){return e.handleFetchJobs(Object.assign(v,{page:1,size:a}))}})):null,O.default.createElement(l.default,{title:h.name,width:"600",visible:this.state.visible,onClose:this.handleCancel},O.default.createElement("div",{className:"scan-modal"},O.default.createElement("div",{className:"scan-modal-action"},O.default.createElement(d.default,{onClick:function(){return e.redirectToResult(h.id)},type:"primary",disabled:!h.lastEndAt},$.translate("detail")),O.default.createElement(d.default,{type:"suc",onClick:function(){return e.redirectToEditJob(h)},disabled:"START"===h.status},$.translate("edit")),O.default.createElement(d.default,{type:"danger",disabled:"START"===h.status,onClick:function(){return e.handleRemove(h)}},$.translate("delete"))),O.default.createElement(b.default,{className:"scan-modal-inner-block"},O.default.createElement(L,(0,c.default)({},g,{label:$.translate("recentlyStartTime")}),O.default.createElement("p",{className:"ant-form-text"},h.lastStartAt)),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("effectNumIP")}),O.default.createElement("p",{className:"ant-form-text"},h.ips.length)),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("discoverIP")}),O.default.createElement("div",{className:"ant-form-text"},_.map(h.ips,(function(e){return O.default.createElement(i.default,{key:e},e," ")})))),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("taskStrategy")}),O.default.createElement("p",{className:"ant-form-text"},$.translate(h.intervalType))),O.default.createElement(L,(0,c.default)({},g,{label:$.translate("status")}),O.default.createElement("p",{className:"ant-form-text"},$.translate(h.status)))),O.default.createElement(b.default,{className:"scan-modal-inner-block"},O.default.createElement(L,(0,c.default)({},g,{label:$.translate("recentDiscoverResults")}),O.default.createElement("p",{className:"ant-form-text"},h.lastEndAt)),O.default.createElement(L,null,O.default.createElement("ul",null,_.map(t,(function(e,t){if(e.count)return O.default.createElement("li",{key:e.ciTypeCode+t,className:"widget-block-item"},O.default.createElement("h5",{title:e.count},e.count),O.default.createElement("span",{title:e.ciTypeName},e.ciTypeName))}))))))))}}]),a}(O.PureComponent),F=(0,w.connect)((function(e){return{jobs:e.localPluginJobList,categories:e.plugins.category}}))(x);t.default=F},1903:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(24)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=n(a(0)),f=a(17),p=r(a(797)),m=a(49),h=a(131),v=a(105);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var b=function(e){(0,s.default)(a,e);var t=E(a);function a(){var e;(0,i.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).groupExist=function(){return!_.includes(e.props.location.search,"groupUnexist")},e.handleSubmit=function(t){e.groupExist()&&(t.groupId=e.props.params.id),t.scriptId=e.props.scriptFile.scriptId,e.props.dispatch((0,h.createLocalPluginJob)(t))},e}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.params.id;this.groupExist()?e&&this.props.dispatch((0,v.fetchScriptFileByGroupId)(e)):this.props.dispatch((0,v.fetchNewScriptFile)(e))}},{key:"componentWillReceiveProps",value:function(e){var t={name:e.scriptFile.scriptGroupName,url:"/plugins/local/".concat(e.routeParams.id,"/jobs")};this.groupExist()||delete t.url;var a=[{name:$.translate("discovery")},{name:$.translate("localDiscoveryScript"),url:"/plugins/local/task"},g({},t),{name:$.translate("addTask")}];this.props.dispatch((0,m.setBreadcrumb)(a))}},{key:"render",value:function(){var e=this.groupExist()?this.props.params.id:null;return d.default.createElement("div",{className:"container"},d.default.createElement(p.default,{groupId:e,submit:this.handleSubmit}))}}]),a}(d.Component),S=(0,f.connect)((function(e){return{scriptFile:e.plugins.scriptFile}}))(b);t.default=S},1904:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(798);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var g=p.default.Option,E=function(e){(0,u.default)(a,e);var t=y(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.setSearchConditions(Object.assign(n.state.conditions,{condition:e.target.value,page:1,size:n.state.conditions.size}))},n.setSearchConditions=function(e){n.setState({conditions:e}),n.props.dispatch((0,v.fetchAgents)(e))},n.state={conditions:{page:1,condition:"",code:"",size:10}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.fetchCiTypies)()),this.props.dispatch((0,v.fetchAgents)())}},{key:"render",value:function(){var e=this,t=this.props,a=t.agents,n=t.ipTags,r=a.ciTypies,s=this.state.conditions,o=[{title:$.translate("configClass"),dataIndex:"codeName",key:"codeName"},{title:$.translate("nodeName"),dataIndex:"agentName",key:"agentName"},{title:"IP",dataIndex:"ip",key:"ip"}],u={onSelect:function(t,a){a?e.props.onAddIps([t]):e.props.onRemoveIps([t])},onSelectAll:function(t,a,n){var r=[];_.map(n,(function(e){r.push(e)})),t?e.props.onAddIps(r):e.props.onRemoveIps(r)},selectedRowKeys:_.map(n,(function(e){return e.agentId}))},d=a.total>0&&{showQuickJumper:!0,current:this.state.conditions.page||1,total:a.total||1e3,pageSize:this.state.conditions.size||10,showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{style:{width:446}},m.default.createElement("div",{className:"widget-filter clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onKeyUp:this.getSearch})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{defaultValue:"",getPopupContainer:function(e){return e},className:"filter-select",onChange:function(t){return e.setSearchConditions(Object.assign(s,{code:t,page:1,size:e.state.conditions.size}))}},m.default.createElement(g,{value:""},$.translate("allConfigClass")),_.map(r,(function(e){return m.default.createElement(g,{key:e.code,value:e.code},e.name)}))))),m.default.createElement(l.default,{rowKey:function(e){return e.agentId},columns:o,pagination:d,rowSelection:u,onChange:function(t){e.state.conditions.page=t.current,e.state.conditions.size=t.pageSize,e.setSearchConditions(Object.assign(s,{page:t.current,size:t.pageSize}))},dataSource:this.props.agents.data}))}}]),a}(m.Component),b=(0,h.connect)((function(e){return{agents:e.localAgent}}))(E);t.default=b},1905:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=r(a(797)),p=a(49),m=a(131),h=a(105);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(a,e);var t=v(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.groupId=e.props.params.id,t.id=e.props.params.jobId,t.scriptId=e.props.scriptFile.scriptId,e.props.dispatch((0,m.updateLocalPluginJob)(t))},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.params.id;e&&this.props.dispatch((0,h.fetchScriptFileByGroupId)(e)),this.props.dispatch((0,m.fetchLocalJob)(this.props.params.jobId))}},{key:"componentWillReceiveProps",value:function(e){var t=[{name:$.translate("discovery"),url:"plugins"},{name:$.translate("localDiscoveryScript"),url:"/plugins/local/task"},{name:e.scriptFile.scriptGroupName,url:"/plugins/local/".concat(e.routeParams.id,"/jobs")},{name:$.translate("edit")+e.job.name}];this.props.dispatch((0,p.setBreadcrumb)(t))}},{key:"render",value:function(){return u.default.createElement("div",{className:"container"},u.default.createElement(f.default,{id:this.props.params.jobId,groupId:this.props.params.id,job:this.props.job,submit:this.handleSubmit}))}}]),a}(u.Component),g=(0,d.connect)((function(e){return{job:e.pluginJob.data,scriptFile:e.plugins.scriptFile}}))(y);t.default=g},1906:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(203)),i=r(a(204)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=n(a(0)),p=a(17),m=a(32),h=r(a(4)),v=a(49),y=a(224);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var E=function(e){(0,o.default)(a,e);var t=g(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).refreshData=function(){e.props.dispatch((0,y.fetchStatisticOfDiscoveryRelationJob)(e.props.params.id)),e.t=setTimeout(e.refreshData,1e4)},e}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.refreshData()}},{key:"componentWillReceiveProps",value:function(e){var t=[{name:$.translate("discovery")},{name:$.translate("discoveryScript"),url:"/plugins"},{name:e.statistic.groupName}];this.props.dispatch((0,v.setBreadcrumb)(t))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t)}},{key:"render",value:function(){var e=this.props,t=e.statistic,a=e.location;return f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"overview"},f.default.createElement("div",{className:"overview-title"},$.translate("taskStatisticsResults")),f.default.createElement(l.default,null,f.default.createElement(i.default,{span:"6",className:"overview-content"},f.default.createElement(i.default,{span:"12",className:"overview-item task-color"},f.default.createElement("div",{className:"overview-info"},f.default.createElement("span",{className:"overview-icon"},f.default.createElement("i",{className:"iconfont icon-job"}))," ",$.translate("numTask"))),f.default.createElement(m.Link,{to:"plugins/".concat(this.props.params.id,"/relations")},f.default.createElement(i.default,{span:"12"},f.default.createElement("div",{className:"overview-group-item"},f.default.createElement("div",{className:"overview-group-count"},t.jobCount)),f.default.createElement("div",{className:(0,h.default)({"triangle-sign":a.pathname.indexOf("relations")>0})})))),f.default.createElement(i.default,{span:"6",className:"overview-content"},f.default.createElement(i.default,{span:"11",className:"overview-group-item discovery-color"},f.default.createElement("div",{className:"overview-info"},f.default.createElement("span",{className:"overview-icon"},f.default.createElement("i",{className:"iconfont icon-discovery discovery-color"}))," ",$.translate("discover"))),f.default.createElement(m.Link,{to:"plugins/".concat(this.props.params.id,"/discoveryRelation")},f.default.createElement(i.default,{span:"13"},f.default.createElement("div",{className:"overview-group-item"},f.default.createElement("div",{className:"overview-group-item-last overview-info-num"},$.translate("relationNum"),f.default.createElement("span",{className:"overview-num"},"\xa0",t.relationCount))),f.default.createElement("div",{className:(0,h.default)({"triangle-sign":a.pathname.indexOf("discoveryRelation")>0})})))),f.default.createElement(i.default,{span:"12",className:"overview-content"},f.default.createElement(i.default,{span:"6",className:"overview-group-item import-color"},f.default.createElement("div",{className:"overview-info"},f.default.createElement("span",{className:"overview-icon"},f.default.createElement("i",{className:"iconfont icon-daoruziyuanku import-color"}))," ",$.translate("importPacific"))),f.default.createElement(m.Link,{to:"plugins/".concat(this.props.params.id,"/relationImportSuc")},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-group-item"},f.default.createElement("div",{className:"overview-info-num"},$.translate("sucNum"),f.default.createElement("span",{className:"overview-num"},"\xa0",t.relationExportCount))),f.default.createElement("div",{className:(0,h.default)({"triangle-sign":a.pathname.indexOf("relationImportSuc")>0})}))),f.default.createElement(m.Link,{to:"plugins/".concat(this.props.params.id,"/relationImportFail")},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-group-item"},f.default.createElement("div",{className:"overview-info-num"},$.translate("failNum"),f.default.createElement("span",{className:"overview-num"},t.relationExportFailCount))),f.default.createElement("div",{className:(0,h.default)({"triangle-sign":a.pathname.indexOf("relationImportFail")>0})}))),f.default.createElement(m.Link,{to:"plugins/".concat(this.props.params.id,"/relationWaitImport")},f.default.createElement(i.default,{span:"6"},f.default.createElement("div",{className:"overview-group-item"},f.default.createElement("div",{className:"overview-info-num"},$.translate("WAIT_TO_IMPORT"),f.default.createElement("span",{className:"overview-num"},"\xa0",t.waitToExportCount))),f.default.createElement("div",{className:(0,h.default)({"triangle-sign":a.pathname.indexOf("relationWaitImport")>0})})))))),f.default.createElement("div",null,this.props.children))}}]),a}(f.PureComponent),b=(0,p.connect)((function(e){return{statistic:e.discoveryRelationJobStatistics.data}}))(E);t.default=b},1907:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(61)),c=r(a(170)),s=r(a(315)),o=r(a(104)),u=r(a(31)),d=r(a(19)),f=r(a(10)),p=r(a(59)),m=r(a(12)),h=r(a(13)),v=r(a(16)),y=r(a(14)),g=r(a(15)),E=r(a(76)),b=r(a(25)),S=n(a(0)),O=a(17),w=a(32),k=a(182),N=a(225),T=a(799),I=a(62);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,g.default)(e);if(t){var r=(0,g.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,y.default)(this,a)}}var R=b.default.Option,C=E.default.Item,j=function(e){(0,v.default)(a,e);var t=P(a);function a(){var e;(0,m.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,checkLog:!1,checkedJob:{lastStartAt:"",targetGroupIds:[],intervalType:"",status:"",count:{}},conditions:{keyword:e.props.location.query.keyword||"",page:1,size:e.props.location.query.size||10,status:""}},e.refreshData=function(){var t=e.props.params.id;e.props.dispatch((0,k.fetchJobListOfPlugin)(t,e.props.location.query||"")),e.t=setTimeout(e.refreshData,1e4)},e.showSideModal=function(t){e.setState({visible:!0,checkedJob:t})},e.handleCancel=function(){e.setState({visible:!1,checkedJob:{lastStartAt:"",targetGroupIds:[],intervalType:"",status:"",count:{}}})},e.handleRemove=function(t){p.default.confirm({title:$.translate("deleteTask"),content:S.default.createElement("div",null,S.default.createElement("p",null,$.translate("makeSureDelete")+t.name+$.translate("task")),S.default.createElement("p",null,$.translate("scanResultAlsoDeleted"))),okText:$.translate("ok"),cancelText:$.translate("cancel"),onOk:function(){e.setState({visible:!1,checkedJob:{lastStartAt:"",targetGroupIds:[],intervalType:"",status:"",count:{}}}),e.props.dispatch((0,N.removeJob)(e.props.params.id,t.id,e.props.location.query))}})},e.redirectToEditJob=function(t){w.hashHistory.push("/plugins/".concat(e.props.params.id,"/relations/").concat(t.id,"/edit"))},e.redirectToResult=function(t){w.hashHistory.push("plugins/".concat(e.props.params.id,"/relations/").concat(t))},e.beginDiscovery=function(t){e.props.dispatch((0,T.relationBeginDiscovery)(e.props.params.id,t.id,e.props.location.query)).then((function(){e.setState({checkLog:!1})})),e.setState({checkLog:!0})},e.stopDiscovery=function(t){e.props.dispatch((0,T.relationStopDiscovery)(e.props.params.id,t.id,e.props.location.query)),e.setState({checkLog:!1})},e.getSearch=function(t){if(""===t.target.value){var a=e.state.conditions,n="page=".concat(a.page);a.status&&(n+="&status=".concat(a.status)),a.size&&(n+="&size=".concat(a.size)),w.hashHistory.replace("plugins/".concat(e.props.params.id,"/relations?").concat(n))}else 13===t.keyCode&&""!==$.trim(t.target.value)&&e.handleFetchJobs(Object.assign(e.state.conditions,{keyword:t.target.value,page:1}))},e.handleFetchJobs=function(t){e.setState({conditions:t});var a="page=".concat(t.page);t.keyword&&(a+="&keyword=".concat(t.keyword)),t.status&&(a+="&status=".concat(t.status)),t.size&&(a+="&size=".concat(t.size)),w.hashHistory.replace("plugins/".concat(e.props.params.id,"/relations?").concat(a))},e}return(0,h.default)(a,[{key:"componentWillReceiveProps",value:function(e){if(e.location.search!==this.props.location.search){var t=e.location.query;this.setState({conditions:t}),this.props.dispatch((0,k.fetchJobListOfPlugin)(e.params.id,t))}}},{key:"componentDidMount",value:function(){if(this.refreshData(),this.props.location.search){var e=this.props.location.query;this.setState({conditions:e})}}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,k.resetJobListOfPlugin)()),clearTimeout(this.t)}},{key:"render",value:function(){var e=this,t=this.props.jobs,a=t.data,n=t.total,r=this.state,p=r.checkedJob,m=r.conditions,h=r.checkLog,v={labelCol:{span:5},wrapperCol:{span:18}};return S.default.createElement("div",{className:"container"},S.default.createElement("div",{className:"widget-filter mt10 clearfix"},S.default.createElement("div",{className:"widget-filter-control"},S.default.createElement(d.default,{prefix:S.default.createElement(f.default,{type:"search"}),placeholder:$.translate("keywordWantFind"),defaultValue:this.state.conditions.keyword,className:"search-input",onKeyUp:this.getSearch})),S.default.createElement("div",{className:"widget-filter-control"},S.default.createElement(b.default,{value:m.status||"",placeholder:$.translate("allState"),className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchJobs(Object.assign(m,{status:t,page:1}))}},S.default.createElement(R,{value:""},$.translate("allState")),_.map(I.JOB_STATUS,(function(e){return S.default.createElement(R,{key:e,value:e},$.translate(e))})))),S.default.createElement(w.Link,{to:"/plugins/".concat(this.props.params.id,"/relations/new")},S.default.createElement(u.default,{className:"pull-right",type:"primary"},S.default.createElement(f.default,{type:"plus"}),$.translate("addTask")))),S.default.createElement("table",{className:"task-table"},S.default.createElement("thead",null,S.default.createElement("tr",null,S.default.createElement("td",{width:"15%"},$.translate("taskName")),S.default.createElement("td",{width:"15%"},$.translate("recentlyFoundStartTime")),S.default.createElement("td",{width:"10%"},$.translate("taskStrategy")),S.default.createElement("td",{width:"10%"},$.translate("status")),S.default.createElement("td",{width:"20%"},$.translate("recentlyFoundSEndTime")),S.default.createElement("td",{width:"12%"},$.translate("recentlyEnd")),S.default.createElement("td",{width:"18%"},$.translate("operation")))),_.map(a,(function(t){return S.default.createElement("tbody",{key:t.id},S.default.createElement("tr",{className:"separation-row"},S.default.createElement("td",{colSpan:"7"})),S.default.createElement("tr",{className:"content-row"},S.default.createElement("td",null,S.default.createElement("a",{className:"task-name",onClick:function(){return e.showSideModal(t)}},t.name)),S.default.createElement("td",null,t.lastStartAt),S.default.createElement("td",null,$.translate(t.intervalType)),S.default.createElement("td",null,$.translate(t.status)),S.default.createElement("td",null,"START"===t.status?S.default.createElement("div",{className:"table-progress"},S.default.createElement(o.default,{percent:t.percent,status:"active",strokeWidth:5})):t.lastEndAt),S.default.createElement("td",null,"START"===t.status?S.default.createElement(w.Link,{to:"/plugins/".concat(e.props.params.id,"/relations/log/").concat(t.id)},S.default.createElement(u.default,{size:"small",type:"primary",disabled:!t.lastStartAt},$.translate("detail"))):S.default.createElement(w.Link,{to:"/plugins/".concat(e.props.params.id,"/relations/").concat(t.id)},S.default.createElement(u.default,{size:"small",type:"primary",disabled:!t.lastEndAt||h},$.translate("detail")))),S.default.createElement("td",null,"START"===t.status?S.default.createElement(s.default,{placement:"bottom",title:$.translate("stopDiscoveryTaskImmediately"),onConfirm:function(){return e.stopDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},S.default.createElement("div",null,S.default.createElement(u.default,{size:"small",type:"wait",style:{width:"75%"}},$.translate("cancelExecute")))):S.default.createElement("div",null,S.default.createElement(s.default,{placement:"bottomRight",title:$.translate("discoveryTaskImmediately"),onConfirm:function(){return e.beginDiscovery(t)},okText:$.translate("ok"),cancelText:$.translate("cancel")},S.default.createElement("div",{style:{display:"inline-block",marginRight:10}},S.default.createElement(u.default,{size:"small",type:"primary",disabled:"START"===t.status},$.translate("begin")))),S.default.createElement(u.default,{size:"small",type:"success",disabled:"START"===t.status,onClick:function(){return e.redirectToEditJob(t)}},$.translate("edit")),S.default.createElement(u.default,{size:"small",type:"error",disabled:"START"===t.status,onClick:function(){return e.handleRemove(t)}},$.translate("delete"))))))}))),n>0?S.default.createElement("div",{className:"mt20 clearfix"},S.default.createElement(c.default,{className:"pull-right",total:n,showQuickJumper:!0,current:+m.page||1,onChange:function(t){return e.handleFetchJobs(Object.assign(m,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})},showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],pageSize:Number(this.state.conditions.size),onShowSizeChange:function(t,a){return e.handleFetchJobs(Object.assign(m,{page:1,size:a}))}})):null,S.default.createElement(l.default,{title:p.name,width:"600",visible:this.state.visible,onClose:this.handleCancel},S.default.createElement("div",{className:"scan-modal"},S.default.createElement("div",{className:"scan-modal-action"},S.default.createElement(u.default,{type:"primary",onClick:function(){return e.redirectToResult(p.id)},disabled:!p.lastEndAt},$.translate("detail")),S.default.createElement(u.default,{type:"suc",disabled:"START"===p.status,onClick:function(){return e.redirectToEditJob(p)}},$.translate("edit")),S.default.createElement(u.default,{type:"danger",disabled:"START"===p.status,onClick:function(){return e.handleRemove(p)}},$.translate("delete"))),S.default.createElement(E.default,{className:"scan-modal-inner-block"},S.default.createElement(C,(0,i.default)({},v,{label:$.translate("recentlyStartTime")}),S.default.createElement("p",{className:"ant-form-text"},p.lastStartAt)),S.default.createElement(C,(0,i.default)({},v,{label:$.translate("discoveryPlugin")}),S.default.createElement("p",{className:"ant-form-text"},p.targetGroupIds.length)),S.default.createElement(C,(0,i.default)({},v,{label:$.translate("taskStrategy")}),S.default.createElement("p",{className:"ant-form-text"},$.translate(p.intervalType))),S.default.createElement(C,(0,i.default)({},v,{label:$.translate("status")}),S.default.createElement("p",{className:"ant-form-text"},$.translate(p.status)))),S.default.createElement(E.default,{className:"scan-modal-inner-block"},S.default.createElement(C,(0,i.default)({},v,{label:$.translate("recentDiscoverResults")}),S.default.createElement("p",{className:"ant-form-text"},p.lastEndAt)),S.default.createElement(C,null,S.default.createElement("ul",null,S.default.createElement("li",{className:"widget-block-item"},S.default.createElement("h5",{title:p.count.relationCount},p.count.rlCount),S.default.createElement("span",null,$.translate("discoveryRelationNum")))))))))}}]),a}(S.PureComponent),D=(0,O.connect)((function(e){return{jobs:e.pluginJobList}}))(j);t.default=D},1908:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(120),y=a(62);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).search=function(e){""===e.target.value?n.props.dispatch((0,v.fetchSucList)(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,v.fetchSucList)(e))},n.state={conditions:{groupId:n.props.params.id,type:"relation",keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.fetchSucList)(this.state.conditions))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.lists,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"srcIp",key:"srcIp",width:"11%",render:function(e,t){return m.default.createElement("sapn",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"srcCiTypeName",key:"srcCiTypeName",width:"13%"},{title:$.translate("configName"),dataIndex:"srcName",key:"srcName",width:"13%"},{title:$.translate("relationName"),dataIndex:"rlTypeName",key:"rlTypeName",width:"13%"},{title:"IP",dataIndex:"tgtIp",key:"tgtIp",width:"11%"},{title:$.translate("configClass"),dataIndex:"tgtCiTypeName",key:"tgtCiTypeName",width:"13%"},{title:$.translate("configName"),dataIndex:"tgtName",key:"tgtName",width:"13%"},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"13%",render:function(e,t){return function(e){var t=e.imState;return m.default.createElement("span",{className:"table-tag ".concat(y.INREPO_COLOR[t])},$.translate(t))}(t)}}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onKeyUp:this.search.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(E,{value:""},$.translate("allType")),_.map(r,(function(e){return m.default.createElement(E,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),m.default.createElement(l.default,{columns:o,rowKey:function(e){return e.id},dataSource:a,pagination:u}))}}]),a}(m.Component),S=(0,h.connect)((function(e){return{lists:e.discoveryJobStatisticsList}}))(b);t.default=S},1909:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(120);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var g=p.default.Option,E=function(e){(0,u.default)(a,e);var t=y(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).search=function(e){""===e.target.value?n.props.dispatch((0,v.fetchSucList)(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,v.fetchSucList)(e))},n.state={conditions:{groupId:n.props.params.id,type:"repoSuccess",keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.fetchSucList)(this.state.conditions))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.lists,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"srcIp",key:"srcIp",width:"14%",render:function(e,t){return m.default.createElement("sapn",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"srcCiTypeName",key:"srcCiTypeName",width:"14%"},{title:$.translate("configName"),dataIndex:"srcName",key:"srcName",width:"14%"},{title:$.translate("relationName"),dataIndex:"rlTypeName",key:"rlTypeName",width:"15%"},{title:"IP",dataIndex:"tgtIp",key:"tgtIp",width:"14%"},{title:$.translate("configClass"),dataIndex:"tgtCiTypeName",key:"tgtCiTypeName",width:"14%"},{title:$.translate("configName"),dataIndex:"tgtName",key:"tgtName",width:"15%"}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onKeyUp:this.search.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(g,{value:""},$.translate("allType")),_.map(r,(function(e){return m.default.createElement(g,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),m.default.createElement(l.default,{columns:o,rowKey:function(e){return e.id},dataSource:a,pagination:u}))}}]),a}(m.Component),b=(0,h.connect)((function(e){return{lists:e.discoveryJobStatisticsList}}))(E);t.default=b},1910:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(120);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var g=p.default.Option,E=function(e){(0,u.default)(a,e);var t=y(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).search=function(e){""===e.target.value?n.props.dispatch((0,v.fetchFailList)(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,v.fetchFailList)(e))},n.state={conditions:{groupId:n.props.params.id,isExported:!0,keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.fetchFailList)(this.state.conditions))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.lists,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"srcIp",key:"srcIp",width:"10%",render:function(e,t){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"srcCiTypeName",key:"srcCiTypeName",width:"12%"},{title:$.translate("name"),dataIndex:"srcName",key:"srcName",width:"12%"},{title:m.default.createElement("span",{className:"pl20"},$.translate("relationName")),dataIndex:"rlTypeName",key:"rlTypeName",width:"10%",render:function(e,t){return m.default.createElement("span",{className:"pl20"},e)}},{title:"IP",dataIndex:"tgtIp",key:"tgtIp",width:"10%",render:function(e,t){return m.default.createElement("span",null,e)}},{title:$.translate("configClass"),dataIndex:"tgtCiTypeName",key:"tgtCiTypeName",width:"10%"},{title:$.translate("name"),dataIndex:"tgtName",key:"tgtName",width:"12%"},{title:$.translate("description"),dataIndex:"description",key:"description",width:"14%"}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onKeyUp:this.search.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(g,{value:""},$.translate("allType")),_.map(r,(function(e){return m.default.createElement(g,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),m.default.createElement(l.default,{columns:o,rowKey:function(e){return e.id},dataSource:a,pagination:u}))}}]),a}(m.Component),b=(0,h.connect)((function(e){return{lists:e.discoveryJobStatisticsList}}))(E);t.default=b},1911:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(120),y=a(62);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).search=function(e){""===e.target.value?n.props.dispatch((0,v.fetchSucList)(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))):13===e.keyCode&&""!==$.trim(e.target.value)&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,v.fetchSucList)(e))},n.state={conditions:{groupId:n.props.params.id,type:"waitToExport",keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,v.fetchSucList)(this.state.conditions))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,v.resetList)())}},{key:"render",value:function(){var e=this,t=this.props.lists,a=t.data,n=t.total,r=t.categories,s=this.state.conditions,o=[{title:m.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"srcIp",key:"srcIp",width:"11%",render:function(e,t){return m.default.createElement("sapn",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"srcCiTypeName",key:"srcCiTypeName",width:"13%"},{title:$.translate("configName"),dataIndex:"srcName",key:"srcName",width:"13%"},{title:$.translate("relationName"),dataIndex:"rlTypeName",key:"rlTypeName",width:"13%"},{title:"IP",dataIndex:"tgtIp",key:"tgtIp",width:"11%"},{title:$.translate("configClass"),dataIndex:"tgtCiTypeName",key:"tgtCiTypeName",width:"13%"},{title:$.translate("configName"),dataIndex:"tgtName",key:"tgtName",width:"13%"},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"13%",render:function(e,t){return function(e){var t=e.imState;return m.default.createElement("span",{className:"table-tag ".concat(y.INREPO_COLOR[t])},$.translate(t))}(t)}}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:s.page,total:n,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(s,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("wantFindIPName"),className:"search-input",onKeyUp:this.search.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{value:this.state.conditions.ciTypeCode,className:"filter-select",getPopupContainer:function(e){return e},onChange:function(t){return e.handleFetchRecords(Object.assign(s,{ciTypeCode:t,page:1}))}},m.default.createElement(E,{value:""},$.translate("allType")),_.map(r,(function(e){return m.default.createElement(E,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)}))))),m.default.createElement(l.default,{columns:o,rowKey:function(e){return e.id},dataSource:a,pagination:u}))}}]),a}(m.Component),S=(0,h.connect)((function(e){return{lists:e.discoveryJobStatisticsList}}))(b);t.default=S},1912:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=a(49),p=a(225),m=r(a(800));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var v=function(e){(0,c.default)(a,e);var t=h(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.dispatch((0,p.createJob)(t))},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.params.id,t=[{name:$.translate("discovery"),url:"/plugins"},{name:$.translate("relationDiscovery"),url:"/plugins/".concat(e,"/relations")},{name:$.translate("addTask")}];this.props.dispatch((0,f.setBreadcrumb)(t))}},{key:"render",value:function(){return u.default.createElement("div",{className:"container"},u.default.createElement(m.default,{groupId:this.props.params.id,submit:this.handleSubmit.bind(this)}))}}]),a}(u.Component),y=(0,d.connect)()(v);t.default=y},1913:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(31)),c=r(a(19)),s=r(a(10)),o=r(a(104)),u=r(a(44)),d=r(a(12)),f=r(a(13)),p=r(a(16)),m=r(a(14)),h=r(a(15)),v=r(a(127)),y=n(a(0)),g=a(17),E=r(a(1914)),b=a(49),S=a(225),O=a(801),w=a(224),k=a(469),N=a(212),T=r(a(1915)),I=a(62),P=a(53);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}var R=v.default.TabPane,C=function(e){(0,p.default)(a,e);var t=_(a);function a(e){var n;return(0,d.default)(this,a),(n=t.call(this,e)).changeTab=function(e){"undefined"!==typeof n.refs.configImportResult&&n.refs.configImportResult.clearContent(),n.setState({tabKey:e,conditions:{keyword:"",page:1,size:10}}),"discovery"===e?n.props.dispatch((0,O.fetchRecordsOfRelation)(n.props.params.relationId)):(n.props.dispatch((0,N.fetchRelationFailLogs)(n.props.params.relationId)),n.props.dispatch((0,N.fetchRelationSucLogs)(n.props.params.relationId)))},n.getSearchValue=function(e){var t=Object.assign({},n.state.conditions,{keyword:e.target.value});n.setState({conditions:t})},n.getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.handleFetchRecords=function(e){n.setState({conditions:e}),n.props.dispatch((0,O.fetchRecordsOfRelation)(n.props.params.relationId,e))},n.importToRepo=function(){n.state.selectIds.length?(n.setState({tabKey:"import"}),n.props.dispatch((0,S.resetJob)()),n.props.dispatch((0,k.importRelationRecords)(n.props.params.relationId,n.state.selectIds,!1)),setTimeout(n.checkIsImporting,500)):u.default.error($.translate("chooseDiscoveryResult"))},n.importAllPacific=function(){n.setState({tabKey:"import"}),n.props.dispatch((0,S.resetJob)()),n.props.dispatch((0,k.importRelationRecords)(n.props.params.relationId,n.state.selectIds,!0)),setTimeout(n.checkIsImporting,500)},n.checkIsImporting=function(){var e=n.props.params.relationId;if(!n.props.isImporting)return n.props.dispatch((0,N.fetchRelationFailLogs)(e)),n.props.dispatch((0,N.fetchRelationSucLogs)(e)),n.props.dispatch((0,S.fetchJob)(e)),n.setState({selectIds:[]}),void clearTimeout(n.t);n.props.dispatch((0,k.checkRelationImportingStatus)(n.props.params.relationId)),n.t=setTimeout(n.checkIsImporting,1e3)},n.t=setTimeout(null),n.state={tabKey:"discovery",selectIds:[],conditions:{keyword:"",page:1,size:10}},n}return(0,f.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.job,r=t.isImporting,u=t.importStatus,d=t.importFail,f=t.importSuc,p=t.importFailIds,m=t.importSucIds,h=this.state.conditions,g=[{title:y.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"srcIp",key:"srcIp",width:"12%",render:function(e,t){return y.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"srcCiTypeName",key:"srcCiTypeName",width:"12%"},{title:$.translate("name"),dataIndex:"srcName",key:"srcName",width:"12%"},{title:y.default.createElement("span",{className:"pl20"},$.translate("relationName")),dataIndex:"rlTypeName",key:"rlTypeName",width:"12%",render:function(e,t){return y.default.createElement("span",{className:"pl20"},e)}},{title:"IP",dataIndex:"tgtIp",key:"tgtIp",width:"12%"},{title:$.translate("configClass"),dataIndex:"tgtCiTypeName",key:"tgtCiTypeName",width:"12%"},{title:$.translate("name"),dataIndex:"tgtName",key:"tgtName",width:"12%"},{title:$.translate("resourceSituation"),dataIndex:"existState",key:"existState",width:"8%",render:function(e,t){return function(e){var t=e.existState;return y.default.createElement("span",null,$.translate(t))}(t)}},{title:$.translate("importState"),dataIndex:"imState",key:"imState",width:"8%",render:function(e,t){return function(e){var t=e.id,a=e.imState;return r||"START"===u.status?m.indexOf(t)>-1?y.default.createElement("span",{className:"table-tag table-tag-green"},$.translate("EXPORTED")):p.indexOf(t)>-1?y.default.createElement("span",{className:"table-tag table-tag-red"},$.translate("FAIL")):y.default.createElement("span",{className:"table-tag table-tag-yellow"},$.translate("WAIT_TO_IMPORT")):y.default.createElement("span",{className:"table-tag ".concat(I.INREPO_COLOR[a])},$.translate(a))}(t)}}],b=a.total>0&&{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:h.page,total:a.total||0,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(h,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(h,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}},S={selectedRowKeys:this.state.selectIds,onChange:function(t,a){e.setState({selectIds:t})}};return y.default.createElement("div",{className:"container show"},y.default.createElement("div",{className:"overview-title"},$.translate("recentlyDiscover"),"\uff1a",n.lastEndAt),y.default.createElement("div",{className:"check-result"},y.default.createElement(v.default,{defaultActiveKey:"discovery",activeKey:this.state.tabKey,onChange:this.changeTab},y.default.createElement(R,{tab:$.translate("relationDiscoveryResult"),key:"discovery"},y.default.createElement(o.default,{percent:u.percent,showInfo:!1,status:"active",strokeWidth:3}),y.default.createElement("div",{className:"widget-filter",style:{marginTop:-15}},y.default.createElement("div",{className:"clearfix"},y.default.createElement("div",{className:"widget-filter-control"},y.default.createElement(c.default,{value:h.keyword,prefix:y.default.createElement(s.default,{type:"search"}),placeholder:$.translate("keywordWantFind"),className:"search-input",onChange:this.getSearchValue,onKeyUp:this.getSearch})),y.default.createElement("div",{className:"widget-filter-control",style:{lineHeight:"33px"}},$.translate("discoveryRelationNum"),"\uff1a",n.count.rlCount),y.default.createElement("div",{className:"pull-right"},y.default.createElement(i.default,{loading:r,disabled:a.data.length<1,className:"mr10",type:"primary",onClick:this.importToRepo},$.translate("importPacific")),y.default.createElement(i.default,{loading:r,disabled:a.data.length<1,type:"primary",onClick:this.importAllPacific},$.translate("importAllPacific"))))),y.default.createElement(l.default,{pagination:b,className:"widget-filter-result",columns:g,dataSource:a.data,rowKey:function(e){return e.id},rowSelection:S})),y.default.createElement(R,{tab:$.translate("relationImportResult"),key:"import"},y.default.createElement(o.default,{percent:u.percent,showInfo:!1,status:"active",strokeWidth:3}),n.imported||r||100===u.percent?y.default.createElement(T.default,{ref:"configImportResult",relationId:this.props.params.relationId,importSuc:f,importFail:d,successLogsTotal:n.count.rlImSuccCount,failLogsTotal:n.count.rlImFailCount,isImporting:r,dispatch:this.props.dispatch}):y.default.createElement("div",{className:"no-data"},y.default.createElement("p",null,$.translate("noDataNeedToImport")))),y.default.createElement(R,{tab:$.translate("discoveryLog"),key:"log"},y.default.createElement(E.default,{relationId:this.props.params.relationId})))))}},{key:"componentDidMount",value:function(){var e=this.props.params,t=e.id,a=e.relationId;this.props.dispatch((0,w.fetchStatisticOfDiscoveryRelationJob)(t)),this.props.dispatch((0,S.fetchJob)(a)),this.props.dispatch((0,O.fetchRecordsOfRelation)(a)),this.props.dispatch((0,k.checkRelationImportingStatus)(a)),this.props.dispatch((0,N.fetchRelationFailLogs)(a)),this.props.dispatch((0,N.fetchRelationSucLogs)(a)),setTimeout(this.checkIsImporting,200)}},{key:"componentWillReceiveProps",value:function(e){var t=[{name:$.translate("discovery"),url:"/plugins"},{name:e.statistic.groupName,url:"/plugins/".concat(e.statistic.groupId,"/relations")},{name:e.job.name}];this.props.dispatch((0,b.setBreadcrumb)(t))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,O.resetRecordsOfRelation)()),this.props.dispatch({type:P.GET_IMPORTING_STATUS,payload:{successIds:[],sucLog:{successLogs:[]},failIds:[],failLog:{failLogs:[]},status:{percent:0,status:""},isImporting:!1}}),clearTimeout(this.t)}}]),a}(y.Component),j=(0,g.connect)((function(e){return{job:e.pluginRelationJob.data,record:e.relationJobRecord,statistic:e.discoveryRelationJobStatistics.data,isImporting:e.importRepo.isImporting,importStatus:e.importRepo.status,importSucIds:e.importRepo.successIds,importSuc:e.importRepo.sucLog,importFailIds:e.importRepo.failIds,importFail:e.importRepo.failLog}}))(C);t.default=j},1914:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(19)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(25)),m=n(a(0)),h=a(17),v=a(62),y=a(178);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=p.default.Option,b=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).handleFetchRecords=function(e){n.props.dispatch((0,y.fetchLog)(n.props.relationId,e))},n.state={conditions:{keyword:"",page:1,size:10,logLevel:""}},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.fetchLog)(this.props.relationId))}},{key:"getSearch",value:function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&this.handleFetchRecords(Object.assign(this.state.conditions,{keyword:e.target.value,page:1}))}},{key:"render",value:function(){var e=this,t=this.state.conditions,a=this.props.log,n=a.data,r=a.total,s=a.elapseTime,o=[{title:m.default.createElement("span",{className:"pl20"},$.translate("time")),dataIndex:"createdAt",key:"createdAt",width:"30%",render:function(e){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("level"),dataIndex:"logLevel",key:"logLevel",width:"20%"},{title:$.translate("content"),dataIndex:"description",key:"description",width:"50%"}],u={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],current:t.page,total:r,pageSize:this.state.conditions.size,onShowSizeChange:function(a,n){return e.handleFetchRecords(Object.assign(t,{size:n,page:1}))},onChange:function(a){return e.handleFetchRecords(Object.assign(t,{page:a}))},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"container"},m.default.createElement("div",{className:"widget-filter"},m.default.createElement("div",{className:"clearfix"},m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(i.default,{prefix:m.default.createElement(c.default,{type:"search"}),placeholder:$.translate("keywordWantFind"),className:"search-input",onKeyUp:this.getSearch.bind(this)})),m.default.createElement("div",{className:"widget-filter-control"},m.default.createElement(p.default,{className:"filter-select",getPopupContainer:function(e){return e},placeholder:$.translate("allLevel"),onChange:function(a){return e.handleFetchRecords(Object.assign(t,{logLevel:a,page:1}))}},m.default.createElement(E,{value:""},$.translate("allLevel")),_.map(v.LOG_LEVEL,(function(e){return m.default.createElement(E,{key:e,value:$.translate(e)},$.translate(e))})))),m.default.createElement("div",{className:"pull-right",style:{lineHeight:"30px"}},m.default.createElement("span",null,$.translate("elapsedTime"),"\uff1a",s)))),m.default.createElement(l.default,{className:"widget-filter-result",columns:o,pagination:u,dataSource:n,rowKey:function(e){return e.id}}))}}]),a}(m.Component),S=(0,h.connect)((function(e){return{log:e.log}}))(b);t.default=S},1915:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(168)),i=r(a(26)),c=r(a(19)),s=r(a(10)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(25)),h=n(a(0)),v=a(212);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var g=m.default.Option,E=function(e){(0,d.default)(a,e);var t=y(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).getSearchValue=function(e){var t=Object.assign({},n.state.conditions,{keyword:e.target.value});n.setState({conditions:t})},n.clearContent=function(){n.setState({statusResult:"suc",conditions:{keyword:"",page:1,ciTypeCode:"",size:10}})},n.getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.statusResult=function(e){n.setState({statusResult:e,conditions:{keyword:"",page:1,ciTypeCode:"",size:10}}),n.props.dispatch((0,v.fetchRelationSucLogs)(n.props.relationId)),n.props.dispatch((0,v.fetchRelationFailLogs)(n.props.relationId))},n.handleFetchRecords=function(e){n.setState({conditions:e}),"suc"===n.state.statusResult?n.props.dispatch((0,v.fetchRelationSucLogs)(n.props.relationId,e)):n.props.dispatch((0,v.fetchRelationFailLogs)(n.props.relationId,e))},n.t=setTimeout(null),n.state={statusResult:"suc",successLogs:[],conditions:{keyword:"",page:1,ciTypeCode:"",size:10}},n}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isImporting,n=t.successLogsTotal,r=t.failLogsTotal,o=t.importSuc,u=t.importFail,d=this.state.conditions,f=[{title:h.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"srcIp",key:"srcIp",width:"12%",render:function(e,t){return h.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"srcCiTypeName",key:"srcCiTypeName",width:"12%"},{title:$.translate("name"),dataIndex:"srcName",key:"srcName",width:"15%"},{title:h.default.createElement("span",{className:"pl20"},$.translate("relationName")),dataIndex:"rlTypeName",key:"rlTypeName",width:"12%",render:function(e,t){return h.default.createElement("span",{className:"pl20"},e)}},{title:"IP",dataIndex:"tgtIp",key:"tgtIp",width:"12%",render:function(e,t){return h.default.createElement("span",null,e)}},{title:$.translate("configClass"),dataIndex:"tgtCiTypeName",key:"tgtCiTypeName",width:"12%"},{title:$.translate("name"),dataIndex:"tgtName",key:"tgtName",width:"15%"}],p=[{title:h.default.createElement("span",{className:"pl20"},"IP"),dataIndex:"srcIp",key:"srcIp",width:"10%",render:function(e,t){return h.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("configClass"),dataIndex:"srcCiTypeName",key:"srcCiTypeName",width:"12%"},{title:$.translate("name"),dataIndex:"srcName",key:"srcName",width:"12%"},{title:h.default.createElement("span",{className:"pl20"},$.translate("relationName")),dataIndex:"rlTypeName",key:"rlTypeName",width:"10%",render:function(e,t){return h.default.createElement("span",{className:"pl20"},e)}},{title:"IP",dataIndex:"tgtIp",key:"tgtIp",width:"10%",render:function(e,t){return h.default.createElement("span",null,e)}},{title:$.translate("configClass"),dataIndex:"tgtCiTypeName",key:"tgtCiTypeName",width:"10%"},{title:$.translate("name"),dataIndex:"tgtName",key:"tgtName",width:"12%"},{title:$.translate("description"),dataIndex:"description",key:"description",width:"14%"}],v=o.total>0&&{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],total:o.total,pageSize:this.state.conditions.size,current:d.page,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a,page:1}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}},y=u.total>0&&{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","30","50","80","100"],total:u.total,pageSize:this.state.conditions.size,current:d.page,onShowSizeChange:function(t,a){return e.handleFetchRecords(Object.assign(d,{size:a}))},onChange:function(t){return e.handleFetchRecords(Object.assign(d,{page:t}))},showTotal:function(e){return $.translate("total",{total:e})}},E="suc"===this.state.statusResult?o.sucCiTypes:u.failCiTypes;return h.default.createElement("div",null,h.default.createElement(l.default,{spinning:a,tip:$.translate("systemImporting")},h.default.createElement("div",{className:"widget-filter clearfix",style:{marginTop:-15}},h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(c.default,{prefix:h.default.createElement(s.default,{type:"search"}),value:d.keyword,placeholder:$.translate("wantFindIPName"),className:"search-input",onChange:this.getSearchValue,onKeyUp:this.getSearch})),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement(m.default,{className:"filter-select",getPopupContainer:function(e){return e},value:d.ciTypeCode,placeholder:$.translate("allType"),onChange:function(t){return e.handleFetchRecords(Object.assign(d,{ciTypeCode:t,page:1}))}},h.default.createElement(g,{value:""},$.translate("allType")),_.map(E,(function(e){return h.default.createElement(g,{key:e.ciTypeCode,value:e.ciTypeCode},e.ciTypeName)})))),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement("div",{className:"suc"===this.state.statusResult?"discovery-btn discovery-btn-suc discovery-btn-suc-active":"discovery-btn discovery-btn-suc",onClick:function(){return e.statusResult("suc")}},$.translate("importSuc"),"\uff08",a?o.successLogs.length:n,"\uff09")),h.default.createElement("div",{className:"widget-filter-control"},h.default.createElement("div",{className:"fail"===this.state.statusResult?"discovery-btn discovery-btn-fail discovery-btn-fail-active":"discovery-btn discovery-btn-fail",onClick:function(){return e.statusResult("fail")}},$.translate("importFail"),"\uff08",a?u.failLogs.length:r,"\uff09"))),"suc"===this.state.statusResult?h.default.createElement(i.default,{className:"widget-filter-result",columns:f,pagination:v,dataSource:o.successLogs,rowKey:function(e){return e.id}}):h.default.createElement(i.default,{className:"widget-filter-result",columns:p,pagination:y,dataSource:u.failLogs,rowKey:function(e){return e.id}})))}}]),a}(h.Component);t.default=E},1916:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=a(49),p=a(225),m=r(a(800));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var v=function(e){(0,c.default)(a,e);var t=h(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.id=e.props.params.relationId,e.props.dispatch((0,p.updateJob)(t))},e}return(0,i.default)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.params.id,a=[{name:$.translate("discovery"),url:"/plugins"},{name:$.translate("relationDiscovery"),url:"/plugins/".concat(t,"/relations")},{name:$.translate("edit")+e.job.name}];this.props.dispatch((0,f.setBreadcrumb)(a))}},{key:"componentDidMount",value:function(){this.props.dispatch((0,p.fetchJob)(this.props.params.relationId))}},{key:"render",value:function(){return u.default.createElement("div",{className:"container"},u.default.createElement(m.default,{id:this.props.params.relationId,groupId:this.props.params.id,job:this.props.job,submit:this.handleSubmit.bind(this)}))}}]),a}(u.Component),y=(0,d.connect)((function(e){return{job:e.pluginRelationJob.data}}))(v);t.default=y},1917:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(104)),c=r(a(31)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=n(a(0)),m=a(17),h=a(32),v=a(49),y=a(178),g=a(224),E=a(799),b=a(225);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var O=function(e){(0,u.default)(a,e);var t=S(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).checkIsImporting=function(){var t=e.props.params,a=t.id,n=t.relationId;if(e.props.dispatch((0,y.fetchLog)(n)),"WAIT"===e.props.log.status)return h.hashHistory.push("plugins/".concat(a,"/relations/").concat(n)),void clearTimeout(e.t);e.t=setTimeout(e.checkIsImporting,2e3)},e.stopScan=function(){var t=e.props.params,a=t.relationId,n=t.id;e.props.dispatch((0,E.relationStopDiscovery)(n,a)),h.hashHistory.push("plugins/".concat(n,"/relations/").concat(a))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.params,t=e.id,a=e.relationId;this.props.dispatch((0,g.fetchStatisticOfDiscoveryRelationJob)(t)),this.props.dispatch((0,b.fetchJob)(a)),this.checkIsImporting()}},{key:"componentWillReceiveProps",value:function(e){var t=[{name:$.translate("discovery"),url:"/plugins"},{name:e.statistic.groupName,url:"/plugins/".concat(e.statistic.groupId,"/relations")},{name:e.job.name}];this.props.dispatch((0,v.setBreadcrumb)(t))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.t),this.props.dispatch((0,b.resetJob)())}},{key:"render",value:function(){var e=this.props.log,t=e.data,a=e.elapseTime,n=e.percent,r=[{title:p.default.createElement("span",{className:"pl20"},$.translate("time")),dataIndex:"createdAt",key:"createdAt",width:"30%",render:function(e){return p.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("level"),dataIndex:"logLevel",key:"logLevel",width:"20%"},{title:$.translate("content"),dataIndex:"description",key:"description",width:"50%"}];return p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"widget-filter"},p.default.createElement("div",{className:"clearfix "},p.default.createElement("div",{className:"widget-filter-control lh30"},$.translate("discoveryLog")),p.default.createElement("div",{className:"pull-right lh30"},p.default.createElement(c.default,{type:"primary",onClick:this.stopScan},$.translate("cancelDiscovery"))),p.default.createElement("div",{className:"pull-right mr30 lh30"},p.default.createElement("span",null,$.translate("elapsedTime"),"\uff1a",a)))),p.default.createElement(i.default,{percent:n,showInfo:!1,status:"active",strokeWidth:3}),p.default.createElement(l.default,{style:{marginTop:"-14px"},className:"widget-filter-result",columns:r,pagination:!1,dataSource:t,rowKey:function(e){return e.id}}))}}]),a}(p.Component),w=(0,m.connect)((function(e){return{job:e.pluginRelationJob.data,log:e.log,statistic:e.discoveryRelationJobStatistics.data}}))(O);t.default=w},1918:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=a(49);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var m=function(e){(0,c.default)(a,e);var t=p(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=[{name:$.translate("role")}];this.props.dispatch((0,f.setBreadcrumb)(e))}},{key:"render",value:function(){return u.default.createElement("div",{className:"setting-container"},u.default.createElement("div",{className:"setting"},u.default.createElement("div",{className:"setting-tabs-content"},this.props.children)))}}]),a}(u.Component),h=(0,d.connect)((function(e){return{sysList:e.discoveryScript.sysList}}))(m);t.default=h},1919:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(32),f=r(a(4));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var m=function(e){(0,c.default)(a,e);var t=p(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props.location.pathname;return u.default.createElement("div",{className:"setting-container"},u.default.createElement("div",{className:"setting"},u.default.createElement("div",{className:"setting-tabs-nav"},u.default.createElement("ul",{className:"clearfix"},u.default.createElement("li",{className:(0,f.default)({active:e.indexOf("script")>0})},u.default.createElement(d.Link,{to:"/setting/script/detail"},$.translate("discoveryScript"))),u.default.createElement("li",{className:(0,f.default)({active:e.indexOf("localScript")>0})},u.default.createElement(d.Link,{to:"/setting/localScript/detail/"},$.translate("localDiscoveryScript"))),u.default.createElement("li",{className:(0,f.default)({active:e.indexOf("libs")>0})},u.default.createElement(d.Link,{to:"/setting/libs"},$.translate("discoveryLib"))))),u.default.createElement("div",{className:"setting-tabs-content"},this.props.children)))}}]),a}(u.Component);t.default=m},1920:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=n(a(0)),d=a(17),f=a(32),p=r(a(4)),m=a(802);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var v=function(e){(0,c.default)(a,e);var t=h(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).userScript=function(e){f.hashHistory.push("role/roleList/".concat(e))},n.handleFetchRecords=function(e){n.props.dispatch((0,m.fetchUserList)(e))},n.getSearch=function(e){(""===e.target.value||13===e.keyCode&&""!==$.trim(e.target.value))&&n.handleFetchRecords(Object.assign(n.state.conditions,{keyword:e.target.value,page:1}))},n.state={conditions:{keyword:"",page:1,size:15}},n}return(0,i.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,m.fetchUserList)(this.state.conditions))}},{key:"componentWillReceiveProps",value:function(e){if(_.isUndefined(e.params.id)&&e.userList.length>0){var t=e.userList[0].id;f.hashHistory.push("role/roleList/".concat(t))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.userList,n=t.location;return u.default.createElement("div",{className:"view-role"},u.default.createElement("div",{className:"user-list"},u.default.createElement("div",{className:"user-list-title"},$.translate("userList")),u.default.createElement("ul",{className:"user-list-users"},_.map(a,(function(t,a){return u.default.createElement("li",{key:t.id,onClick:function(){return e.userScript(t.id)},title:t.name,className:(0,p.default)({"role-active":n.pathname.indexOf(t.id)>0})},t.name)})))),this.props.children)}}]),a}(u.Component),y=(0,d.connect)((function(e){return{userList:e.role.lists,total:e.role.total,userScript:e.role.userScript}}))(v);t.default=y},1921:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(31)),i=r(a(176)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=n(a(0)),p=a(17),m=a(802);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).isChecked=function(t){return-1!==e.props.userScript.selectIds.indexOf(t)},e.handleSelectScript=function(t){var a=e.props.userScript.selectIds,n=a.indexOf(t);-1===n?a.push(t):a.splice(n,1),e.props.dispatch((0,m.selectScripts)(a)),e.hasChanged=!0},e.submitScript=function(){var t={roleId:e.props.params.id,scriptIds:e.props.userScript.selectIds};e.props.dispatch((0,m.submitUserScript)(t))},e.cancel=function(){e.props.dispatch((0,m.fetchUserScript)(e.props.params.id))},e}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,m.fetchUserScript)(this.props.params.id)),this.hasChanged=!1}},{key:"componentWillReceiveProps",value:function(e){e.params.id!==this.props.params.id&&(e.dispatch((0,m.fetchUserScript)(e.params.id)),this.hasChanged=!1)}},{key:"render",value:function(){var e=this,t=this.props.userScript.data;return f.default.createElement("div",{className:"user-script"},t.length>0?f.default.createElement("div",null,f.default.createElement("p",{className:"pt10"},$.translate("settingUserPlugin")),f.default.createElement("ul",{className:"script-files clearfix"},_.map(t,(function(t){return f.default.createElement("li",{key:t.id},f.default.createElement("div",{className:"script-files-item"},f.default.createElement("div",{className:"script-checkbox"},f.default.createElement(i.default,{onClick:function(){return e.handleSelectScript(t.id)},checked:e.isChecked(t.id)})),f.default.createElement("p",{className:"script-files-item-icon"},f.default.createElement("img",{alt:t.scriptGroup.name,className:"class-icon",src:t.scriptGroup.iconPath})),f.default.createElement("p",{title:t.scriptGroup.name}," ",t.scriptGroup.name," ")))}))),f.default.createElement("div",{className:"mt20"},f.default.createElement(l.default,{type:"primary",disabled:!this.hasChanged,onClick:this.submitScript},$.translate("save")),f.default.createElement(l.default,{type:"primary",className:"ml10",onClick:this.cancel},$.translate("cancel")))):f.default.createElement("div",{className:"no-script"},$.translate("noUseScript")))}}]),a}(f.Component),y=(0,p.connect)((function(e){return{userScript:e.role}}))(v);t.default=y},1922:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(61)),i=r(a(10)),c=r(a(44)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(59)),m=r(a(265)),h=n(a(0)),v=a(17),y=a(32),g=r(a(1923)),E=a(183),b=r(a(654));function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var O=m.default.MenuList,w=m.default.SubMenu,k=p.default.confirm,N=function(e){(0,u.default)(a,e);var t=S(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{},visible:!1,openKeys:[]},e.fetchData=function(t){t=t||e.getGroupTag(),e.props.dispatch((0,E.fetchScriptPluginList)(t)).then((function(a){if(e.props.params.id){var n=e.checkOpenKey(a.sys,e.props.params.id);e.setState({openKeys:n})}else e.setState({openKeys:a.sys[0]?["system"]:["customize"]},(function(){return"LOCAL"===t?y.hashHistory.replace("/setting/localScript/detail/".concat((a.sys[0]||a.cus[0]||{}).id)):y.hashHistory.replace("/setting/script/detail/".concat((a.sys[0]||a.cus[0]||{}).id))}))}))},e.getGroupTag=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,a=b.default.includes(t.location.pathname,"local");return a?"LOCAL":"REMOTE"},e.checkOpenKey=function(e,t){return b.default.some(e,(function(e){return e.id===+t}))?["system"]:["customize"]},e.handleClick=function(t){return"LOCAL"===e.getGroupTag()?y.hashHistory.replace("/setting/localScript/detail/".concat(t.key)):y.hashHistory.replace("/setting/script/detail/".concat(t.key))},e.deleteCusItem=function(t){e.props.dispatch((0,E.deleteScriptPlugin)(t.id)).then((function(a){var n=e.getGroupTag();if(!a.data)return c.default.error(a.message);var r=e.props.scriptList[n],l=b.default.findIndex(r.cusList,(function(e){return e.id===t.id}));r.cusList.splice(l,1);var i=window.location.href.includes("local")?"/localScript/":"/script/";return e.props.dispatch({type:"GET_SCRIPT_PLUGIN_LIST",payload:r}),0===r.cusList.length?y.hashHistory.replace("/setting".concat(i,"detail")):y.hashHistory.replace("/setting".concat(i,"detail/").concat(b.default.get(r,"cusList[".concat(l,"].id"))||b.default.get(r,"cusList[".concat(l-1,"].id"))))}))},e.showConfirm=function(t){k({title:$.translate("sureDeleteCustomPlugin"),content:"",footer:!1,onOk:function(){e.deleteCusItem(t)}})},e.showEditModel=function(t){e.setState({visible:!0,data:t})},e.onCancelEdit=function(){e.setState({visible:!1})},e.onToggle=function(t){var a=t.find((function(t){return-1===e.state.openKeys.indexOf(t)}));-1===["system","customize"].indexOf(a)?e.setState({openKeys:t}):e.setState({openKeys:a?[a]:[]})},e.renderInnerMenu=function(){var t=e.getGroupTag(),a="LOCAL"===t?"/setting/localScript/new":"/setting/script/new",n=e.props.scriptList[t],r=[{key:"system",title:h.default.createElement("span",null,$.translate("defaultPlugin")),data:n.sysList},{key:"customize",title:h.default.createElement("span",null,$.translate("customPlugin")),data:n.cusList,extraProps:{showExtra:!0,extra:h.default.createElement(y.Link,{to:a},h.default.createElement(i.default,{type:"plus"}))},itemExtraProps:function(t){return h.default.createElement("span",null,h.default.createElement(i.default,{type:"edit",onClick:function(){return e.showEditModel(t)}}),h.default.createElement(i.default,{type:"delete",onClick:function(){return e.showConfirm(t)}}))}}];return h.default.createElement("div",{className:"inner-menu new-inner-menu",ref:function(t){return e.innerMenuRef=t}},h.default.createElement(O,{title:$.translate("pluginList"),style:{width:180},onClick:e.handleClick,selectedKeys:[e.props.params.id],openKeys:e.state.openKeys,onOpenChange:e.onToggle},b.default.map(r,(function(e){return h.default.createElement(w,(0,l.default)({key:e.key,title:e.title},e.extraProps),b.default.map(e.data,(function(t){return h.default.createElement(m.default.Item,{title:t.name,key:t.id,showExtra:"hover",extra:e.itemExtraProps&&e.itemExtraProps(t)},h.default.createElement("img",{alt:"",className:"class-icon",src:t.iconPath}),t.name)})))}))))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getGroupTag(e);if(this.props.location.pathname.split("/")[2]!==e.location.pathname.split("/")[2]){if(0===this.props.scriptList[t].sysList.length&&0===this.props.scriptList[t].cusList.length)return this.fetchData(t);var a=this.props.scriptList[t],n=a.sysList,r=a.cusList;return"LOCAL"===t?y.hashHistory.replace("/setting/localScript/detail/".concat((n[0]||r[0]||{}).id)):y.hashHistory.replace("/setting/script/detail/".concat((n[0]||r[0]||{}).id))}if(e.params.id!==this.props.params.id){var l=this.checkOpenKey(this.props.scriptList[t].sysList,e.params.id);this.setState({openKeys:l})}}},{key:"render",value:function(){return h.default.createElement("div",{className:"script"},this.renderInnerMenu(),h.default.createElement("div",{className:"script-info"},this.props.children),h.default.createElement(g.default,{visible:this.state.visible,id:this.props.params.id,onCancel:this.onCancelEdit,data:this.state.data,groupTag:this.getGroupTag()}))}}]),a}(h.PureComponent),T=(0,v.connect)((function(e){return{scriptList:e.discoveryScript.scriptList}}))(N);t.default=T},1923:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(59)),i=r(a(61)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=r(a(19)),p=r(a(76)),m=n(a(0)),h=a(17),v=r(a(803)),y=a(183);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var E,b=p.default.Item,S=f.default.TextArea,O=function(e){(0,o.default)(a,e);var t=g(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={visible:e.props.visible},e.handleCancel=function(){e.props.onCancel(),e.props.form.resetFields()},e.checkName=function(t,a,n){(a=$.trim(a))?(E&&(clearTimeout(E),E=null),E=setTimeout((function(){var t=e.props.id||"0";e.props.dispatch((0,y.checkPluginName)(a,t,(function(e){e.data?n():n([new Error($.translate("nameOccupied"))])}),(function(e){403===e.status&&n([new Error($.translate("dangerCode"))])})))}),500)):n()},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll((function(t,a){t||(a.id=e.props.id,e.props.dispatch((0,y.editScriptPlugin)(a,e.props.id,e.props.groupTag)),e.handleCancel())}))},e}return(0,s.default)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.visible,n=t.data,r={labelCol:{span:5},wrapperCol:{span:17}};return m.default.createElement(l.default,{title:$.translate("edit")+n.name,visible:a,onOk:this.handleSubmit,onCancel:this.handleCancel},m.default.createElement("div",{className:"edit-layout"},m.default.createElement(p.default,null,m.default.createElement(b,(0,i.default)({},r,{label:$.translate("pluginName")}),e("name",{initialValue:n.name,rules:[{required:!0,message:$.translate("keywordWantFindPluginName")},{min:2,max:50,message:$.translate("wordNumRules",{min:2,max:50})},{validator:this.checkName}],trigger:"onChange"})(m.default.createElement(f.default,{placeholder:$.translate("keywordWantFindPluginName")}))),m.default.createElement(b,(0,i.default)({},r,{label:$.translate("pluginDesc")}),e("description",{initialValue:n.description,rules:[{required:!0,message:$.translate("enterPluginDesc")},{min:2,max:255,message:$.translate("wordNumRules",{min:2,max:255})}],trigger:"onChange"})(m.default.createElement(S,{rows:4,placeholder:$.translate("pleaseEnterTaskName")}))),m.default.createElement(b,(0,i.default)({},r,{label:$.translate("pluginIcon")}),e("iconPath",{initialValue:n.iconPath,rules:[{required:!0,message:$.translate("selectPluginIcon")}]})(m.default.createElement(v.default,{url:this.props.form.getFieldValue("iconPath")}))))))}}]),a}(m.PureComponent),w=(0,h.connect)()(p.default.create()(O));t.default=w},1924:function(e,t,a){},1925:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=r(a(25)),f=r(a(19)),p=n(a(0)),m=a(17),h=r(a(23)),v=a(49);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var g=f.default.Search,E=d.default.Option,b=[{type:"jar"},{type:"py"},{type:"tar.gz"},{type:"wheel"}],S=function(e){(0,s.default)(a,e);var t=y(a);function a(e){var n;return(0,i.default)(this,a),(n=t.call(this,e)).handleSearch=function(){var e=n.state,t=e.status,a=e.currentPage,r={status:t,libName:e.keyword,srcType:e.fileType,page:a,size:15};$.get(h.default.script_lib_list,r,(function(e){n.setState({dataSource:e.elements,total:e.totalElementsNum})}))},n.handleChange=function(e){var t=e.target.value.trim();n.setState({keyword:t,currentPage:1},(function(){n.handleSearch()}))},n.handleSelect=function(e){n.setState({fileType:e},(function(){n.handleSearch()}))},n.handlePageChange=function(e){n.setState({currentPage:e},(function(){n.handleSearch()}))},n.renderSearch=function(){return p.default.createElement("header",null,p.default.createElement(g,{placeholder:$.translate("keywordWantFind"),style:{width:250,marginRight:20},onChange:n.handleChange}),p.default.createElement(d.default,{defaultValue:"",style:{width:250},onChange:n.handleSelect},p.default.createElement(E,{value:""},$.translate("allType")),_.map(b,(function(e){return p.default.createElement(E,{key:e.type,value:e.type},e.type)}))))},n.getColumns=function(){return[{title:$.translate("name"),dataIndex:"libName",key:"libName",width:"50%"},{title:$.translate("fileType"),dataIndex:"srcType",key:"srcType"}]},n.state={dataSource:[],total:0,keyword:"",status:"NORMAL",fileType:"",currentPage:1},n}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=[{name:$.translate("setting"),url:"setting/script/detail"},{name:$.translate("discoveryLib")}];this.props.dispatch((0,v.setBreadcrumb)(e)),this.handleSearch()}},{key:"render",value:function(){var e=this.state,t=e.dataSource,a=e.total,n={current:e.currentPage,onChange:this.handlePageChange,pageSize:15,total:a};return p.default.createElement("div",{className:"lib-list"},this.renderSearch(),p.default.createElement(l.default,{className:"lib-list-table",rowKey:function(e){return e.id+e.libName},columns:this.getColumns(),scroll:{y:640},dataSource:t,pagination:n}))}}]),a}(p.Component),O=(0,m.connect)()(S);t.default=O},1926:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(266)),c=r(a(805)),s=r(a(31)),o=r(a(10)),u=r(a(26)),d=r(a(12)),f=r(a(13)),p=r(a(16)),m=r(a(14)),h=r(a(15)),v=r(a(127)),y=r(a(59)),g=n(a(0)),E=a(17),b=a(32),S=r(a(1929)),O=a(49),w=r(a(1930)),k=a(183);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}var T=y.default.confirm,I=v.default.TabPane,P=function(e){(0,p.default)(a,e);var t=N(a);function a(e){var n;return(0,d.default)(this,a),(n=t.call(this,e)).deleteItem=function(e){n.props.dispatch((0,k.deleteScript)(n.props.params.id,e.id))},n.showConfirm=function(e,t){e.stopPropagation(),T({title:$.translate("makeSureDelete")+t.alias,content:$.translate("scriptAbilityInvalid"),footer:!1,onOk:function(){return n.deleteItem(t)}})},n.checkDetail=function(e,t){n.setState({visible:!0,checkedScript:t})},n.handleCancel=function(){n.setState({visible:!1})},n.stopUse=function(e){n.props.dispatch((0,k.useScript)(n.props.params.id,e.id)).then((function(e){e.data&&n.props.dispatch((0,k.fetchScriptDetail)(n.props.params.id))}))},n.addScript=function(){if("LOCAL"===n.getGroupTag())return b.hashHistory.replace("setting/localScript/".concat(n.props.params.id,"/addScript"));b.hashHistory.replace("setting/script/".concat(n.props.params.id,"/addScript"))},n.moreDesc=function(){n.setState({moreDesc:!n.state.moreDesc})},n.tabKey=function(e){n.setState({activeKey:e})},n.state={visible:!1,checkedScript:{},moreDesc:!1,activeKey:"0"},n}return(0,f.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.params.id;this.props.dispatch((0,k.fetchScriptHistory)(t)),this.props.dispatch((0,k.fetchScriptDetail)(t)).then((function(t){var a=[{name:$.translate("setting"),url:"setting/script/detail"},{name:t.scriptGroup.name}];e.props.dispatch((0,O.setBreadcrumb)(a))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.params.id!==e.params.id&&(this.props.dispatch((0,k.fetchScriptHistory)(e.params.id)),this.props.dispatch((0,k.fetchScriptDetail)(e.params.id)).then((function(e){var a=[{name:$.translate("setting"),url:"/setting/script/detail"},{name:e.scriptGroup.name}];t.props.dispatch((0,O.setBreadcrumb)(a))})),this.setState({activeKey:"0"}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,k.resetScriptDetail)())}},{key:"getGroupTag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=_.includes(e.location.pathname,"local");return t?"LOCAL":"REMOTE"}},{key:"render",value:function(){var e,t,a=this,n=[{title:g.default.createElement("span",{className:"ml20"},$.translate("discoveryAbility")),dataIndex:"name",key:"name",width:"45%",render:function(e){return g.default.createElement("span",{className:"ml20"},e)}},{title:$.translate("CMDBModelMatch"),dataIndex:"cmdbName",key:"cmdbName",width:"55%"}],r=this.props,d=r.historyList,f=r.models,p=r.scriptGroup,m=this.state,h=m.checkedScript,y=m.activeKey;return p.description&&(e=p.description.length,t=this.state.moreDesc?g.default.createElement("div",null,g.default.createElement("span",null,p.description),g.default.createElement("a",{onClick:this.moreDesc}," ",$.translate("cancel"))):g.default.createElement("div",null,g.default.createElement("span",null,p.description.substr(0,55)+"..."),g.default.createElement("a",{onClick:this.moreDesc}," ",$.translate("more")))),g.default.createElement("div",{className:"script-detail"},g.default.createElement("div",{className:"script-detail-discovery"},g.default.createElement("div",{className:"script-detail-discovery-title"},g.default.createElement("h2",{className:"mb10"},$.translate("discoveryAbility")," - ",p.name),e>55?t:p.description),g.default.createElement("div",{className:"script-detail-discovery-container setting-detail"},g.default.createElement(v.default,{activeKey:y,onChange:function(e){return a.tabKey(e)}},_.map(f,(function(e,t){return g.default.createElement(I,{tab:e.name,key:t},g.default.createElement(u.default,{className:"mt10",rowKey:function(e){return e.code},pagination:!1,dataSource:e.fields,columns:n,size:"middle"}))}))))),g.default.createElement("div",{className:"script-detail-history"},g.default.createElement("div",null,g.default.createElement("h3",{className:"script-detail-history-title"},$.translate("scriptHistory")),g.default.createElement("div",{className:"script-detail-history-update"},g.default.createElement(s.default,{type:"primary",onClick:this.addScript,style:{width:"100%",height:32}},g.default.createElement(o.default,{type:"upload"})," ",$.translate("uploadScript")),g.default.createElement("div",{className:"how-to"},"zh_CN"===window.USER_INFO.language?g.default.createElement("a",{href:w.default},$.translate("howToMakeScript")):null))),g.default.createElement("div",null,_.map(d,(function(e,t){return g.default.createElement(i.default,{key:e.id,content:e.description,title:!1},g.default.createElement("div",{className:"script-detail-history-item",onClick:function(t){return a.checkDetail(t,e)}},g.default.createElement("div",{className:"script-detail-history-item-title"},g.default.createElement("div",null,g.default.createElement("div",{className:"script-detail-history-item-title-name"},e.alias),"DRAFT"===e.scriptStatus?g.default.createElement("span",{className:"script-detail-history-item-title-state"},g.default.createElement("i",{className:"iconfont icon-jiance"})," ",$.translate("notTested")):g.default.createElement("span",{className:"script-detail-history-item-title-state"},g.default.createElement("i",{className:"iconfont icon-jiance"}),"  ",$.translate("haveTested"))),g.default.createElement("div",{className:"script-detail-history-item-desc"},e.description)),g.default.createElement("div",{className:"script-detail-history-item-handle"},g.default.createElement("div",{className:"inline-block",onClick:function(e){return e.stopPropagation()}},"DRAFT"===e.scriptStatus?null:g.default.createElement(c.default,{checkedChildren:$.translate("use"),unCheckedChildren:$.translate("stop"),checked:e.used,onChange:function(){return a.stopUse(e)}})),"SYSTEM"!==e.scriptType?g.default.createElement("span",null,e.used?null:g.default.createElement("div",{className:"inline-block script-btn",onClick:function(t){return a.showConfirm(t,e)}},g.default.createElement(o.default,{type:"delete"})),"DRAFT"===e.scriptStatus?null:g.default.createElement("a",{href:e.fsPath,className:"script-btn",target:"_blank",onClick:function(e){return e.stopPropagation()}},g.default.createElement(o.default,{type:"download"}))):null)))})))),g.default.createElement(l.default,{title:h.alias,width:"900",visible:this.state.visible,onClose:this.handleCancel,overflow:!0},g.default.createElement(S.default,{id:this.props.params.id,data:h,cancel:this.handleCancel,groupTag:this.getGroupTag()})))}}]),a}(g.Component),R=(0,E.connect)((function(e){return{historyList:e.discoveryScript.historyList,models:e.discoveryScript.models,scriptGroup:e.discoveryScript.scriptGroup}}))(P);t.default=R},1929:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(61)),c=r(a(10)),s=r(a(805)),o=r(a(31)),u=r(a(12)),d=r(a(13)),f=r(a(16)),p=r(a(14)),m=r(a(15)),h=r(a(127)),v=r(a(59)),y=r(a(76)),g=n(a(0)),E=a(17),b=a(32),S=r(a(58)),O=a(183);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var r=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var k=y.default.Item,N=v.default.confirm,T=h.default.TabPane,I=function(e){(0,f.default)(a,e);var t=w(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).deleteItem=function(e){n.props.dispatch((0,O.deleteScript)(n.props.id,e.id)),n.props.cancel()},n.showConfirm=function(e){N({title:$.translate("makeSureDelete")+"".concat(e.alias,"\uff1f"),content:$.translate("scriptAbilityInvalid"),footer:!1,onOk:function(){return n.deleteItem(e)}})},n.stopUse=function(e){n.props.dispatch((0,O.useScript)(n.props.id,e.id)),n.setState({used:"used"})},n.editModel=function(){var e=n.props.data;if("LOCAL"===n.props.groupTag)return b.hashHistory.replace("setting/localScript/".concat(e.scriptGroupId,"/edit/").concat(e.id));b.hashHistory.replace("setting/script/".concat(e.scriptGroupId,"/edit/").concat(e.id))},n.editScript=function(){var e=n.props.data;if("LOCAL"===n.props.groupTag)return b.hashHistory.replace("setting/localScript/".concat(e.scriptGroupId,"/editScript/").concat(e.id));b.hashHistory.replace("setting/script/".concat(e.scriptGroupId,"/editScript/").concat(e.id))},n.tabKey=function(e){n.setState({activeKey:e})},n.state={activeKey:"0",used:e.data.used?"used":"noUsed"},n}return(0,d.default)(a,[{key:"render",value:function(){var e=this,t=this.props.data,a=this.state.activeKey,n=[{title:g.default.createElement("span",{className:"ml20"},$.translate("discoveryAbility")),dataIndex:"name",key:"name",width:"35%",render:function(e){return g.default.createElement("span",{className:"ml20"},e)}},{title:$.translate("CMDBModelMatch"),dataIndex:"cmdbName",key:"cmdbName",width:"65%"}],r={labelCol:{span:4},wrapperCol:{span:18}};return g.default.createElement("div",null,g.default.createElement("div",{className:"scan-modal"},g.default.createElement("div",{className:"scan-modal-action clearfix"},"SYSTEM"===t.scriptType||t.used?null:g.default.createElement(o.default,{type:"primary",onClick:this.editScript,style:{marginTop:"5px"}},$.translate("editScript")),g.default.createElement("span",{className:"pull-right",style:{margin:"10px 10px 0"}},"DRAFT"===t.scriptStatus?null:g.default.createElement(s.default,{checkedChildren:$.translate("use"),unCheckedChildren:$.translate("stop"),checked:"used"===this.state.used,onChange:function(){return e.stopUse(t)}}),"SYSTEM"!==t.scriptType?g.default.createElement("span",null,"DRAFT"===t.scriptStatus?null:g.default.createElement("a",{className:"script-btn pl20",target:"_blank",href:t.fsPath},g.default.createElement(c.default,{type:"download"})),t.used?null:g.default.createElement("div",{className:"inline-block script-btn pl20",onClick:function(){return e.showConfirm(t)}},g.default.createElement(c.default,{type:"delete"}))):null)),g.default.createElement(y.default,{className:"side-modal-inner-block"},g.default.createElement("div",{className:"side-modal-inner-title"},$.translate("basicInformation")),g.default.createElement(k,(0,i.default)({},r,{label:$.translate("scriptName")}),g.default.createElement("p",{className:"ant-form-text"},t.alias)),g.default.createElement(k,(0,i.default)({},r,{label:$.translate("scriptProtocol")}),g.default.createElement("p",{className:"ant-form-text"},t.protocol)),g.default.createElement(k,(0,i.default)({},r,{label:$.translate("uploadPerson")}),g.default.createElement("p",{className:"ant-form-text"},t.createdBy)),g.default.createElement(k,(0,i.default)({},r,{label:$.translate("uploadTime")}),g.default.createElement("p",{className:"ant-form-text"},(0,S.default)(t.createdAt).format("YYYY-MM-DD  hh:mm:ss")))),"DRAFT"===t.scriptStatus?null:g.default.createElement(o.default,{type:"primary",onClick:this.editModel,style:{margin:"10px 0 0"}},$.translate("editModel")),g.default.createElement("div",{className:"script-detail-discovery-container setting-detail"},g.default.createElement(h.default,{activeKey:a,onChange:function(t){return e.tabKey(t)}},_.map(t.models,(function(e,t){return g.default.createElement(T,{tab:e.name,key:t},g.default.createElement(l.default,{className:"mt10",rowKey:function(e){return e.id},pagination:!1,dataSource:e.fields,columns:n,size:"middle"}))}))))))}}]),a}(g.Component),P=(0,E.connect)((function(e){return{}}))(I);t.default=P},1930:function(e,t,a){e.exports=a.p+"static/pdf/discoveryPdf.94e9960.pdf"},1931:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(223)),i=r(a(31)),c=r(a(10)),s=r(a(61)),o=r(a(19)),u=r(a(24)),d=r(a(44)),f=r(a(12)),p=r(a(13)),m=r(a(16)),h=r(a(14)),v=r(a(15)),y=r(a(806)),g=r(a(76)),E=n(a(0)),b=a(17),S=r(a(807)),O=r(a(808)),w=r(a(809)),k=r(a(810)),N=a(49),T=a(183),I=r(a(23)),P=r(a(803));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,v.default)(e);if(t){var r=(0,v.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var D,L=g.default.Item,x=y.default.Step,F=function(e){(0,m.default)(a,e);var t=j(a);function a(e){var n;return(0,f.default)(this,a),(n=t.call(this,e)).checkName=function(e,t,a){(t=$.trim(t))?(D&&(clearTimeout(D),D=null),D=setTimeout((function(){var e=n.props.params.id||"0";n.props.dispatch((0,T.checkPluginName)(t,e,(function(e){e.data?a():a([new Error($.translate("nameOccupied"))])}),(function(e){403===e.status&&a([new Error($.translate("dangerCode"))])})))}),500)):a()},n.showTestResult=function(e,t,a){n.setState({testResult:e,nextBtn:t,jobId:a})},n.updateCode=function(e,t){t||d.default.error($.translate("selectFileFormat")),n.setState({isEditCode:!0,editCode:{scriptStr:e,scriptPropertyType:t},testResult:!1,nextBtn:!1}),n.props.form.setFieldsValue({scriptStr:e})},n.getGroupTag=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=_.includes(e.location.pathname,"local");return t?"LOCAL":"REMOTE"},n.handleSave=function(e,t){e.preventDefault(),n.props.form.validateFields((function(e,a){if(!e){var r=n.state,l=r.isEditCode,i=r.editCode,c=r.fileContent,s=r.scriptId,o=r.fileName;if(_.isUndefined(i.scriptStr)&&_.isUndefined(c.scriptStr))return n.setState({isUpload:!1});a.groupTag=n.getGroupTag(),a.scriptId=s,a.originalFileName=o,a.scriptStr=l?i.scriptStr:c.scriptStr,a.scriptPropertyType=l?i.scriptPropertyType:c.scriptPropertyType,"next"===t?(a.draft=!1,n.props.dispatch((0,T.createScript)(a))):(a.draft=!0,n.props.dispatch((0,T.saveScript)(a)).then((function(e){n.setState({scriptId:e.scriptId})}))),n.setState({isUpload:!0})}}))},n.state={isUpload:!0,fileContent:{},editCode:{},fileName:"",isEditCode:!1,testResult:!1,nextBtn:!1,jobId:0,scriptId:null},n}return(0,p.default)(a,[{key:"componentDidMount",value:function(){var e=[{name:$.translate("setting"),url:"setting/script/detail"},{name:$.translate("addPlugin")}];this.props.dispatch((0,N.setBreadcrumb)(e))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.getGroupTag(),n=this.state,r=n.fileContent,u=n.testResult,f=n.jobId,p=n.isEditCode,m=n.editCode,h=n.nextBtn,v={labelCol:{span:2},wrapperCol:{span:12}},b=this,N={accept:"REMOTE"===a?".groovy,.powersheel,.py":".py",action:I.default.upload_script,beforeUpload:function(e){if(e.size>2097152)return d.default.error($.translate("sizeTip",{size:"2M"})),!1},onChange:function(e){var t=e.file.status;"done"===t?(d.default.success("".concat(e.file.name)+$.translate("uploadSuccess")),b.props.form.setFieldsValue({scriptStr:e.file.response}),b.setState({isEditCode:!1,fileContent:e.file.response,fileName:e.file.name,testResult:!1,nextBtn:!1,isUpload:!0})):"error"===t&&d.default.error("".concat(e.file.name)+$.translate("uploadFail"))}};return E.default.createElement("div",{className:"form-container"},E.default.createElement("div",null,E.default.createElement("div",{style:{textAlign:"center"}},E.default.createElement(y.default,{style:{width:"70%"},current:0},E.default.createElement(x,{title:$.translate("uploadScript")}),E.default.createElement(x,{title:$.translate("ScriptAbility&ModelMatch")}))),E.default.createElement(g.default,{style:{marginTop:30}},E.default.createElement(L,(0,s.default)({},v,{label:$.translate("pluginName"),hasFeedback:!0}),t("pluginName",{rules:[{required:!0,message:$.translate("keywordWantFindPluginName")},{min:2,max:50,message:$.translate("wordNumRules",{min:2,max:50})},{validator:this.checkName}]})(E.default.createElement(o.default,{placeholder:$.translate("keywordWantFindPluginName")}))),E.default.createElement(L,(0,s.default)({},v,{label:$.translate("pluginDesc"),hasFeedback:!0}),t("description",{rules:[{required:!0,message:$.translate("enterPluginDesc")},{min:2,max:255,message:$.translate("wordNumRules",{min:2,max:255})}]})(E.default.createElement(o.default,{rows:4,placeholder:$.translate("enterPluginDesc"),type:"textarea"}))),E.default.createElement(L,(0,s.default)({},v,{label:$.translate("pluginIcon"),hasFeedback:!0}),t("pluginIcon",{rules:[{required:!0,message:$.translate("selectPluginIcon")}]})(E.default.createElement(P.default,{url:this.props.form.getFieldValue("pluginIcon")}))),E.default.createElement(L,(0,s.default)({},v,{label:$.translate("libExtend"),hasFeedback:!0}),t("slufs")(E.default.createElement("div",null)),E.default.createElement(w.default,{onChange:function(t){return e.props.form.setFieldsValue({slufs:t})}})),E.default.createElement(L,(0,s.default)({},{labelCol:{span:2},wrapperCol:{span:20}},{label:$.translate("uploadScript"),hasFeedback:!0}),t("scriptStr",{initialValue:"",rules:[{required:!0,message:$.translate("pleaseInputScript")}]})(E.default.createElement("div",null)),E.default.createElement("div",{className:"dropbox"},E.default.createElement(l.default,N,E.default.createElement(i.default,{type:"ghost"},E.default.createElement(c.default,{type:"upload"})," ",$.translate("uploadScript")),E.default.createElement("span",{className:"upload-desc"},$.translate("secondaryEditor")))),E.default.createElement(k.default,{value:r.scriptStr,mode:r.scriptPropertyType,onUpdateCode:this.updateCode,groupTag:a})),u?E.default.createElement(L,{wrapperCol:{span:20,offset:2}},E.default.createElement(O.default,{jobId:f,isSuc:h})):null,E.default.createElement("div",{style:{height:70}},E.default.createElement("div",{className:"add-script-btn"},E.default.createElement(S.default,{fileContent:function(){var t=e.props.form.getFieldValue("slufs");return C(C({},p?m:r),{},{slufs:t})}(),onShowTestResult:this.showTestResult,groupTag:a}),E.default.createElement(i.default,{className:"mr10",type:"primary",onClick:this.handleSave},$.translate("temporaryBtn")),h?E.default.createElement(i.default,{type:"primary",onClick:function(t){return e.handleSave(t,"next")}},$.translate("next")):null)))))}}]),a}(E.Component),A=g.default.create()(F),M=(0,b.connect)((function(e){return{}}))(A);t.default=M},1945:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLACE_HOLDER=void 0;var n={groovy:"/*!Action\naction.name= ".concat($.translate("fillScriptName"),"\naction.descr= ").concat($.translate("fillScriptDescription"),"\naction.protocols= ").concat($.translate("fillScriptAgreementName"),"\ndiscovery.output= ").concat($.translate("fillScriptOutType"),"\n*/\n/*!Params\n ip:").concat($.translate("targetDevice")," IP,ip,,true\n ").concat($.translate("fillScriptParameters"),"\n*/\n/*!Model\n").concat($.translate("fillScriptModel"),"\n*/\n").concat($.translate("referDevelopmentDocument")," "),powershell:"<#!Action\n action.name= ".concat($.translate("fillScriptName"),"\n action.descr= ").concat($.translate("fillScriptDescription"),"\n discovery.output= ").concat($.translate("fillScriptOutType"),"\n #>\n<#!Params\n ip:").concat($.translate("targetDevice")," IP,ip,,true\n ").concat($.translate("fillScriptParameters"),"\n<#!Model\n").concat($.translate("fillScriptModel"),"\n#>\n\n").concat($.translate("referDevelopmentDocument")," "),python:'# coding: utf-8\n"""!Action\naction.name= '.concat($.translate("fillScriptName"),"\naction.descr= ").concat($.translate("fillScriptDescription"),"\ndiscovery.output= ").concat($.translate("fillScriptOutType"),'\n"""\n"""!Params\nip:').concat($.translate("targetDevice")," IP,ip,,true\n").concat($.translate("fillScriptParameters"),'\n"""\n"""!Model\n').concat($.translate("fillScriptModel"),'\n"""\n').concat($.translate("referDevelopmentDocument")," ")};t.PLACE_HOLDER=n},1946:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(31)),i=r(a(203)),c=r(a(266)),s=r(a(204)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=r(a(127)),h=r(a(25)),v=n(a(0)),y=a(503),g=a(32),E=r(a(1980)),b=r(a(1981)),S=a(17),O=r(a(1991)),w=r(a(1993)),k=r(a(1994)),N=a(49),T=a(183),I=a(1995);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var R=O.default.Item,C=h.default.Option,j=h.default.OptGroup,D=m.default.TabPane,L=function(e){(0,d.default)(a,e);var t=P(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleDrop=function(e,t,a){var r=n.state,l=r.defaultCode,i=r.defaultAttr;n.props.dispatch((0,I.handleModel)(e,t,a,l,i)),n.setState((0,E.default)(n.state,{droppedNames:a.name?{$push:[a.name,a.code]}:{}}))},n.isDropped=function(e){var t=[];return _.map(n.state.modelDetail.data,(function(e,a){t.push(e.cmdbCode)})),_.findIndex(t,(function(t){return t===e}))>-1},n.fetchList=function(e,t){n.props.dispatch((0,T.fetchAttrList)(e)),n.setState({defaultAttr:t.props.children,defaultCode:t.props.value})},n.deleteItem=function(e,t){n.props.dispatch((0,I.deleteModelItem)(e,t)),n.setState((0,E.default)(n.state,{droppedNames:{}}))},n.getGroupTag=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=_.includes(e.location.pathname,"local");return t?"LOCAL":"REMOTE"},n.redirectToScript=function(){var e=n.props.params.groupId;return"LOCAL"===n.getGroupTag()?g.hashHistory.push("/setting/localScript/detail/".concat(e)):g.hashHistory.push("/setting/script/detail/".concat(e))},n.handleSubmit=function(){var e={};n.props.location.pathname.indexOf("edit")>0?(e.scriptId=n.props.params.id,e.models=n.props.models,n.props.dispatch((0,T.saveScriptModels)(e)).then(n.redirectToScript)):(e.scriptPath=n.props.pluginData.scriptPath,e.displayFileName=n.props.pluginData.displayFileName,e.models=n.props.models,n.props.dispatch((0,T.addScriptModels)(e,n.props.params.groupId)).then(n.redirectToScript))},n.handleCancel=function(){g.hashHistory.replace("/setting/script/detail/".concat(n.props.params.groupId))},n.tabKey=function(e){var t=n.props.models;n.setState({activeKey:e,modelDetail:{index:e,data:t[e].fields}})},n.state={droppedNames:[],modelDetail:{index:0,data:[]},defaultAttr:"",defaultCode:"",activeKey:"0"},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch((0,T.fetchScriptModels)(this.props.params.id)).then((function(t){var a=[{name:$.translate("setting"),url:"setting/script/detail"},{name:$.translate("script")+t.alias}];e.props.dispatch((0,N.setBreadcrumb)(a)),t.models.length>0?e.setState({modelDetail:{index:0,data:t.models[0].fields}}):e.setState({modelDetail:{index:0,data:[]}})})),this.props.dispatch((0,T.fetchModelClasses)()).then((function(t){t.layers.length>0&&t.layers[0].classes.length>0&&(e.props.dispatch((0,T.fetchAttrList)(t.layers[0].classes[0].cmdbCode)),e.setState({defaultAttr:t.layers[0].classes[0].name,defaultCode:t.layers[0].classes[0].code}))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.models,n=t.classes,r=t.attrList,o=t.script,u=this.state,d=u.modelDetail,f=u.defaultAttr,p=u.activeKey;return v.default.createElement("div",{className:"form-container"},v.default.createElement(i.default,{className:"model-title"},v.default.createElement(s.default,{span:17},v.default.createElement(O.default,{className:"mt20 script-steps",step:2},v.default.createElement(R,null,$.translate("Plugin&Script")),v.default.createElement(R,null,$.translate("ScriptAbility&ModelMatch")))),v.default.createElement(s.default,{span:7},v.default.createElement(c.default,{content:o.description,title:!1},v.default.createElement("div",{className:"model-desc"},v.default.createElement("h2",null,o.alias),v.default.createElement("div",{className:"desc"},o.description))))),v.default.createElement("div",null,v.default.createElement(i.default,{className:"modal-container"},v.default.createElement(s.default,{className:"script-model",span:17},v.default.createElement(m.default,{activeKey:p,onChange:function(t){return e.tabKey(t)}},_.map(a,(function(t,a){return v.default.createElement(D,{tab:t.name,key:a},v.default.createElement("table",{className:"target-model"},v.default.createElement("thead",null,v.default.createElement("tr",null,v.default.createElement("td",{width:"30%"},$.translate("discoveryAbility")),v.default.createElement("td",{width:"70%"},$.translate("CMDBModelMatch")))),v.default.createElement("tbody",null,_.map(t.fields,(function(t,a){return v.default.createElement("tr",{key:t.code},v.default.createElement("td",null,t.name),v.default.createElement("td",null,v.default.createElement(k.default,{receiveItem:t.cmdbName,onDrop:function(t){return e.handleDrop(d.index,a,t)},deleteItem:function(){return e.deleteItem(d.index,a)},modelIndex:d.index,dispatch:e.props.dispatch,index:a,key:a})))})))))})))),v.default.createElement(s.default,{span:7,style:{height:"100%"}},v.default.createElement("div",{className:"script-detail-history script-attr",style:{margin:"10px 10px 0 20px"}},v.default.createElement("div",{className:"script-detail-history-title"},$.translate("CMDBModelAttr")),v.default.createElement("div",{className:"script-detail-history-update"},$.translate("dragToMatch")),v.default.createElement("div",null,v.default.createElement(h.default,{showSearch:!0,style:{width:180},value:f,defaultValue:f,notFoundContent:$.translate("noData"),onSelect:function(t,a){return e.fetchList(t,a)},optionFilterProp:"title"},_.map(n.layers,(function(e){return v.default.createElement(j,{key:e.code,label:e.name},_.map(e.classes,(function(e){return v.default.createElement(C,{key:e.cmdbCode,title:e.name,value:e.cmdbCode},e.name)})))})))),v.default.createElement("div",null,r.map((function(t,a){return v.default.createElement(w.default,{item:t,isDropped:e.isDropped(t.cmdbCode),key:a})}))))))),v.default.createElement("div",{className:"add-script-btn"},v.default.createElement(l.default,{type:"primary",onClick:this.handleSubmit},$.translate("save")),v.default.createElement(l.default,{style:{marginLeft:15},type:"ghost",onClick:this.handleCancel},$.translate("cancel"))))}}]),a}(v.Component);L=(0,S.connect)((function(e){return{models:e.discoveryScript.models,script:e.discoveryScript.script,classes:e.discoveryScript.classes,attrList:e.discoveryScript.attrList,pluginData:e.discoveryScript.pluginData}}))(L);var x=(0,y.DragDropContext)(b.default)(L);t.default=x},1991:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(61)),i=r(a(508)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=n(a(0)),p=r(a(4)),m=r(a(1992));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){return(0,c.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"render",value:function(){var e=this.props,t=e.step,a=e.children,n=e.className,r=(0,i.default)(e,["step","children","className"]),c=100/a.length+"%";return f.default.createElement("div",(0,l.default)({},r,{className:(0,p.default)(["step",[n]])}),a.map((function(e,a){return f.default.createElement(m.default,(0,l.default)({width:c,key:a,num:a+1,active:a+1<t,current:a+1===t},e.props))})))}}]),a}(f.Component);v.Item=m.default;var y=v;t.default=y},1992:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=n(a(0)),f=r(a(4));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var m=function(e){(0,s.default)(a,e);var t=p(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props,t=e.num,a=e.active,n=e.current,r=e.children;return d.default.createElement("div",{className:(0,f.default)("step-item",{active:a,current:n})},d.default.createElement("span",{className:"step-num"},a?d.default.createElement(l.default,{type:"check"}):t),d.default.createElement("span",{className:"step-name"},r),d.default.createElement("span",{className:"step-tail"}))}}]),a}(d.Component);t.default=m},1993:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),c=r(a(16)),s=r(a(14)),o=r(a(15)),u=r(a(24)),d=n(a(0)),f=r(a(4)),p=a(503);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var v={beginDrag:function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.item)}},y=function(e){(0,c.default)(a,e);var t=m(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props,t=e.isDropped,a=e.isDragging,n=e.connectDragSource,r=this.props.item.name,l=a?.4:1;return t?d.default.createElement("div",{className:(0,f.default)({"drag-item":!0,"no-drag-item":t}),style:{opacity:l}},r):n(d.default.createElement("div",{className:(0,f.default)({"drag-item":!0,"no-drag-item":t}),style:{opacity:l}},r))}}]),a}(d.Component),g=y=(0,p.DragSource)("model",v,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(y);t.default=g},1994:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=n(a(0)),f=r(a(4)),p=a(503);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,s.default)(a,e);var t=m(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return(0,c.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.canDrop,n=t.isOver,r=t.connectDropTarget,i=t.receiveItem,c=a&&n;return r(d.default.createElement("div",{className:(0,f.default)({"target-item":!0,"target-item-wait":null===i,"target-item-over":null!==i,"target-item-draping-suc":c,"target-item-draping":a})},i,null!==i?d.default.createElement(l.default,{onClick:function(){return e.props.deleteItem()},className:"delete-item",type:"close-circle"}):null))}}]),a}(d.Component),v=h=(0,p.DropTarget)("model",{drop:function(e,t){e.onDrop(t.getItem())}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))(h);t.default=v},1995:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteModelItem=t.handleModel=void 0;var n=a(53);t.handleModel=function(e,t,a,r,l){return function(i,c){var s=c().discoveryScript.models;s[e].cmdbCode=r,s[e].cmdbName=l,s[e].fields[t].cmdbName=a.name,s[e].fields[t].cmdbCode=a.code,s[e].fields[t].fieldType=a.type,i({type:n.GET_SCRIPT_PLUGIN_MODELS,payload:{models:s}})}};t.deleteModelItem=function(e,t){return function(a,r){var l=r().discoveryScript.models;l[e].fields[t].cmdbName=null,l[e].fields[t].cmdbCode=null,a({type:n.GET_SCRIPT_PLUGIN_MODELS,payload:{models:l}})}}},1996:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(223)),i=r(a(31)),c=r(a(10)),s=r(a(61)),o=r(a(24)),u=r(a(508)),d=r(a(44)),f=r(a(12)),p=r(a(13)),m=r(a(16)),h=r(a(14)),v=r(a(15)),y=r(a(806)),g=r(a(76)),E=n(a(0)),b=a(17),S=r(a(807)),O=r(a(808)),w=r(a(810)),k=a(49),N=a(183),T=r(a(809)),I=r(a(23));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,v.default)(e);if(t){var r=(0,v.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var j=g.default.Item,D=y.default.Step,L=function(e){(0,m.default)(a,e);var t=C(a);function a(e){var n;return(0,f.default)(this,a),(n=t.call(this,e)).showTestResult=function(e,t,a){n.setState({testResult:e,nextBtn:t,jobId:a})},n.updateCode=function(e,t){t||d.default.error($.translate("selectFileFormat")),n.setState({isEditCode:!0,editCode:{scriptStr:e,scriptPropertyType:t},testResult:!1,nextBtn:!1}),n.props.form.setFieldsValue({scriptStr:e})},n.getGroupTag=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=_.includes(e.location.pathname,"local");return t?"LOCAL":"REMOTE"},n.handleSubmit=function(e,t){var a=n.props.params.groupId;n.props.form.validateFields((function(e,r){var l=n.state,i=l.isEditCode,c=l.editCode,s=l.fileContent,o=l.scriptId,u=l.fileName;(!e||_.isUndefined(c.scriptStr)||_.isUndefined(s.scriptStr))&&(_.isUndefined(c.scriptStr)&&_.isUndefined(s.scriptStr)?n.setState({isUpload:!1}):(n.setState({isUpload:!0}),r.groupTag=n.getGroupTag(),r.scriptId=o,r.originalFileName=u,r.scriptStr=i?c.scriptStr:s.scriptStr,r.scriptPropertyType=i?c.scriptPropertyType:s.scriptPropertyType,n.props.params.id?r.edit=!0:r.edit=!1,"next"===t?(r.draft=!1,n.props.dispatch((0,N.addScript)(r,a))):(r.draft=!0,n.props.dispatch((0,N.addScript)(r,a)).then((function(e){n.setState({scriptId:e.scriptId})})))))}))},n.resetUploadFile=function(){n.setState({scriptPath:"",scriptUrl:""})},n.state={isUpload:!0,isEditCode:!1,fileContent:{},fileName:"",editCode:{},testResult:!1,nextBtn:!1,jobId:0,scriptId:null,loading:!0},n}return(0,p.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.params.id;if(t)this.props.dispatch((0,N.editScript)(t)).then((function(a){var n=a.filename,r=(0,u.default)(a,["filename"]);e.setState({fileContent:R({},r),scriptId:t,fileName:n,loading:!1});var l=[{name:$.translate("setting"),url:"setting/script/detail"},{name:$.translate("editScript")+a.filename}];e.props.dispatch((0,k.setBreadcrumb)(l))}));else{var a=[{name:$.translate("setting"),url:"setting/script/detail"},{name:$.translate("addScript")}];this.props.dispatch((0,k.setBreadcrumb)(a)),this.setState({loading:!1})}}},{key:"render",value:function(){var e=this;if(this.state.loading)return null;var t=this.state,a=t.fileContent,n=t.testResult,r=t.jobId,o=t.isEditCode,u=t.editCode,f=t.nextBtn,p=this.props.form.getFieldDecorator,m=this,h=this.getGroupTag(),v={accept:"REMOTE"===h?".groovy,.powersheel,.py":".py",action:I.default.upload_script,beforeUpload:function(e){if(e.size>2097152)return d.default.error($.translate("sizeTip",{size:"2M"})),!1},onChange:function(e){var t=e.file.status;"done"===t?(d.default.success("".concat(e.file.name)+$.translate("uploadSuccess")),m.props.form.setFieldsValue({scriptStr:e.file.response}),m.setState({isEditCode:!1,fileContent:e.file.response,fileName:e.file.name,testResult:!1,nextBtn:!1,isUpload:!0})):"error"===t&&d.default.error("".concat(e.file.name)+$.translate("uploadFail"))}};return E.default.createElement("div",{className:"form-container"},E.default.createElement("div",null,E.default.createElement("div",{style:{textAlign:"center"}},E.default.createElement(y.default,{style:{width:"70%"},current:0},E.default.createElement(D,{title:$.translate("uploadScript")}),E.default.createElement(D,{title:$.translate("ScriptAbility&ModelMatch")}))),E.default.createElement(g.default,{style:{marginTop:30}},E.default.createElement(j,(0,s.default)({},{labelCol:{span:2},wrapperCol:{span:12}},{label:$.translate("libExtend"),hasFeedback:!0}),p("slufs",{initialValue:a.slufs})(E.default.createElement("div",null)),E.default.createElement(T.default,{defaultFileList:a.slufs,onChange:function(t){return e.props.form.setFieldsValue({slufs:t})}})),E.default.createElement(j,(0,s.default)({},{labelCol:{span:2},wrapperCol:{span:20}},{label:$.translate("uploadScript"),hasFeedback:!0}),p("scriptStr",{initialValue:"",rules:[{required:!0,message:$.translate("pleaseInputScript")}]})(E.default.createElement("div",null)),E.default.createElement("div",{className:"dropbox"},E.default.createElement(l.default,v,E.default.createElement(i.default,{type:"ghost"},E.default.createElement(c.default,{type:"upload"})," ",$.translate("uploadScript")),E.default.createElement("span",{className:"upload-desc"},$.translate("secondaryEditor")))),E.default.createElement(w.default,{value:a.scriptStr,mode:a.scriptPropertyType,onUpdateCode:this.updateCode,groupTag:h})),n?E.default.createElement(j,{wrapperCol:{span:20,offset:2}},E.default.createElement(O.default,{jobId:r,isSuc:f})):null,E.default.createElement("div",{style:{height:70}},E.default.createElement("div",{className:"add-script-btn"},E.default.createElement(S.default,{fileContent:function(){var t=e.props.form.getFieldValue("slufs");return R(R({},o?u:a),{},{slufs:t})}(),onShowTestResult:this.showTestResult,groupTag:h}),E.default.createElement(i.default,{className:"mr10",type:"ghost",onClick:this.handleSubmit},$.translate("temporaryBtn")),f?E.default.createElement(i.default,{type:"ghost",onClick:function(t){return e.handleSubmit(t,"next")}},$.translate("next")):null)))))}}]),a}(E.Component),x=g.default.create()(L),F=(0,b.connect)()(x);t.default=F},1997:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(203)),i=r(a(204)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=n(a(0)),p=a(17),m=a(49);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){return(0,c.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=[{name:$.translate("help")}];this.props.setBreadcrumb(e)}},{key:"render",value:function(){return f.default.createElement("div",{className:"container"},f.default.createElement(l.default,{className:"help-view"},f.default.createElement(i.default,{className:"help-view-side",span:"8"},f.default.createElement("div",{className:"help-view-item"},f.default.createElement("h4",{className:"help-view-item-title"},$.translate("userManual")),f.default.createElement("p",{className:"help-view-item-desc"},$.translate("descFuncInstructions")),f.default.createElement("p",null,f.default.createElement("a",{href:"/"},$.translate("netWorkScan")),f.default.createElement("a",{href:"/"},$.translate("depthFound")),f.default.createElement("a",{href:"/"},"FAQ"))),f.default.createElement("div",{className:"help-view-item"},f.default.createElement("h4",{className:"help-view-item-title"},$.translate("findAbility")),f.default.createElement("p",{className:"help-view-item-desc"},$.translate("descFuncInstructions")),f.default.createElement("p",null,f.default.createElement("strong",null,$.translate("scan"))),f.default.createElement("p",null,f.default.createElement("a",{href:"/"},$.translate("scan")),f.default.createElement("a",{href:"/"},$.translate("depthFound")),f.default.createElement("a",{href:"/"},"FAQ")))),f.default.createElement(i.default,{span:"16"})))}}]),a}(f.Component),y=(0,p.connect)((function(e){return{}}),{setBreadcrumb:m.setBreadcrumb})(v);t.default=y},2004:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(445),l=n(a(2005)),i=n(a(2006)),c=n(a(2007)),s=n(a(2008)),o=n(a(2009)),u=n(a(2010)),d=n(a(2011)),f=n(a(2012)),p=n(a(804)),m=n(a(2013)),h=n(a(314)),v=n(a(118)),y=n(a(259)),g=n(a(327)),E=n(a(326)),b=n(a(798)),S=n(a(178)),O=n(a(329)),w=n(a(801)),k=n(a(470)),N=n(a(84)),T=n(a(179)),I=n(a(472)),P=n(a(182)),_=n(a(500)),R=n(a(131)),C=n(a(225)),j=n(a(471)),$=n(a(330)),D=n(a(221)),L=n(a(120)),x=n(a(502)),F=n(a(222)),A=n(a(224)),M=(0,r.combineReducers)({network:g.default,agent:E.default,localAgent:b.default,log:S.default,scanStatistics:h.default,scanStatisticsList:v.default,compareStatus:j.default,discoveryStatistics:$.default,discoveryStatisticsList:D.default,discoveryJobStatistics:F.default,discoveryJobStatisticsList:L.default,discoveryRelationJobStatistics:A.default,scanJob:y.default,jobRecord:O.default,relationJobRecord:w.default,jobFailRecord:k.default,ipDetail:N.default,plugin:T.default,localPlugin:I.default,pluginJobList:P.default,localPluginJobList:_.default,pluginJob:R.default,pluginRelationJob:C.default,newScript:x.default,plugins:i.default,breadcrumb:l.default,importRepo:s.default,script:c.default,ips:o.default,ciTypies:u.default,importFailLogs:d.default,role:f.default,icons:p.default,discoveryScript:m.default});t.default=M},2005:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SET_BREADCRUMB:return c(c({},e),{},{data:t.payload});default:return e}};var r=n(a(24)),l=a(53);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={data:[]}},2006:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case i.GET_SCRIPT_FILE:return s(s({},e),{},{scriptFile:n});case i.GET_SCRIPT_FILES:return s(s({},e),{},{scriptFiles:n});case i.SET_CURRENT_SCRIPT_FILE:return s(s({},e),{},{scriptFile:n});case i.GET_SNMP_PARAM_GROUP:return s(s({},e),{},{SNMPParamGroup:n});case i.IS_FETCHING_SCRIPT_FILES:return s(s({},e),{},{isFetchingScriptFiles:n});case i.GET_CATEGORY_FOR_DEEP:return s(s({},e),{},{category:n});default:return e}};var l=r(a(24)),i=n(a(53));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o={scriptFiles:[],scriptFile:{},SNMPParamGroup:[],ips:[],jobs:{content:[],total:0},job:{count:{}},isFetchingScriptFiles:!1,category:[]}},2007:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case i.GET_SCRIPT_DETAIL:return s(s({},e),{},{data:n});default:return e}};var l=r(a(24)),i=n(a(53));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o={data:{}}},2008:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(24)),l=a(53);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={isImporting:!1,isRelationImporting:!1,successIds:[],sucLog:{successLogs:[],sucCiTypes:[],total:0},failIds:[],failLog:{failLogs:[],failCiTypes:[],total:0},status:{percent:0,status:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case l.GET_IMPORTING_STATUS:return c(c({},e),{},{successIds:n.successIds,sucLog:n.sucLog,failIds:n.failIds,failLog:n.failLog,status:n.status,isImporting:n.isImporting});case l.SET_IMPORTING_STATUS:return c(c({},e),{},{isImporting:n});case l.GET_IMPORT_SUC_LOGS:return c(c({},e),{},{sucLog:n.sucLog});case l.GET_IMPORT_FAIL_LOGS:return c(c({},e),{},{failLog:n.failLog});case l.GET_RELATION_IMPORT_SUC_LOGS:return c(c({},e),{},{sucLog:n.sucLog});case l.GET_RELATION_IMPORT_FAIL_LOGS:return c(c({},e),{},{failLog:n.failLog});default:return e}}},2009:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(24)),l=a(53);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={data:[],total:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case l.GET_IPS:return c(c({},e),{},{data:n.data,total:n.total});default:return e}}},2010:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(24)),l=a(53);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={ciTypes:{},ciFailTypes:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case l.GET_CI_TYPES:return c(c({},e),{},{ciTypes:n});case l.GET_CI_FAIL_TYPES:case l.GET_RELATION_CI_FAIL_TYPES:return c(c({},e),{},{ciFailTypes:n});default:return e}}},2011:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(24)),l=a(53);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={data:[],total:0,count:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case l.GET_IMPORT_FAIL_LOGS:case l.GET_RELATION_FAIL_LOGS:return c(c({},e),{},{data:n.data,total:n.total,count:n.count});default:return e}}},2012:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case l.GET_USER_LIST:return c(c({},e),{},{lists:n.list,total:n.total});case l.GET_MORE_USER_LIST:return c(c({},e),{},{lists:n});case l.GET_USER_SCRIPT:return c(c({},e),{},{data:n.data,selectIds:n.selectIds});case l.GET_USER_SELECT_SCRIPT:return c(c({},e),{},{selectIds:n});default:return e}};var r=n(a(24)),l=a(53);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={lists:[],data:[],selectIds:[],total:0}},2013:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case i.GET_SCRIPT_PLUGIN_LIST:return s(s({},e),{},{scriptList:s(s({},e.scriptList),n)});case i.GET_SCRIPT_PLUGIN_HISTORY:return s(s({},e),{},{historyList:n.historyList});case i.GET_SCRIPT_PLUGIN_DETAIL:return s(s({},e),{},{models:n.models,scriptGroup:n.scriptGroup});case i.GET_SCRIPT_PLUGIN_MODELS:return s(s({},e),{},{models:n.models});case i.GET_SCRIPT_PLUGIN_DESC:return s(s({},e),{},{script:n.script});case i.GET_MODEL_CLASSES:return s(s({},e),{},{classes:n.classes});case i.GET_ATTR_LIST:return s(s({},e),{},{attrList:n.attrList});case i.NEW_PLUGIN_DATA:return s(s({},e),{},{pluginData:n.pluginData});default:return e}};var l=r(a(24)),i=n(a(53));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o={scriptList:{REMOTE:{sysList:[],cusList:[]},LOCAL:{sysList:[],cusList:[]}},historyList:[],models:[],scriptGroup:{},classes:[],attrList:[],pluginData:{},script:{}}},2014:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){var i=n.ajax,s=n.loadingParam,o=n.callback,u=n.error,d=(0,l.default)(n,["ajax","loadingParam","callback","error"]),f=function(e){return t(c(c({},d),{},{payload:(0,r.default)({},s,e)}))};if(i&&i.url){!_.isUndefined(s)&&f(!0);var p=_.assign({},{dataType:"json",contentType:"application/json"},i);return new Promise((function(e,n){$.ajax(p).done((function(n){n&&"function"===typeof o&&o(n,t,a),!_.isUndefined(s)&&f(!1),"function"===typeof i.factory?e(i.factory(n)):e(n)})).fail((function(e){"function"===typeof u&&u(e),!_.isUndefined(s)&&f(!1),n(e)}))}))}e(n)}}};var r=n(a(24)),l=n(a(508));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},2015:function(e,t,a){"use strict";var n=a(1)(a(44));n.default.config({top:100,duration:1}),$.ajaxSetup({beforeSend:function(e,t){"GET"===t.type&&(-1===t.url.indexOf("?")?t.url=t.url+"?t="+(new Date).getTime():t.url=t.url+"&t="+(new Date).getTime())}}),$(document).on("ajaxError",(function(e,t){switch(t.status){case 500:n.default.error($.translate("systemErr"));break;case 502:n.default.error($.translate("serviceUnavailable"));break;case 400:t.responseJSON.error?n.default.error($.translate("InvalidRequest")):n.default.error(t.responseJSON.message);break;case 401:window.location.href="/tenant/#/login?return_insite="+location.href}}))},2017:function(e,t,a){},212:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRelationFailLogs=t.fetchRelationSucLogs=t.fetchImportFailLogs=t.fetchImportSucLogs=void 0;var r=n(a(23)),l=a(53);t.fetchImportSucLogs=function(e,t){return function(a,n){return $.get(r.default.suc_logs_of_import(e),t,(function(e){a({type:l.GET_IMPORT_SUC_LOGS,payload:{sucLog:{successLogs:e.page.elements,sucCiTypes:e.categories,total:e.page.totalElementsNum}}})}))}};t.fetchImportFailLogs=function(e,t){return function(a,n){return $.get(r.default.fail_logs_of_import(e),t,(function(e){a({type:l.GET_IMPORT_FAIL_LOGS,payload:{failLog:{failLogs:e.page.elements,failCiTypes:e.categories,total:e.page.totalElementsNum}}})}))}};t.fetchRelationSucLogs=function(e,t){return function(a,n){return $.get(r.default.suc_logs_of_relation(e),t,(function(e){e.page&&a({type:l.GET_RELATION_IMPORT_SUC_LOGS,payload:{sucLog:{successLogs:e.page.elements,sucCiTypes:e.categories,total:e.page.totalElementsNum}}})}))}};t.fetchRelationFailLogs=function(e,t){return function(a,n){return $.get(r.default.fail_logs_of_relation(e),t,(function(e){e&&a({type:l.GET_RELATION_IMPORT_FAIL_LOGS,payload:{failLog:{failLogs:e.page.elements,failCiTypes:e.categories,total:e.page.totalElementsNum}}})}))}}},221:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.resetList=t.requestList=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="scan/discoveryStatisticsList/Load";t.LOAD=s;t.requestList=function(e,t){return{type:s,ajax:{type:"GET",url:l.default.discovery_job_lists+"?type=".concat(t),data:e},loadingParam:"isFetching",callback:function(e,t){t({type:s,payload:{data:e.page.elements,total:e.page.totalElementsNum,categories:e.categories}})}}};t.resetList=function(){return function(e){e({type:s,payload:{data:[],total:0,categories:[]}})}};var o={data:[],total:0,categories:[]}},222:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.fetchStatisticOfDiscoveryJob=t.FETCH=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="discoveryJobStatistics/Fetch";t.FETCH=s;t.fetchStatisticOfDiscoveryJob=function(e,t){return function(a){var n={groupId:e};return $.get(l.default.group_statistic,n,(function(e){_.isFunction(t)&&t(e),a({type:s,payload:{data:e.data}})}))}};var o={data:{}}},224:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.fetchStatisticOfDiscoveryRelationJob=t.FETCH=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="discoveryRelationJobStatistics/Fetch";t.FETCH=s;t.fetchStatisticOfDiscoveryRelationJob=function(e,t){return function(a){var n={groupId:e};return $.get(l.default.group_statistic,n,(function(e){_.isFunction(t)&&t(e),a({type:s,payload:{data:e.data}})}))}};var o={data:{}}},225:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return u(u({},e),t.payload);default:return e}},t.removeJob=t.updateJob=t.createJob=t.resetJob=t.fetchJob=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23)),c=a(182),s=a(224);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d="pluginRelationJob/Load";t.LOAD=d;t.fetchJob=function(e){return function(t){return $.get(i.default.relation_jobs+"/".concat(e),(function(e){t({type:d,payload:{data:e.job}})}))}};t.resetJob=function(e){return function(e){e({type:d,payload:{data:{count:{}}}})}};t.createJob=function(e){return function(){return $.ajax({type:"POST",url:i.default.relation_jobs,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("saveSuc")),window.history.go(-1)})).fail((function(e){l.default.error($.translate("saveFail"))}))}};t.updateJob=function(e){return function(){return $.ajax({type:"POST",url:i.default.edit_relation_jobs,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("updateSuc")),window.history.go(-1)})).fail((function(e){l.default.error($.translate("updateFail"))}))}};t.removeJob=function(e,t,a){return function(n){return $.ajax({type:"POST",url:i.default.delete_relation_jobs(t),contentType:"application/json"}).done((function(t){l.default.success($.translate("deleteSuc")),n((0,c.fetchJobListOfPlugin)(e,a)),n((0,s.fetchStatisticOfDiscoveryRelationJob)(e))})).fail((function(e){l.default.error($.translate("deleteFail"))}))}};var f={data:{count:{}}}},23:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={scan_statistic:"".concat("api/","statistic/ip-scan/summary/count"),scan_job_list:"".concat("api/","statistic/ip-scan/summary/detail"),scan_job:"".concat("api/","ip-scan"),scan_save_job:"".concat("api/","ip-scan/edit"),scan_delete_job:function(e){return"".concat("api/","ip-scan/").concat(e,"/delete")},discovery_job_lists:"".concat("api/","statistic/deep-scan/summary/detail"),deep_scan_statistic:"".concat("api/","statistic/deep-scan/summary/count"),group_statistic:"".concat("api/","statistic/deep-scan/ci/count"),job_list_of_plugin:function(e){return"".concat("api/","deep-scan-group/").concat(e,"/jobs")},local_job_list_of_plugin:function(e){return"".concat("api/","local-scan-group/").concat(e,"/jobs")},begin_discovery:function(e){return"".concat("api/","job/exec/").concat(e)},stop_discovery:function(e){return"".concat("api/","job/stop/").concat(e)},plugin_lists:"".concat("api/","deep-scan-group"),local_plugin_lists:"".concat("api/","local-scan-group"),delete_plugin_lists:function(e){return"".concat("api/","deep-scan-group/").concat(e,"/delete")},plugin_job:"".concat("api/","deep-scan-job"),local_plugin_job:"".concat("api/","local-scan-job"),edit_local_plugin_job:"".concat("api/","local-scan-job/edit"),edit_plugin_job:"".concat("api/","deep-scan-job/edit"),delete_plugin_job:function(e){return"".concat("api/","deep-scan-job/").concat(e,"/delete")},delete_local_plugin_job:function(e){return"".concat("api/","local-scan-job/").concat(e,"/delete")},relation_jobs:"".concat("api/","relation-scan-job"),edit_relation_jobs:"".concat("api/","relation-scan-job/edit"),delete_relation_jobs:function(e){return"".concat("api/","relation-scan-job/").concat(e,"/delete")},relations_of_job:function(e){return"".concat("api/","relation-scan-job/").concat(e,"/relations")},records_of_job:function(e){return"".concat("api/","record/").concat(e)},edit_records_of_job:function(e){return"".concat("api/","record/").concat(e,"/edit")},records_of_relation:function(e){return"".concat("api/","relation-scan-job/").concat(e,"/relationships")},detail_of_record:function(e){return"".concat("api/","dci/").concat(e,"/detail")},detail_of_fail_record:function(e){return"".concat("api/","dci/").concat(e,"/fail")},new_tree_node:function(e,t){return"".concat("api/","dci/").concat(e,"/detail?parentPath=").concat(t)},detail_of_relation_record:function(e,t){return"".concat("api/","relation-scan-job/").concat(e,"/relationships/").concat(t,"/detail")},snmp_param_group:"".concat("api/","deep-scan-param-group"),edit_snmp_param_group:"".concat("api/","deep-scan-param-group/edit"),delete_snmp_param_group:function(e){return"".concat("api/","deep-scan-param-group/").concat(e,"/delete")},script_files:"".concat("api/","script"),script_detail_list:function(e){return"".concat("api/","script/").concat(e)},import_job_records:function(e){return"".concat("api/","import/").concat(e)},delete_import_job_records:function(e){return"".concat("api/","import/").concat(e,"/delete")},import_relation_records:function(e){return"".concat("api/","relation-import/").concat(e)},delete_import_relation_records:function(e){return"".concat("api/","relation-import/").concat(e,"/delete")},ci_typies:"".concat("api/","ci-type"),ips:"".concat("api/","record/ip-scan"),local_agent_list:"".concat("api/","agents/local"),local_agent_ci_types:"".concat("api/","agents/local/types"),fail_logs_of_group:"".concat("api/","statistic/deep-scan/failRecord/detail"),suc_logs_of_group:"".concat("api/","statistic/deep-scan/ci/detail"),fail_logs_of_job:function(e){return"".concat("api/","record/").concat(e,"/fail")},fail_logs_of_import:function(e){return"".concat("api/","import/").concat(e,"/fail")},suc_logs_of_import:function(e){return"".concat("api/","import/").concat(e,"/success")},fail_logs_of_relation:function(e){return"".concat("api/","relation-import/").concat(e,"/fail")},suc_logs_of_relation:function(e){return"".concat("api/","relation-import/").concat(e,"/success")},category_for_deep:function(e){return"".concat("api/","record/").concat(e,"/category-for-deep")},ci_fail_typies:function(e){return"".concat("api/","ci-type/").concat(e,"/import-fail")},relation_ci_fail_typies:function(e){return"".concat("api/","ci-type/").concat(e,"/relation-import-fail")},check_scan_name:function(e){return"".concat("api/","ip-scan/check-name/").concat(e)},check_plugin_name:function(e){return"".concat("api/","plugin/check-name/").concat(e)},check_discovery_name:function(e,t){return"".concat("api/","deep-scan/").concat(e,"/check-name/").concat(t)},user_list:"".concat("api/","role-script/roles"),user_script:"".concat("api/","role-script/scripts/get"),submit_user_script:"".concat("api/","role-script/scripts/update"),agent:"".concat("api/","agents"),check_agent:function(e){return"".concat("api/","agent/valid?agentId=").concat(e)},network:"".concat("api/","network/domain"),script_plugin_list:"".concat("api/","script-manage/plugin/list"),script_plugin_detail:function(e){return"".concat("api/","script-manage/plugin/detail/").concat(e)},script_plugin_models:function(e){return"".concat("api/","script/").concat(e,"/abilities")},save_script_models:"".concat("api/","script-manage/plugin/match-model"),model_classes:"".concat("api/","model/classes"),attr_list:function(e){return"".concat("api/","model/attrs/").concat(e)},script_plugin_delete:function(e){return"".concat("api/","script-manage/plugin/del/").concat(e)},script_plugin_edit:"".concat("api/","script-manage/plugin/edit"),script_plugin_history:function(e){return"".concat("api/","script-manage/script/history/").concat(e)},delete_script:function(e){return"".concat("api/","script-manage/script/del/").concat(e)},use_script:function(e){return"".concat("api/","script-manage/script/use/").concat(e)},save_script:"".concat("api/","script-manage/plugin/upload"),fetch_model:function(e){return"".concat("api/","script-manage/script/models/").concat(e)},log_list:function(e){return"".concat("api/","log/list?jobId=").concat(e)},create_script:"".concat("api/","script-manage/plugin/upload"),default_icon_list:"/cmdb/api/v3/model/classes/icons",upload_key_script:"".concat("api/","deep-scan-param-group/file/upload"),upload_script:"".concat("api/","script-manage/file/upload"),add_script:function(e){return"".concat("api/","script-manage/script/upload/").concat(e)},edit_script:function(e){return"".concat("api/","script-manage/script/content/").concat(e)},param_upload:function(e){return"".concat("api/","deep-scan-param-group/").concat(e,"/import")},upload_status:function(e){return"".concat("api/","deep-scan-param-group/").concat(e,"/import/status")},script_test:"".concat("api/","scan-test"),script_test_process:function(e){return"".concat("api/","scan-test/").concat(e)},script_test_params:"".concat("api/","scan-test/params"),discovery_chart:"".concat("api/","statistic/deep-scan/summary/detail?type=job"),script_lib_list:"".concat("api/","script-lib"),upload_lib_extend:"".concat("api/","script-lib/add/private")};t.default=n},259:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return u(u({},e),t.payload);default:return e}},t.removeJob=t.updateJob=t.resetJob=t.createJob=t.requestJob=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23)),c=a(118),s=a(314);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d="scan/scanJob/Load";t.LOAD=d;t.requestJob=function(e){return function(t){return $.get(i.default.scan_job+"/".concat(e),(function(e){t({type:d,payload:{data:e}})}))}};t.createJob=function(e){return function(t){return $.ajax({type:"POST",url:i.default.scan_job,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("saveSuc")),window.history.go(-1)})).fail((function(e){l.default.error($.translate("saveFail"))}))}};var f=function(){return function(e){e({type:d,payload:{data:{count:{}}}})}};t.resetJob=f;t.updateJob=function(e){return function(t){return $.ajax({type:"POST",url:i.default.scan_save_job,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("updateSuc")),t(f()),window.history.go(-1)})).fail((function(e){l.default.error($.translate("updateFail"))}))}};t.removeJob=function(e,t){return function(a){return $.ajax({type:"POST",url:i.default.scan_delete_job(e),contentType:"application/json"}).done((function(e){l.default.success($.translate("deleteSuc")),a((0,c.requestList)(t,"jobs")),a((0,s.fetchStatisticOfScan)())})).fail((function(e){l.default.error($.translate("deleteFail"))}))}};var p={data:{count:{}}}},314:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.fetchStatisticOfScan=t.FETCH=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="scanStatistics/Fetch";t.FETCH=s;t.fetchStatisticOfScan=function(){return function(e){return $.get(l.default.scan_statistic,(function(t){e({type:s,payload:{data:t.data}})}))}};var o={data:{}}},326:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return s(s({},e),{},{data:t.payload.data});case u:return s(s({},e),{},{isAgent:t.payload.isAgent});default:return e}},t.resetAgent=t.fetchAgent=t.checkAgent=t.CHECK=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o="agent/Load";t.LOAD=o;var u="agent/Check";t.CHECK=u;t.checkAgent=function(e){return function(t){return $.get(i.default.check_agent(e),(function(e){!1===e.data?(l.default.error(e.message),t({type:u,payload:{isAgent:!1}})):t({type:u,payload:{isAgent:!0}})}))}};t.fetchAgent=function(e,t,a){return function(n){var r={networkDomainId:e};return"LOCAL"===a&&(r.tag="local"),$.get(i.default.agent,r,(function(e){!1===e.data?(l.default.error(e.message),n({type:u,payload:{isAgent:!1}})):(_.isUndefined(t),n({type:o,payload:{data:e}}))}))}};t.resetAgent=function(){return function(e){e({type:o,payload:{data:[]}})}};var d={data:[],isAgent:!0}},327:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return s(s({},e),t.payload);default:return e}},t.fetchNetwork=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o="network/Load";t.LOAD=o;t.fetchNetwork=function(e,t){return function(e){return $.get(i.default.network,(function(t){if("success"===t.message)e({type:o,payload:{data:t.data}});else{if("false"===t.message)return!1;l.default.error(t.message)}}))}};var u={data:[]}},329:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRecordsOfJob=function(e,t){return function(a){$.get(l.default.records_of_job(e),t,(function(e){a({type:s,payload:{data:e.elements,total:e.totalElementsNum}})}))}},t.resetRecordsOfJob=function(){return function(e){e({type:s,payload:{data:[],total:0}})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="jobRecord/Load";t.LOAD=s;var o={data:[],total:0}},330:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.fetchStatisticOfDiscovery=t.FETCH=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="discoveryStatistics/Fetch";t.FETCH=s;t.fetchStatisticOfDiscovery=function(){return function(e){return $.get(l.default.deep_scan_statistic,(function(t){e({type:s,payload:{data:t.data}})}))}};var o={data:{}}},350:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.stopDiscovery=t.beginDiscovery=void 0;var r=n(a(44)),l=n(a(23)),i=a(182),c=a(222),s=a(179);t.beginDiscovery=function(e,t,a){return function(n){return $.ajax({type:"POST",url:l.default.begin_discovery(t),contentType:"application/json"}).done((function(t){!1!==t.data?(r.default.success($.translate("isInProgress")),n((0,i.fetchJobListOfPlugin)(e,a)),n((0,c.fetchStatisticOfDiscoveryJob)(e)),n((0,s.fetchPluginList)())):r.default.error(t.message)}))}};t.stopDiscovery=function(e,t,a){return function(n){return $.ajax({type:"POST",url:l.default.stop_discovery(t),contentType:"application/json"}).done((function(t){r.default.success($.translate("stopped")),e&&(n((0,i.fetchJobListOfPlugin)(e,a)),n((0,c.fetchStatisticOfDiscoveryJob)(e)),n((0,s.fetchPluginList)()))})).fail((function(t){e&&(n((0,i.fetchJobListOfPlugin)(e,a)),n((0,c.fetchStatisticOfDiscoveryJob)(e)),n((0,s.fetchPluginList)()))}))}}},465:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.changeConfigClass=t.fetchRelationCiFailTypies=t.fetchCiFailTypies=t.fetchCiTypies=void 0;var r=n(a(44)),l=n(a(23)),i=a(53);t.fetchCiTypies=function(){return function(e){return $.get(l.default.ci_typies,(function(t){e({type:i.GET_CI_TYPES,payload:t})}))}};t.fetchCiFailTypies=function(e){return function(t){return $.get(l.default.ci_fail_typies(e),(function(e){t({type:i.GET_CI_FAIL_TYPES,payload:e})}))}};t.fetchRelationCiFailTypies=function(e){return function(t){return $.get(l.default.relation_ci_fail_typies(e),(function(e){t({type:i.GET_RELATION_CI_FAIL_TYPES,payload:e})}))}};t.changeConfigClass=function(e,t){return function(a){return $.ajax({type:"POST",url:l.default.edit_records_of_job(e),data:JSON.stringify(t),contentType:"application/json",context:void 0}).done((function(e){r.default.success($.translate("updateSuc"))})).fail((function(e){r.default.error($.translate("updateFail"))}))}}},469:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.checkRelationImportingStatus=t.deleteImportRelationProcess=t.importRelationRecords=t.checkImportingStatus=t.deleteImportJobProcess=t.importJobRecords=void 0;var r=n(a(23)),l=a(53);t.importJobRecords=function(e,t,a){return function(n){n({type:l.SET_IMPORTING_STATUS,payload:!0});var i={exportAll:a,ids:t};return $.ajax({type:"POST",url:r.default.import_job_records(e),contentType:"application/json",data:JSON.stringify(i),context:void 0}).done((function(e){e&&n({type:l.GET_IMPORTING_STATUS,payload:{successIds:e.successIds,sucLog:{successLogs:e.successLogs},failIds:e.failIds,failLog:{failLogs:e.failLogs},status:{percent:e.percent,status:e.status},isImporting:"START"===e.status}})})).fail((function(e){console.log("fail")}))}};var i=function(e){return function(t){return $.ajax({type:"POST",url:r.default.delete_import_job_records(e),contentType:"application/json"}).done((function(e){})).fail((function(e){}))}};t.deleteImportJobProcess=i;t.checkImportingStatus=function(e){return function(t){return $.get(r.default.import_job_records(e),(function(a){a&&t({type:l.GET_IMPORTING_STATUS,payload:{successIds:a.successIds,sucLog:{successLogs:a.successLogs},failIds:a.failIds,failLog:{failLogs:a.failLogs},status:{percent:a.percent,status:a.status},isImporting:"START"===a.status}}),"DONE"===a.status&&t(i(e))}))}};t.importRelationRecords=function(e,t,a){return function(n){n({type:l.SET_IMPORTING_STATUS,payload:!0});var i={exportAll:a,ids:t};return $.ajax({type:"POST",url:r.default.import_relation_records(e),contentType:"application/json",data:JSON.stringify(i),context:void 0}).done((function(e){e&&n({type:l.GET_IMPORTING_STATUS,payload:{successIds:e.successIds,sucLog:{successLogs:e.successLogs},failIds:e.failIds,failLog:{failLogs:e.failLogs},status:{percent:e.percent,status:e.status},isImporting:"START"===e.status}})})).fail((function(e){console.log("fail")}))}};var c=function(e){return function(t){return $.ajax({type:"POST",url:r.default.delete_import_relation_records(e),contentType:"application/json"}).done((function(e){})).fail((function(e){}))}};t.deleteImportRelationProcess=c;t.checkRelationImportingStatus=function(e){return function(t){return $.get(r.default.import_relation_records(e),(function(a){a&&t({type:l.GET_IMPORTING_STATUS,payload:{successIds:a.successIds,sucLog:{successLogs:a.successLogs},failIds:a.failIds,failLog:{failLogs:a.failLogs},status:{percent:a.percent,status:a.status},isImporting:"START"===a.status}}),"DONE"===a.status&&t(c(e))}))}}},470:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.fetchFailRecorsdOfJob=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="jobFailRecord/Load";t.LOAD=s;t.fetchFailRecorsdOfJob=function(e,t){return function(a){return $.get(l.default.fail_logs_of_job(e),t,(function(e){a({type:s,payload:{data:e.elements,total:e.totalElementsNum}})}))}};var o={data:[],total:0}},471:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"compareStatus/Fetch":return c(c({},e),t.payload);default:return e}},t.fetchCompareStatus=t.COMPARE_STATUS_FETCH=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.COMPARE_STATUS_FETCH="compareStatus/Fetch";t.fetchCompareStatus=function(){return function(e){return $.get(l.default.discovery_chart,(function(t){var a,n=(a=t,_.map(a,(function(e){return{ciTypeName:e.ciTypeName,countUnCompare:_.find(e.storeDetails,(function(e){return 0===e.storeDifferenceType})).num,countDiffer:_.find(e.storeDetails,(function(e){return 1===e.storeDifferenceType})).num,countUnDiffer:_.find(e.storeDetails,(function(e){return 2===e.storeDifferenceType})).num}}))),r=t.length;e({type:"compareStatus/Fetch",payload:{data:n,stackTotal:r,loading:!1}})}))}};var s={data:[],stackTotal:0,loading:!0}},472:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return o(o({},e),t.payload);default:return e}},t.removeLocalPlugin=t.fetchLocalPluginList=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23)),c=a(330);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u="localPlugin/Load";t.LOAD=u;var d=function(){return function(e){return $.get(i.default.local_plugin_lists,(function(t){e({type:u,payload:{lists:t}})}))}};t.fetchLocalPluginList=d;t.removeLocalPlugin=function(e){return function(t){return $.ajax({type:"POST",url:i.default.delete_plugin_lists(e),contentType:"application/json"}).done((function(e){l.default.success($.translate("deleteSuc")),t(d()),t((0,c.fetchStatisticOfDiscovery)())})).fail((function(e){l.default.error($.translate("deleteFail"))}))}};var f={lists:[]}},49:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBreadcrumb=function(e){return{type:n.SET_BREADCRUMB,payload:e}};var n=a(53)},500:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.resetLocalJobListOfPlugin=t.fetchLocalJobListOfPlugin=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="localPluginJobList/Load";t.LOAD=s;t.fetchLocalJobListOfPlugin=function(e,t){return function(a){return $.get(l.default.local_job_list_of_plugin(e),t,(function(e){a({type:s,payload:{data:e.elements,total:e.totalElementsNum}})}))}};t.resetLocalJobListOfPlugin=function(){return function(e){e({type:s,payload:{data:[],total:0}})}};var o={data:[],total:0}},501:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.checkName=function(e,t,a,n,l){var i={name:e};return{ajax:{type:"GET",url:r.default.check_discovery_name(t,a),data:i},callback:n,error:l}};var r=n(a(23))},502:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:case u:return s(s({},e),t.payload);default:return e}},t.getTestLog=t.getTestProgress=t.onGoTest=t.fetchTestParams=t.LOG_LOAD=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o="newScript/Load";t.LOAD=o;var u="newScript/Test/Log";t.LOG_LOAD=u;t.fetchTestParams=function(e){return function(t){return $.ajax({type:"POST",url:i.default.script_test_params,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){t({type:o,payload:{data:e}})})).fail((function(e){}))}};t.onGoTest=function(e){return function(t){return $.ajax({type:"POST",url:i.default.script_test,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){l.default.success($.translate("startTest"))})).fail((function(e){l.default.error($.translate("beginTestFail"))}))}};t.getTestProgress=function(e){return{ajax:{type:"GET",url:i.default.log_list(e)}}};t.getTestLog=function(e,t){return function(a){return $.get(i.default.log_list(e),t,(function(e){a({type:u,payload:{logData:e.list.elements,total:e.list.totalElementsNum}})}))}};var d={data:[],logData:[],total:0}},53:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NEW_PLUGIN_DATA=t.GET_SCRIPT_PLUGIN_DESC=t.GET_ATTR_LIST=t.GET_MODEL_CLASSES=t.GET_SCRIPT_PLUGIN_MODELS=t.GET_SCRIPT_PLUGIN_HISTORY=t.GET_SCRIPT_PLUGIN_DETAIL=t.GET_SCRIPT_PLUGIN_LIST=t.GET_USER_SELECT_SCRIPT=t.GET_USER_SCRIPT=t.GET_MORE_USER_LIST=t.GET_USER_LIST=t.GET_CATEGORY_FOR_DEEP=t.GET_RELATION_IMPORT_FAIL_LOGS=t.GET_RELATION_IMPORT_SUC_LOGS=t.GET_IMPORT_SUC_LOGS=t.GET_IMPORT_FAIL_LOGS=t.GET_RELATION_CI_FAIL_TYPES=t.GET_CI_FAIL_TYPES=t.GET_CI_TYPES=t.GET_IMPORTING_STATUS=t.SET_IMPORTING_STATUS=t.GET_SCRIPT_DETAIL=t.IS_FETCHING_SCRIPT_FILES=t.GET_IPS=t.GET_SNMP_PARAM_GROUP=t.SET_CURRENT_SCRIPT_FILE=t.GET_SCRIPT_FILES=t.GET_SCRIPT_FILE=t.GET_CATEGORIES_OF_JOB=t.SET_BREADCRUMB=void 0;t.SET_BREADCRUMB="SET_BREADCRUMB";t.GET_CATEGORIES_OF_JOB="GET_CATEGORIES_OF_JOB";t.GET_SCRIPT_FILE="GET_SCRIPT_FILE";t.GET_SCRIPT_FILES="GET_SCRIPT_FILES";t.SET_CURRENT_SCRIPT_FILE="SET_CURRENT_SCRIPT_FILE";t.GET_SNMP_PARAM_GROUP="GET_SNMP_PARAM_GROUP";t.GET_IPS="GET_IPS";t.IS_FETCHING_SCRIPT_FILES="IS_FETCHING_SCRIPT_FILES";t.GET_SCRIPT_DETAIL="GET_SCRIPT_DETAIL";t.SET_IMPORTING_STATUS="SET_IMPORTING_STATUS";t.GET_IMPORTING_STATUS="GET_IMPORTING_STATUS";t.GET_CI_TYPES="GET_CI_TYPES";t.GET_CI_FAIL_TYPES="GET_CI_FAIL_TYPES";t.GET_RELATION_CI_FAIL_TYPES="GET_RELATION_CI_FAIL_TYPES";t.GET_IMPORT_FAIL_LOGS="GET_IMPORT_FAIL_LOGS";t.GET_IMPORT_SUC_LOGS="GET_IMPORT_SUC_LOGS";t.GET_RELATION_IMPORT_SUC_LOGS="GET_RELATION_IMPORT_SUC_LOGS";t.GET_RELATION_IMPORT_FAIL_LOGS="GET_RELATION_IMPORT_FAIL_LOGS";t.GET_CATEGORY_FOR_DEEP="GET_CATEGORY_FOR_DEEP";t.GET_USER_LIST="GET_USER_LIST";t.GET_MORE_USER_LIST="GET_MORE_USER_LIST";t.GET_USER_SCRIPT="GET_USER_SCRIPT";t.GET_USER_SELECT_SCRIPT="GET_USER_SELECT_SCRIPT";t.GET_SCRIPT_PLUGIN_LIST="GET_SCRIPT_PLUGIN_LIST";t.GET_SCRIPT_PLUGIN_DETAIL="GET_SCRIPT_PLUGIN_DETAIL";t.GET_SCRIPT_PLUGIN_HISTORY="GET_SCRIPT_PLUGIN_HISTORY";t.GET_SCRIPT_PLUGIN_MODELS="GET_SCRIPT_PLUGIN_MODELS";t.GET_MODEL_CLASSES="GET_MODEL_CLASSES";t.GET_ATTR_LIST="GET_ATTR_LIST";t.GET_SCRIPT_PLUGIN_DESC="GET_SCRIPT_PLUGIN_DESC";t.NEW_PLUGIN_DATA="NEW_PLUGIN_DATA"},62:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_LEVEL=t.JOB_STATUS=t.INREPO_COLOR=t.DEFAULT_DATEFORMAT=t.COMPARE_TYPE=t.JOBINTERVAL=void 0;var n={ONLY_ONCE:$.translate("ONLY_ONCE"),DAILY:$.translate("DAILY"),WEEKLY:$.translate("WEEKLY"),MONTHLY:$.translate("MONTHLY")};t.JOBINTERVAL=n;var r=[{text:$.translate("compareNotImport"),value:0},{text:$.translate("notCompareNotImport"),value:1},{text:$.translate("notCompareImport"),value:2}];t.COMPARE_TYPE=r;t.DEFAULT_DATEFORMAT="YYYY-MM-DD HH:mm:ss";t.INREPO_COLOR={IMPORTED_FAIL:"table-tag-red",IMPORTED:"table-tag-green",WAIT_TO_IMPORT:"table-tag-yellow"};t.JOB_STATUS=["START","WAIT","DONE","ERROR"];t.LOG_LEVEL=["debug","info","warn","error"]},689:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.stopDiscovery=t.beginDiscovery=void 0;var r=n(a(44)),l=n(a(23)),i=a(314),c=a(118);t.beginDiscovery=function(e,t){return function(a){return $.ajax({type:"POST",url:l.default.begin_discovery(e),contentType:"application/json"}).done((function(e){!1!==e.data?(r.default.success($.translate("isInProgress")),a((0,c.requestList)(t,"jobs")),a((0,i.fetchStatisticOfScan)())):r.default.error(e.message)})).fail((function(e){a((0,c.requestList)(t,"jobs")),a((0,i.fetchStatisticOfScan)())}))}};t.stopDiscovery=function(e,t){return function(a){return $.ajax({type:"POST",url:l.default.stop_discovery(e),contentType:"application/json"}).done((function(e){r.default.success($.translate("stopped")),a((0,c.requestList)(t,"jobs")),a((0,i.fetchStatisticOfScan)())})).fail((function(e){a((0,c.requestList)(t,"jobs")),a((0,i.fetchStatisticOfScan)())}))}}},707:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=r(a(25)),f=n(a(0)),p=a(20),m=r(a(135)),h=r(a(232));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var y=d.default.Option,g=function(e){(0,s.default)(a,e);var t=v(a);function a(e){var n;return(0,i.default)(this,a),(n=t.call(this,e)).handleClick=function(){n.setState({visible:!0})},n.handleChange=function(e,t){n.setState({visible:!1,text:e}),n.props.onChange(t.props.code)},n.state={visible:!1,text:n.props.text},n}return(0,c.default)(a,[{key:"onDocumentClick",value:function(e){var t=e.target,a=(0,p.findDOMNode)(this);(0,h.default)(a,t)||this.setState({visible:!1})}},{key:"componentWillReceiveProps",value:function(e){e.text!==this.props.text&&this.setState({text:e.text})}},{key:"componentDidMount",value:function(){this.clickOutsideHandler=(0,m.default)(document.body,"mousedown",this.onDocumentClick.bind(this))}},{key:"componentWillUnmount",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null)}},{key:"render",value:function(){var e=this.state,t=e.visible,a=e.text,n=this.props.ciTypies;return t?f.default.createElement("div",{className:"edit-class"},f.default.createElement(d.default,{onSelect:this.handleChange,className:"edit-class-select",getPopupContainer:function(e){return e.parentNode},defaultValue:a},_.map(n,(function(e,t){return f.default.createElement(y,{key:e.code+t,code:e.code,value:e.name},e.name)})))):f.default.createElement("span",null,a,f.default.createElement(l.default,{onClick:this.handleClick,type:"edit"}))}}]),a}(f.Component);t.default=g},722:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(266)),i=r(a(146)),c=r(a(12)),s=r(a(13)),o=r(a(16)),u=r(a(14)),d=r(a(15)),f=n(a(0)),p=r(a(4)),m=a(149);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}a(1655);var v=function(e){(0,o.default)(a,e);var t=h(a);function a(e){var n;return(0,c.default)(this,a),(n=t.call(this,e)).checkIpValided=function(e){var t=n.props.ipTags,a=n.state.selectIps,r=t.concat(a),l=function(e){var t={isValid:!1,help:""};return(0,m.validIPAddress)(e)?-1!==r.indexOf(e)?t.help="IpRepeated":t.isValid=!0:t.help="ipInvalid",t};if(_.includes(e,"~")){var i=e.split("~");if(i.length>2)return{isValid:!1,help:"ipInvalid"};for(var c=0;c<2;c++){var s=l(i[c]);if(!s.isValid)return s}return function(e,t){var a=e.split("."),n=t.split(".");return a[0]===n[0]&&a[1]===n[1]&&a[2]===n[2]?{isValid:!0,help:""}:{isValid:!1,help:"ipIsNotSameSubnet"}}(i[0],i[1])}return l(e)},n.addIps=function(e){var t=n.state.selectIps,a=n.checkIpValided(e);return a.isValid?(t.push(e),n.setState({selectIps:t,value:""})):n.setState({help:$.translate(a.help)}),Promise.resolve(a.isValid)},n.handleChange=function(e){n.setState({value:e.target.value,help:""})},n.handleKeyUp=function(e){if(13===e.keyCode&&e.target.value){var t=e.target.value.trim().split(",");if(t.length>1){var a=_.filter(t,(function(e){e=e.trim();var t=n.checkIpValided(e);return e&&t.isValid}));n.props.onChange(a),n.setState({value:""})}else n.addIps(t[0]).then((function(e){e&&n.handleAdd(t[0])}))}},n.handleAdd=function(e){var t=n.state,a=t.selectIps,r=t.help,l=t.value;if(""!==l&&n.addIps(e||l),0===a.length||r)return!1;n.props.onChange(a),n.setState({selectIps:[]})},n.onClose=function(e){var t=n.state.selectIps;t.splice(e,1),n.setState({selectIps:t})},n.state={help:"",value:"",selectIps:[]},n}return(0,s.default)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectIps,n=t.value,r=t.help,c=(0,p.default)("ip-input-placeholder",{hidden:0!==a.length||""!==n});return f.default.createElement(l.default,{placement:"bottomLeft",content:f.default.createElement("p",{dangerouslySetInnerHTML:{__html:$.translate("ipAddressFormat")}}),trigger:"focus"},f.default.createElement("div",{className:(0,p.default)("ant-form-item-control",{"has-error":r}),style:{height:46}},f.default.createElement("div",{className:"clearfix"},f.default.createElement("div",{onClick:function(){return e.textInput.focus()},style:{width:this.props.width||"83%"},className:"ip-input pull-left"},f.default.createElement("p",{className:c},$.translate("inputIpPlaceHolder")),f.default.createElement("ul",{className:"clearfix"},_.map(a,(function(t,a){return f.default.createElement("li",{key:t},f.default.createElement(i.default,{closable:!0,afterClose:function(){return e.onClose(a)}},t))})),f.default.createElement("li",null,f.default.createElement("input",{value:n,ref:function(t){e.textInput=t},onChange:this.handleChange,onKeyUp:this.handleKeyUp,type:"text"}))))),r?f.default.createElement("div",{className:"ant-form-explain"},r):null))}}]),a}(f.Component);t.default=v},727:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(203)),l=n(a(204)),i=n(a(0)),c=a(32),s=n(a(4));t.default=function(e){var t=e.statistic,a=e.location,n=e.proxyPath,o=void 0===n?"/plugins":n;return i.default.createElement(r.default,{type:"flex",justify:"space-between",className:"overview-statistics-box"},i.default.createElement(l.default,{span:"5",className:"overview-content"},i.default.createElement(c.Link,{to:"".concat(o,"/task")},i.default.createElement(l.default,{span:"12",className:"overview-item task-color"},i.default.createElement("h5",{className:"overview-icon"},i.default.createElement("i",{className:"iconfont icon-renwu"})),i.default.createElement("div",{className:"overview-info"},$.translate("numTask"))),i.default.createElement("div",null,i.default.createElement(l.default,{span:"12"},i.default.createElement("div",{className:"overview-item"},i.default.createElement("div",{className:"overview-count"},t.jobCount)),i.default.createElement("div",{className:(0,s.default)({"triangle-sign":a.pathname.indexOf("task")>0})}))))),i.default.createElement(l.default,{span:"9",className:"overview-content"},i.default.createElement(l.default,{span:"8",className:"overview-item discovery-color mr20"},i.default.createElement("h5",{className:"overview-icon"},i.default.createElement("i",{className:"iconfont icon-discovery discovery-color"})),i.default.createElement("div",{className:"overview-info"},$.translate("discover"))),i.default.createElement(c.Link,{to:"".concat(o,"/config")},i.default.createElement(l.default,{span:"8"},i.default.createElement("div",{className:"overview-item"},i.default.createElement("h5",{className:"overview-num"},t.resCount),i.default.createElement("div",{className:"overview-info overview-info-num"},$.translate("resourceNum"))),i.default.createElement("div",{className:(0,s.default)({"triangle-sign":a.pathname.indexOf("config")>0})}))),i.default.createElement(c.Link,{to:"".concat(o,"/discoveryFail")},i.default.createElement(l.default,{span:"8"},i.default.createElement("div",{className:"overview-item"},i.default.createElement("div",{className:"overview-item-last"},i.default.createElement("h5",{className:"overview-num"},t.failCount),i.default.createElement("div",{className:"overview-info overview-info-num"},$.translate("failNum")))),i.default.createElement("div",{className:(0,s.default)({"triangle-sign":a.pathname.indexOf("discoveryFail")>0})})))),i.default.createElement(l.default,{span:"10",className:"overview-content"},i.default.createElement(l.default,{span:"6",className:"overview-item import-color mr20"},i.default.createElement("h5",{className:"overview-icon"},i.default.createElement("i",{className:"iconfont icon-daoruziyuanku import-color"})),i.default.createElement("div",{className:"overview-info"},$.translate("importPacific"))),i.default.createElement(c.Link,{to:"".concat(o,"/discoveryImportSuc")},i.default.createElement(l.default,{span:"6"},i.default.createElement("div",{className:"overview-item"},i.default.createElement("h5",{className:"overview-num"},t.configExportCount),i.default.createElement("div",{className:"overview-info overview-info-num"},$.translate("sucNum"))),i.default.createElement("div",{className:(0,s.default)({"triangle-sign":a.pathname.indexOf("discoveryImportSuc")>0})}))),i.default.createElement(c.Link,{to:"".concat(o,"/discoveryImportFail")},i.default.createElement(l.default,{span:"6"},i.default.createElement("div",{className:"overview-item"},i.default.createElement("h5",{className:"overview-num"},t.configExportFailCount),i.default.createElement("div",{className:"overview-info overview-info-num"},$.translate("failNum"))),i.default.createElement("div",{className:(0,s.default)({"triangle-sign":a.pathname.indexOf("discoveryImportFail")>0})}))),i.default.createElement(c.Link,{to:"".concat(o,"/discoveryWaitImport")},i.default.createElement(l.default,{span:"6"},i.default.createElement("div",{className:"overview-item"},i.default.createElement("h5",{className:"overview-num"},t.waitToExportCount),i.default.createElement("div",{className:"overview-info overview-info-num"},$.translate("WAIT_TO_IMPORT"))),i.default.createElement("div",{className:(0,s.default)({"triangle-sign":a.pathname.indexOf("discoveryWaitImport")>0})})))))}},728:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(168)),i=n(a(0)),c=(0,a(17).connect)((function(e){return{isFetchingScriptFiles:e.plugins.isFetchingScriptFiles}}))((function(e){return i.default.createElement(r.default,{visible:e.visible,width:1006,title:$.translate("selDiscoveryPlugin"),onCancel:e.onCancel,footer:null},i.default.createElement(l.default,{spinning:e.isFetchingScriptFiles,delay:200},i.default.createElement("ul",{style:{minHeight:500,marginLeft:36,width:"105%"},className:"script-files clearfix"},_.map(e.scriptFiles,(function(t){return i.default.createElement("li",{key:t.id,className:t.used||!t.permit?"script-files-item-used":"script-files-item",onClick:function(){return e.redirectTo(t)}},t.used&&t.permit?i.default.createElement("div",{className:"script-files-item-sign"},$.translate("used")):null,i.default.createElement("p",{className:"script-files-item-icon"},i.default.createElement("img",{alt:t.name,className:"class-icon",src:t.iconPath})),i.default.createElement("p",{className:"script-files-item-name",title:t.name}," ",t.name," "))})))))}));t.default=c},791:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(263)),c=r(a(10)),s=r(a(146)),o=r(a(266)),u=r(a(31)),d=r(a(325)),f=r(a(61)),p=r(a(19)),m=r(a(265)),h=r(a(59)),v=r(a(12)),y=r(a(13)),g=r(a(16)),E=r(a(14)),b=r(a(15)),S=r(a(264)),O=r(a(25)),w=r(a(76)),k=n(a(0)),N=a(17),T=r(a(58)),I=a(62),P=r(a(792)),R=r(a(722)),C=r(a(796)),j=r(a(1898)),D=a(105),L=a(149),x=a(501),F=a(327),A=a(326);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,b.default)(e);if(t){var r=(0,b.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,E.default)(this,a)}}var J,G=w.default.Item,z=O.default.Option,U=S.default.Group,V=function(e){(0,g.default)(a,e);var t=M(a);function a(e){var n;return(0,v.default)(this,a),(n=t.call(this,e)).handleCancel=function(){n.setState({visible:!1})},n.back=function(){window.history.go(-1)},n.handleSubmit=function(){var e=n.props.scriptFile.scriptId;n.props.form.validateFields((function(t,a){t||(a.startAt=a.startAt.format(I.DEFAULT_DATEFORMAT),a.scriptId=e,a.networkDomainName=n.state.networkDomainName,a.agentName=n.state.agentName,a.agentId=n.state.agentId,a.networkDomainCode=n.state.networkDomainCode,a.networkDomainId=n.state.networkDomainId,n.props.submit(a))}))},n.showModal=function(e,t){t?n.setState({visible:!0,editParam:t}):n.setState({visible:!0,editParam:null})},n.isChecked=function(e){return-1!==(n.props.form.getFieldValue("paramGroupIds")||[]).indexOf(e)},n.handleSelectSNMPGroup=function(e){(0,n.props.form.setFieldsValue)({paramGroupIds:e})},n.handleAllSelectSNMPGroup=function(e){if(e.target.checked){var t=_.map(n.props.SNMPParamGroup,(function(e){return e.id}));return n.props.form.setFieldsValue({paramGroupIds:t})}return n.props.form.setFieldsValue({paramGroupIds:[]})},n.createSNMPParams=function(e){e.id?n.props.dispatch((0,D.updateSNMP)(e)):n.props.dispatch((0,D.createSNMP)(e)),n.setState({visible:!1,editParam:null})},n.removeSNMPParam=function(e,t){e.stopPropagation(),h.default.confirm({title:$.translate("deleteParamGroup"),content:k.default.createElement("div",null,k.default.createElement("p",null,$.translate("makeSureDelete")+t.name+$.translate("param"))),onOk:function(){var e=n.props.form.setFieldsValue,a=n.props.form.getFieldValue("paramGroupIds");_.remove(a,(function(e){return e===t.id})),e({paramGroupIds:a}),n.props.dispatch((0,D.removeSNMP)(t.id))}})},n.addIpTags=function(e){var t=n.props.form.getFieldValue("ips")||[];n.props.form.setFieldsValue({ips:t.concat(e)}),n.setState({handleAddVisible:!1})},n.removeIpTags=function(e){var t=n.props.form.getFieldValue("ips")||[];t=t.filter((function(t){return-1===e.indexOf(t)})),n.props.form.setFieldsValue({ips:t})},n.handleVisibleChange=function(e){n.setState({handleAddVisible:e})},n.checkDiscoveryName=function(e,t,a){(t=$.trim(t))||a(),n.props.groupId?(J&&(clearTimeout(J),J=null),J=setTimeout((function(){var e=n.props.groupId,r=n.props.id||"0";n.props.dispatch((0,x.checkName)(t,e,r,(function(e){e.data?a():a([new Error($.translate("nameOccupied"))])})))}),500)):n.props.groupId||(0,L.validSpecialChar)(t)||a(),(0,L.validSpecialChar)(t)&&a([new Error($.translate("dangerCode"))])},n.clearTag=function(){n.props.form.setFieldsValue({ips:[]})},n.selectAgent=function(e,t){n.setState({agentId:e,agentName:t.props.children})},n.selectNetwork=function(e,t){var a=e.indexOf("|"),r=e.length,l=e.substring(0,a),i=e.substring(a+1,r);n.setState({networkDomainCode:l,networkDomainId:i,networkDomainName:t.props.children}),n.props.form.setFieldsValue({agentId:[]}),n.props.dispatch((0,A.fetchAgent)(i))},n.showRemoveSNMPGroupConfirm=function(){var e=n.props.form.getFieldValue("paramGroupIds")||[];if(e.length>0){var t=_.filter(n.props.SNMPParamGroup.elements,(function(t){return _.includes(e,t.id)})).map((function(e){return e.name}));h.default.confirm({title:$.translate("sureToDeleteParams",{name:t.join(",")}),onOk:function(){var e=n.props.form.getFieldValue("paramGroupIds");_.map(e,(function(e){n.props.dispatch((0,D.removeSNMP)(e))})),n.props.form.setFieldsValue({paramGroupIds:[]})}})}},n.handleChange=function(e,t){n.handleSelectSNMPGroup(e)},n.state={visible:!1,handleAddVisible:!1,editParam:null,agentName:n.props.job?n.props.job.agentName:"",networkDomainName:n.props.job?n.props.job.networkDomainName:"",agentId:n.props.job?n.props.job.agentId:"",networkDomainCode:n.props.job?n.props.job.networkDomainCode:"",networkDomainId:n.props.job?n.props.job.networkDomainId:"",page:1,size:10},n}return(0,y.default)(a,[{key:"componentDidMount",value:function(){""===this.state.networkDomainId||_.isUndefined(this.state.networkDomainId)||this.props.dispatch((0,A.fetchAgent)(this.state.networkDomainId,this.state.agentId)),this.props.dispatch((0,F.fetchNetwork)())}},{key:"componentWillReceiveProps",value:function(e){this.props.job&&this.props.job.id!==e.job.id&&(this.setState({agentName:e.job.agentName,networkDomainName:e.job.networkDomainName,agentId:e.job.agentId,networkDomainCode:e.job.networkDomainCode,networkDomainId:e.job.networkDomainId}),this.props.dispatch((0,A.fetchAgent)(e.job.networkDomainId))),this.setState({page:e.SNMPParamGroup.pageNum,size:e.SNMPParamGroup.pageSize})}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,A.resetAgent)())}},{key:"pageChange",value:function(e){this.props.dispatch((0,D.fetchSNMPParamGroup)({id:this.props.scriptFile.id,page:e.current,size:e.pageSize})),this.setState({page:e.current,size:e.pageSize})}},{key:"render",value:function(){var e=this,t=this.props,a=t.scriptFile,n=t.SNMPParamGroup,r=t.agent,h=t.network,v=t.isAgent,y=this.props.job||{},g=this.props.form.getFieldDecorator,E={labelCol:{span:2},wrapperCol:{span:10}},b={labelCol:{span:2},wrapperCol:{offset:2,span:18}},N=k.default.createElement("div",{style:{width:"400px"},className:"clearfix"},k.default.createElement(R.default,{ipTags:this.props.form.getFieldValue("ips")||[],onChange:this.addIpTags,width:"78%"})),D=k.default.createElement(m.default,{className:"dropdown-menu"},k.default.createElement(m.default.Item,{key:"upload"},k.default.createElement(C.default,{scriptFileId:this.props.scriptFile.id}))),L=this.props.form.getFieldValue("paramGroupIds")||[],x=[],F=n.elements;_.map(F,(function(e,t){x.push({name:e.name,describation:_.filter(e.paramItems,(function(e){return!!e.argValue&&"password"!==e.valueType})).map((function(e){return e.argValue})).join(" / "),paramItems:e.paramItems,id:e.id})}));var A=[{title:$.translate("name"),dataIndex:"name",key:"name",width:300},{title:$.translate("describation"),dataIndex:"describation",key:"describation",width:600},{title:$.translate("operation"),dataIndex:"operation",key:"operation",width:200,render:function(t,a,n){return k.default.createElement("div",null,k.default.createElement("a",{onClick:function(t){return e.showModal(t,F[n])},style:{marginRight:"10px"}},$.translate("edit")),k.default.createElement("a",{onClick:function(t){return e.removeSNMPParam(t,F[n])}},$.translate("delete")))}}],M={onChange:this.handleChange,selectedRowKeys:this.props.form.getFieldValue("paramGroupIds")},J={current:this.state.page,pageSize:this.state.size,total:n.totalElementsNum};return k.default.createElement(w.default,{className:"task-form"},k.default.createElement("div",{className:"task-form-title"},k.default.createElement("h3",null,$.translate("basicInformation"))),k.default.createElement(G,(0,f.default)({},E,{label:$.translate("taskName")}),g("name",{initialValue:y.name,rules:[{required:!0,message:$.translate("pleaseEnterTaskName")},{min:2,max:50,message:$.translate("taskNameNumRules",{min:2,max:50})},{validator:this.checkDiscoveryName}]})(k.default.createElement(p.default,{placeholder:$.translate("pleaseEnterTaskName")}))),k.default.createElement(G,(0,f.default)({},E,{label:$.translate("beginTime")}),g("startAt",{initialValue:y.id?(0,T.default)(y.startAt,I.DEFAULT_DATEFORMAT):(0,T.default)(Date.now()),rules:[{required:!0,message:$.translate("pleaseSelect")+$.translate("beginTime")}]})(k.default.createElement(d.default,{showTime:!0,allowClear:!1,format:"YYYY-MM-DD HH:mm:ss"}))),k.default.createElement(G,(0,f.default)({},E,{label:$.translate("taskStrategy")}),g("intervalType",{initialValue:y.intervalType||"WEEKLY",rules:[{required:!0,message:$.translate("pleaseSelect")+$.translate("taskStrategy")}]})(k.default.createElement(O.default,null,_.map(Object.keys(I.JOBINTERVAL),(function(e){return k.default.createElement(z,{key:e,value:e},I.JOBINTERVAL[e])}))))),k.default.createElement(G,{wrapperCol:{span:12,offset:2}},g("compareStoreType",{initialValue:void 0!==y.compareStoreType?y.compareStoreType:1})(k.default.createElement(U,null,_.map(I.COMPARE_TYPE,(function(e){return k.default.createElement(S.default,{key:e.value,style:{width:"100%"},value:e.value},e.text)}))))),k.default.createElement(G,(0,f.default)({},E,{label:$.translate("discoverIP")}),g("ips",{initialValue:y.ips||[],rules:[{required:!0,type:"array",min:1,message:$.translate("pleaseSelectDiscoverIP")}]})(k.default.createElement("p",null)),k.default.createElement(o.default,{placement:"bottomLeft",content:k.default.createElement(j.default,{ipTags:this.props.form.getFieldValue("ips")||[],onRemoveIps:this.removeIpTags,onAddIps:this.addIpTags}),trigger:"click"},k.default.createElement(u.default,{type:"primary"},$.translate("selectAdd"))),"\xa0\xa0",k.default.createElement(o.default,{placement:"bottomLeft",trigger:"click",content:N,visible:this.state.handleAddVisible,onVisibleChange:this.handleVisibleChange},k.default.createElement(u.default,{type:"primary"},$.translate("handleAdd"))),this.props.form.getFieldValue("ips").length>0?k.default.createElement("div",{className:"tags-list"},_.map(this.props.form.getFieldValue("ips"),(function(t,a){return k.default.createElement(s.default,{key:t+a,closable:!0,onClose:function(){e.removeIpTags([t])}},t)})),k.default.createElement("div",{className:"tag-clear",onClick:this.clearTag},k.default.createElement(c.default,{type:"delete"}))):null),k.default.createElement(G,(0,f.default)({},E,{label:$.translate("network")}),g("networkDomainCode",{initialValue:y.networkDomainName,rules:[{required:!0,message:$.translate("pleaseSelectNetwork")}]})(k.default.createElement(O.default,{getPopupContainer:function(e){return e},disabled:0===h.length,notFoundContent:$.translate("noData"),placeholder:$.translate("pleaseSelectNetwork"),onSelect:this.selectNetwork},_.map(h,(function(e){return k.default.createElement(z,{key:e.code,value:e.code+"|"+e.id},e.name)}))))),k.default.createElement(G,(0,f.default)({},E,{label:"Agent"}),g("agentId",{initialValue:v?y.agentName:[],rules:[{required:!0,message:$.translate("pleaseSelect")+"agent"}]})(k.default.createElement(O.default,{getPopupContainer:function(e){return e},notFoundContent:$.translate("noData"),placeholder:$.translate("pleaseSelect")+"agent",onSelect:this.selectAgent},_.map(r,(function(e){return k.default.createElement(z,{key:e.id,value:e.id},e.name)}))))),k.default.createElement("div",{className:"task-form-title"},k.default.createElement("h3",null,$.translate("configParam"))),k.default.createElement(G,{wrapperCol:{offset:2,span:10},style:{marginBottom:12}},k.default.createElement("div",{className:"params-opt-btns"},k.default.createElement(i.default,{overlay:D,trigger:"hover"},k.default.createElement(u.default,{type:"primary",onClick:this.showModal},$.translate("addParam")," ",k.default.createElement(c.default,{type:"down"}))),k.default.createElement(u.default,{type:"ghost"},k.default.createElement("a",{href:"api/deep-scan-param-group/".concat(this.props.scriptFile.id,"/template"),"data-disable-to-app":!0},$.translate("exportExcelTemplate"))),k.default.createElement(u.default,{type:"ghost"},k.default.createElement("a",{href:"api/deep-scan-param-group/".concat(this.props.scriptFile.id,"/export"),"data-disable-to-app":!0},$.translate("export"))),k.default.createElement(u.default,{type:"ghost",disabled:!(L&&L.length>0),onClick:this.showRemoveSNMPGroupConfirm},$.translate("delete")))),k.default.createElement(G,b,g("paramGroupIds",{initialValue:y.paramGroupIds,rules:[{required:!0,type:"array",min:1,message:$.translate("pleaseSelectParam")}]})(k.default.createElement("div",null)),k.default.createElement("div",null,k.default.createElement(l.default,{rowKey:function(e){return e.id},columns:A,pagination:J,dataSource:x,scroll:{y:240},rowSelection:M,onChange:function(t){return e.pageChange(t)}}))),k.default.createElement(G,{style:{marginTop:20},wrapperCol:{span:12,offset:2},className:"submit-btn-group"},k.default.createElement(u.default,{type:"primary",onClick:this.handleSubmit},y.id?$.translate("update"):$.translate("save")),"\xa0\xa0\xa0",k.default.createElement(u.default,{type:"ghost",onClick:this.back},$.translate("cancel"))),k.default.createElement(P.default,{title:a.alias,visible:this.state.visible,editParam:this.state.editParam,scriptFile:a,save:this.createSNMPParams,handleCancel:this.handleCancel}))}}]),a}(k.Component);V=w.default.create({})(V);var K=(0,N.connect)((function(e){return{scriptFile:e.plugins.scriptFile,agent:e.agent.data,isAgent:e.agent.isAgent,network:e.network.data,SNMPParamGroup:e.plugins.SNMPParamGroup}}))(V);t.default=K},792:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(61)),i=n(a(19)),c=n(a(31)),s=n(a(509)),o=n(a(76)),u=n(a(0)),d=a(17),f=n(a(793)),p=a(149),m=o.default.Item,h=(0,d.connect)()(o.default.create({})((function(e){var t=!!e.editParam,a=function(e,t,a){t?"ip"!==e.field.split("-@-")[1]||(0,p.validIPAddress)(t)?"password"!==e.field.split("-@-")[1]||(0,p.validPassword)(t)?"text"!==e.field.split("-@-")[1]||(0,p.validText)(t)||a([new Error($.translate("WordNumRules",{min:0,max:255}))]):a([new Error($.translate("passwordNumRules",{min:2,max:80}))]):a([new Error($.translate("ipInvalid"))]):a(),a()},n={labelCol:{span:5},wrapperCol:{span:18}},d=e.scriptFile||{};return e.visible?u.default.createElement(r.default,{footer:[u.default.createElement(c.default,{key:"sure",type:"primary",onClick:function(a){a.preventDefault(),e.form.validateFields((function(a,n){if(!a){var r=[];_.map(Object.keys(n),(function(a,l){_.includes(a,"-@-")&&(t?"identityFile"===a.split("-@-")[1]?r.push({id:e.editParam.paramItems[l-1].id,scriptArgId:a.split("-@-")[0],argValue:"object"===(0,s.default)(n[a])?n[a].name:n[a]}):r.push({id:e.editParam.paramItems[l-1].id,scriptArgId:a.split("-@-")[0],argValue:n[a]}):"identityFile"===a.split("-@-")[1]?r.push({scriptArgId:a.split("-@-")[0],argValue:n[a].name,fileContent:n[a].response}):r.push({scriptArgId:a.split("-@-")[0],argValue:n[a]}),delete n[a])})),t&&(n.id=e.editParam.id),n.scriptId=e.scriptFile.id,n.paramItems=r,e.save(n),e.form.resetFields()}}))}},$.translate("ok")),u.default.createElement(c.default,{key:"cancel",type:"ghost",onClick:e.handleCancel},$.translate("cancel"))],onCancel:e.handleCancel,title:e.title,visible:e.visible},u.default.createElement(o.default,null,u.default.createElement(m,(0,l.default)({},n,{label:$.translate("name")}),e.form.getFieldDecorator("name",{initialValue:t?e.editParam.name:"",rules:[{required:!0,message:$.translate("pleaseEnter",{name:$.translate("name")})},{min:2,max:50,message:$.translate("taskNameNumRules",{min:2,max:50})}]})(u.default.createElement(i.default,{placeholder:$.translate("pleaseEnter",{name:$.translate("name")})}))),_.map(d.arguments,(function(r,i){return u.default.createElement(m,(0,l.default)({},n,{key:r.id,required:!r.nullable,hasFeedback:!0,label:r.argAlias}),e.form.getFieldDecorator("".concat(r.id).concat("-@-").concat(r.valueType),{initialValue:t?e.editParam.paramItems[i].argValue:r.defaultValue,rules:[{required:!r.nullable,message:$.translate("pleaseEnter",{name:r.argAlias})},{validator:a}]})(u.default.createElement(f.default,{arg:r,placeholder:r.description,identityFileList:t?e.editParam.paramItems[i]:[],isEdit:t})))})))):null})));t.default=h},793:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(223)),i=r(a(31)),c=r(a(10)),s=r(a(1891)),o=r(a(19)),u=r(a(12)),d=r(a(13)),f=r(a(16)),p=r(a(14)),m=r(a(15)),h=r(a(25)),v=n(a(0)),y=r(a(23));function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var r=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var E=h.default.Option,b=function(e){(0,f.default)(a,e);var t=g(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).uploadFile=function(e){var t=e.file,a=e.fileList;a=a.slice(-1),n.props.onChange(t),n.setState({identityFileList:a})},n.changeType=function(){n.setState({type:"password"})},n.handlePasswordFocus=function(e){n.props.isEdit&&!n.hasEdited&&(n.props.onChange(""),n.hasEdited=!0)},n.state={identityFileList:n.props.identityFileList.id?[{uid:n.props.identityFileList.id,name:n.props.identityFileList.argValue}]:[],type:"text"},n.hasEdited=!1,n}return(0,d.default)(a,[{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.arg,n=e.onChange,r=e.value,u=a.enumValues?a.enumValues.split(","):[];switch(a.valueType){case"text":case"ip":return v.default.createElement(o.default,{onChange:function(e){return n(e.target.value)},value:r,placeholder:t});case"password":var d=this.props.isEdit&&!this.hasEdited?"********":r;return v.default.createElement(o.default,{onChange:function(e){return n(e.target.value)},onFocus:this.handlePasswordFocus,value:d,type:d?"password":this.state.type,placeholder:t});case"number":return v.default.createElement(s.default,{onChange:n,value:r?parseInt(r,10):"",placeholder:t});case"enum":return v.default.createElement(h.default,{onChange:n,value:r,placeholder:t},_.map(u,(function(e){return v.default.createElement(E,{key:e,value:e},e)})));case"identityFile":return v.default.createElement(l.default,{onChange:this.uploadFile,action:y.default.upload_key_script,className:"params-upload-file",fileList:this.state.identityFileList},v.default.createElement(i.default,{type:"primary"},v.default.createElement(c.default,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20"));default:return v.default.createElement("div",null,$.translate("noDefine"))}}}]),a}(v.Component);t.default=b},796:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(59)),i=r(a(31)),c=r(a(10)),s=r(a(44)),o=r(a(12)),u=r(a(13)),d=r(a(510)),f=r(a(16)),p=r(a(14)),m=r(a(15)),h=r(a(223)),v=n(a(0)),y=r(a(23)),g=a(1897),E=a(17),b=a(105);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var r=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var O,w=h.default.Dragger,k=function(e){(0,f.default)(a,e);var t=S(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,uploading:!1,percent:0,status:""},e.handleClick=function(){e.setState({visible:!0,uploading:!1})},e.handleCancel=function(){clearInterval(O),e.setState({visible:!1,percent:0})},e.upProps=function(t){var a=(0,d.default)(e);return{name:"file",showUploadList:!1,action:y.default.param_upload(t),beforeUpload:function(e){return/\.(xls|xlsx)$/.test(e.name)?e.size>10485760?(s.default.error($.translate("sizeTip",{size:"10"})),!1):void 0:(s.default.error($.translate("fileTypeTip")),!1)},onChange:function(e){"done"===e.file.status?(a.setState({uploading:!0}),O=setInterval((function(){a.props.dispatch((0,g.getProgress)(a.props.scriptFileId)).then((function(e){"ERROR"===e.status?(clearInterval(O),s.default.error(e.reason),a.setState({status:e.status})):(100===e.percent&&clearInterval(O),a.setState({percent:e.percent,status:e.status})),a.props.dispatch((0,b.fetchSNMPParamGroup)({id:a.props.scriptFileId,page:1,size:10}))})).catch((function(e){clearInterval(O),a.setState({percent:0})}))}),500)):"error"===e.file.status&&s.default.error(e.file.name+$.translate("uploadFail"))}}},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.uploading,n=e.percent,r=e.status,s=this.props.scriptFileId,o=v.default.createElement("div",{className:"upload-warp"},v.default.createElement("p",null,$.translate("accordanceExcelTemplates")),v.default.createElement("div",{style:{height:140}},v.default.createElement(w,this.upProps(s),v.default.createElement("p",null,$.translate("accordingTemplate")),v.default.createElement("p",null,$.translate("clickOrDrag")))),v.default.createElement("p",{className:"text-center pt10"},v.default.createElement("a",{href:"api/deep-scan-param-group/".concat(s,"/template")},$.translate("noExcel")))),u=v.default.createElement("div",null,v.default.createElement("div",{className:"ant-progress ant-progress-line ant-progress-status-normal ant-progress-show-info mb10"},v.default.createElement("div",{className:"ant-progress-outer"},v.default.createElement("div",{className:"ant-progress-inner",style:{marginTop:0,borderRadius:100}},v.default.createElement("div",{className:"ant-progress-bg",style:{width:n+"%",height:"10px",marginTop:0,borderRadius:100}}))),v.default.createElement("span",{className:"ant-progress-text"},n,"%")),n<100&&"ERROR"!==r?v.default.createElement("p",{className:"pb10"},$.translate("importing"),"..."):"DONE"===r?v.default.createElement("p",{className:"text-center"},v.default.createElement(c.default,{style:{color:"#69DB75"},className:"mr10",type:"check-circle"}),$.translate("importSuc")):"ERROR"===r?v.default.createElement("div",null,v.default.createElement("p",{className:"mb10 text-center"},v.default.createElement(c.default,{style:{color:"#fc5358"},className:"mr10",type:"cross-circle"}),$.translate("importFail")),v.default.createElement("p",{className:"mb10 text-center"},v.default.createElement("a",{href:"api/deep-scan-param-group/".concat(s,"/import/fail")},$.translate("downloadFailureFiles")))):void 0),d=a?100===n?v.default.createElement(i.default,{key:"success",type:"primary",onClick:this.handleCancel},$.translate("finish")):v.default.createElement(i.default,{key:"cancel",type:"primary",onClick:this.handleCancel},$.translate("cancelImport")):v.default.createElement("div",{key:"null"});return v.default.createElement("span",null,v.default.createElement("div",{onClick:this.handleClick},$.translate("Import&UploadParams")),v.default.createElement(l.default,{width:"460px",footer:[d],visible:t,onCancel:this.handleCancel,title:$.translate("add&updateData")},a?u:o))}}]),a}(v.PureComponent),N=(0,E.connect)((function(e){return{}}))(k);t.default=N},797:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(26)),i=r(a(263)),c=r(a(10)),s=r(a(146)),o=r(a(266)),u=r(a(31)),d=r(a(325)),f=r(a(61)),p=r(a(19)),m=r(a(265)),h=r(a(59)),v=r(a(12)),y=r(a(13)),g=r(a(16)),E=r(a(14)),b=r(a(15)),S=r(a(264)),O=r(a(25)),w=r(a(76)),k=n(a(0)),N=a(17),T=r(a(58)),I=a(62),P=r(a(796)),R=r(a(792)),C=a(105),j=r(a(1904)),D=a(149),L=a(501);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,b.default)(e);if(t){var r=(0,b.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,E.default)(this,a)}}var F,A=w.default.Item,M=O.default.Option,J=S.default.Group,G=function(e){(0,g.default)(a,e);var t=x(a);function a(e){var n;return(0,v.default)(this,a),(n=t.call(this,e)).back=function(){window.history.go(-1)},n.handleSubmit=function(){n.props.form.validateFields((function(e,t){e||(t.startAt=t.startAt.format(I.DEFAULT_DATEFORMAT),n.props.submit(t))}))},n.isChecked=function(e){return-1!==(n.props.form.getFieldValue("paramGroupIds")||[]).indexOf(e)},n.addIpTags=function(e){var t=n.props.form.getFieldValue("jobAgents")||[];n.props.form.setFieldsValue({jobAgents:t.concat(e)})},n.removeIpTags=function(e){var t=n.props.form.getFieldValue("jobAgents")||[];t=t.filter((function(t){return-1===e.indexOf(t)})),n.props.form.setFieldsValue({jobAgents:t})},n.checkDiscoveryName=function(e,t,a){if(!(t=$.trim(t)))return a();n.props.groupId?(F&&(clearTimeout(F),F=null),F=setTimeout((function(){var e=n.props.groupId,r=n.props.id||"0";n.props.dispatch((0,L.checkName)(t,e,r,(function(e){e.data?a():a([new Error($.translate("nameOccupied"))])})))}),500)):n.props.groupId||(0,D.validSpecialChar)(t)||a(),(0,D.validSpecialChar)(t)&&a([new Error($.translate("dangerCode"))])},n.clearTag=function(){n.props.form.setFieldsValue({jobAgents:[]})},n.hasArguments=function(){var e=n.props.scriptFile;return e.arguments&&e.arguments.length>0},n.showModal=function(e,t){n.setState({visible:!0,editParam:t||null})},n.createSNMPParams=function(e){e.id?n.props.dispatch((0,C.updateSNMP)(e)):n.props.dispatch((0,C.createSNMP)(e)),n.setState({visible:!1,editParam:null})},n.showRemoveSNMPGroupConfirm=function(){var e=n.props.form.getFieldValue("paramGroupIds")||[];if(e.length>0){var t=_.filter(n.props.SNMPParamGroup.elements,(function(t){return _.includes(e,t.id)})).map((function(e){return e.name}));h.default.confirm({title:$.translate("sureToDeleteParams",{name:t.join(",")}),onOk:function(){var e=n.props.form.getFieldValue("paramGroupIds");_.map(e,(function(e){n.props.dispatch((0,C.removeSNMP)(e))})),n.props.form.setFieldsValue({paramGroupIds:[]})}})}},n.handleSelectSNMPGroup=function(e){(0,n.props.form.setFieldsValue)({paramGroupIds:e})},n.removeSNMPParam=function(e,t){e.stopPropagation(),h.default.confirm({title:$.translate("deleteParamGroup"),content:k.default.createElement("div",null,k.default.createElement("p",null,$.translate("makeSureDelete")+t.name+$.translate("param"))),onOk:function(){var e=n.props.form.setFieldsValue,a=n.props.form.getFieldValue("paramGroupIds");_.remove(a,(function(e){return e===t.id})),e({paramGroupIds:a}),n.props.dispatch((0,C.removeSNMP)(t.id))}})},n.state={visible:!1,handleAddVisible:!1,editParam:null,page:1,size:10},n}return(0,y.default)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({page:e.SNMPParamGroup.pageNum,size:e.SNMPParamGroup.pageSize})}},{key:"componentWillUnmount",value:function(){}},{key:"pageChange",value:function(e){this.props.dispatch((0,C.fetchSNMPParamGroup)({id:this.props.scriptFile.id,page:e.current,size:e.pageSize})),this.setState({page:e.current,size:e.pageSize})}},{key:"render",value:function(){var e=this,t=this.props.job||{},a=this.props,n=a.SNMPParamGroup,r=a.scriptFile,h=this.props.form.getFieldDecorator,v={labelCol:{span:3},wrapperCol:{span:10}},y={labelCol:{span:3},wrapperCol:{offset:3,span:18}},g=k.default.createElement(m.default,{className:"dropdown-menu"},k.default.createElement(m.default.Item,{key:"upload"},k.default.createElement(P.default,{scriptFileId:this.props.scriptFile.id}))),E=this.props.form.getFieldValue("paramGroupIds")||[],b=[],N=n.elements;_.map(N,(function(e,t){b.push({name:e.name,describation:_.filter(e.paramItems,(function(e){return!!e.argValue&&"password"!==e.valueType})).map((function(e){return e.argValue})).join(" / "),paramItems:e.paramItems,id:e.id})}));var C=[{title:$.translate("name"),dataIndex:"name",key:"name",width:300},{title:$.translate("describation"),dataIndex:"describation",key:"describation",width:600},{title:$.translate("operation"),dataIndex:"operation",key:"operation",width:200,render:function(t,a,n){return k.default.createElement("div",null,k.default.createElement("a",{onClick:function(t){return e.showModal(t,N[n])},style:{marginRight:"10px"}},$.translate("edit")),k.default.createElement("a",{onClick:function(t){return e.removeSNMPParam(t,N[n])}},$.translate("delete")))}}],D={onChange:function(t,a){var n=[];_.map(a,(function(e,t){n.push(e.id)})),e.handleSelectSNMPGroup(n)},selectRowKeys:this.props.form.getFieldValue("paramGroupIds")||[]},L={current:this.state.page,pageSize:this.state.size,total:n.totalElementsNum};return k.default.createElement(w.default,{className:"task-form",style:{marginTop:30,width:"95%"}},k.default.createElement("div",{className:"task-form-title"},k.default.createElement("h3",null,$.translate("basicInformation"))),k.default.createElement(A,(0,f.default)({},v,{label:$.translate("taskName")}),h("name",{initialValue:t.name,rules:[{required:!0,message:$.translate("pleaseEnterTaskName")},{min:2,max:50,message:$.translate("taskNameNumRules",{min:2,max:50})},{validator:this.checkDiscoveryName}]})(k.default.createElement(p.default,{placeholder:$.translate("pleaseEnterTaskName")}))),k.default.createElement(A,(0,f.default)({},v,{label:$.translate("beginTime")}),h("startAt",{initialValue:t.id?(0,T.default)(t.startAt,I.DEFAULT_DATEFORMAT):(0,T.default)(Date.now()),rules:[{required:!0,message:$.translate("pleaseSelect")+$.translate("beginTime")}]})(k.default.createElement(d.default,{showTime:!0,allowClear:!1,format:"YYYY-MM-DD HH:mm:ss"}))),k.default.createElement(A,(0,f.default)({},v,{label:$.translate("taskStrategy")}),h("intervalType",{initialValue:t.intervalType||"WEEKLY",rules:[{required:!0,message:$.translate("pleaseSelect")+$.translate("taskStrategy")}]})(k.default.createElement(O.default,null,_.map(Object.keys(I.JOBINTERVAL),(function(e){return k.default.createElement(M,{key:e,value:e},I.JOBINTERVAL[e])}))))),k.default.createElement(A,{wrapperCol:{span:12,offset:3}},h("compareStoreType",{initialValue:void 0!==t.compareStoreType?t.compareStoreType:1})(k.default.createElement(J,null,_.map(I.COMPARE_TYPE,(function(e){return k.default.createElement(S.default,{key:e.value,style:{width:"100%"},value:e.value},e.text)}))))),k.default.createElement(A,(0,f.default)({},v,{label:$.translate("findHost")}),h("jobAgents",{initialValue:t.jobAgents||[],rules:[{required:!0,type:"array",min:1,message:$.translate("pleaseSelectDiscoverIP")}]})(k.default.createElement("p",null)),k.default.createElement(o.default,{placement:"bottomLeft",content:k.default.createElement(j.default,{type:"localIp",ipTags:this.props.form.getFieldValue("jobAgents")||[],onRemoveIps:this.removeIpTags,onAddIps:this.addIpTags}),trigger:"click"},k.default.createElement(u.default,{size:"default",type:"primary"},$.translate("selectAdd"))),"\xa0\xa0",k.default.createElement(u.default,{size:"default",type:"primary"},k.default.createElement("a",{href:"/ant/#/installation"},$.translate("installAgent"))),this.props.form.getFieldValue("jobAgents").length>0?k.default.createElement("div",{className:"tags-list"},_.map(this.props.form.getFieldValue("jobAgents"),(function(t,a){return k.default.createElement(s.default,{key:t.ip+a,closable:!0,onClose:function(){e.removeIpTags([t])}},t.ip)})),k.default.createElement("div",{className:"tag-clear",onClick:this.clearTag},k.default.createElement(c.default,{type:"delete"}))):null),this.hasArguments()&&k.default.createElement("div",null,k.default.createElement("div",{className:"task-form-title"},k.default.createElement("h3",null,$.translate("configParam"))),k.default.createElement(A,{wrapperCol:{offset:3,span:10},style:{marginBottom:12}},k.default.createElement("div",{className:"params-opt-btns"},k.default.createElement(i.default,{overlay:g},k.default.createElement(u.default,{type:"primary",onClick:this.showModal},$.translate("addParam")," ",k.default.createElement(c.default,{type:"down"}))),k.default.createElement(u.default,{type:"ghost"},k.default.createElement("a",{href:"api/deep-scan-param-group/".concat(this.props.scriptFile.id,"/template")},$.translate("exportExcelTemplate"))),k.default.createElement(u.default,{type:"ghost"},k.default.createElement("a",{href:"api/deep-scan-param-group/".concat(this.props.scriptFile.id,"/export")},$.translate("export"))),k.default.createElement(u.default,{type:"ghost",disabled:!(E&&E.length>0),onClick:this.showRemoveSNMPGroupConfirm},$.translate("delete")))),k.default.createElement(A,y,h("paramGroupIds",{initialValue:t.paramGroupIds,rules:[{required:!0,type:"array",min:1,message:$.translate("pleaseSelectParam")}]})(k.default.createElement("div",null)),k.default.createElement("div",null,k.default.createElement(l.default,{columns:C,pagination:L,dataSource:b,scroll:{y:240},rowSelection:D,onChange:function(t){return e.pageChange(t)}})))),k.default.createElement(A,{style:{marginTop:20},wrapperCol:{span:12,offset:3}},k.default.createElement(u.default,{type:"primary",onClick:this.handleSubmit},t.id?$.translate("update"):$.translate("save")),"\xa0\xa0\xa0",k.default.createElement(u.default,{type:"ghost",onClick:this.back},$.translate("cancel"))),k.default.createElement(R.default,{title:r.alias,visible:this.state.visible,editParam:this.state.editParam,scriptFile:r,save:this.createSNMPParams,handleCancel:function(){return e.setState({visible:!1})}}))}}]),a}(k.Component);G=w.default.create({})(G);var z=(0,N.connect)((function(e){return{scriptFile:e.plugins.scriptFile,SNMPParamGroup:e.plugins.SNMPParamGroup}}))(G);t.default=z},798:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:case o:return c(c({},e),t.payload);default:return e}},t.fetchCiTypies=t.fetchAgents=t.LOAD_CI_TYPES=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="localAgent/Load";t.LOAD=s;var o="localAgent/Load_CI_Types";t.LOAD_CI_TYPES=o;t.fetchAgents=function(e){return function(t){return $.get(l.default.local_agent_list,e,(function(e){t({type:s,payload:{data:e.elements||[],total:e.totalElementsNum||0}})}))}};t.fetchCiTypies=function(){return function(e){return $.get(l.default.local_agent_ci_types,(function(t){e({type:o,payload:{ciTypies:t}})}))}};var u={data:[],ciTypies:[],total:0}},799:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.relationStopDiscovery=t.relationBeginDiscovery=void 0;var r=n(a(44)),l=n(a(23)),i=a(182),c=a(224),s=a(179);t.relationBeginDiscovery=function(e,t,a){return function(n){return $.ajax({type:"POST",url:l.default.begin_discovery(t),contentType:"application/json"}).done((function(t){!1!==t.data?(r.default.success($.translate("isInProgress")),n((0,i.fetchJobListOfPlugin)(e,a)),n((0,c.fetchStatisticOfDiscoveryRelationJob)(e)),n((0,s.fetchPluginList)())):r.default.error(t.message)})).fail((function(t){n((0,i.fetchJobListOfPlugin)(e,a)),n((0,c.fetchStatisticOfDiscoveryRelationJob)(e)),n((0,s.fetchPluginList)())}))}};t.relationStopDiscovery=function(e,t,a){return function(n){return $.ajax({type:"POST",url:l.default.stop_discovery(t),contentType:"application/json"}).done((function(t){r.default.success($.translate("stopped")),n((0,i.fetchJobListOfPlugin)(e,a)),n((0,c.fetchStatisticOfDiscoveryRelationJob)(e)),n((0,s.fetchPluginList)())})).fail((function(t){n((0,i.fetchJobListOfPlugin)(e,a)),n((0,c.fetchStatisticOfDiscoveryRelationJob)(e)),n((0,s.fetchPluginList)())}))}}},800:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(31)),i=r(a(176)),c=r(a(325)),s=r(a(61)),o=r(a(19)),u=r(a(12)),d=r(a(13)),f=r(a(16)),p=r(a(14)),m=r(a(15)),h=r(a(25)),v=r(a(76)),y=n(a(0)),g=a(17),E=r(a(58)),b=a(179),S=a(501),O=a(149),w=a(62);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var r=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var N,T=v.default.Item,I=h.default.Option,P=function(e){(0,f.default)(a,e);var t=k(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).handleCancel=function(){n.setState({visible:!1})},n.back=function(){window.history.go(-1)},n.handleSubmit=function(){n.props.form.validateFields((function(e,t){e||(t.groupId=n.props.groupId,t.startAt=t.startAt.format(w.DEFAULT_DATEFORMAT),n.props.submit(t))}))},n.showModal=function(){n.setState({visible:!0})},n.handleSelectPlugin=function(e){var t=n.props.form.setFieldsValue,a=n.props.form.getFieldValue("targetGroupIds")||[],r=a.indexOf(e.id);-1===r?a.push(e.id):a.splice(r,1),t({targetGroupIds:a})},n.isChecked=function(e){return-1!==(n.props.form.getFieldValue("targetGroupIds")||[]).indexOf(e)},n.checkDiscoveryName=function(e,t,a){(t=$.trim(t))?(N&&(clearTimeout(N),N=null),N=setTimeout((function(){var e=n.props.groupId,r=n.props.id||"0";n.props.dispatch((0,S.checkName)(t,e,r,(function(e){e.data?a():a([new Error($.translate("nameOccupied"))])})))}),500)):a(),(0,O.validSpecialChar)(t)&&a([new Error($.translate("dangerCode"))])},n.state={visible:!1},n}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,b.fetchPluginList)())}},{key:"render",value:function(){var e=this,t=this.props.plugins,a=this.props.job||{},n=this.props.form.getFieldDecorator,r={labelCol:{span:3},wrapperCol:{span:12}};return y.default.createElement(v.default,{className:"task-form",style:{marginTop:30,width:"95%"}},y.default.createElement("div",{className:"task-form-title"},y.default.createElement("h3",null,$.translate("basicInformation"))),y.default.createElement(T,(0,s.default)({},r,{label:$.translate("taskName")}),n("name",{initialValue:a.name||"",rules:[{required:!0,message:$.translate("pleaseEnter",{name:$.translate("taskName")})},{min:2,max:50,message:$.translate("taskNameNumRules",{min:2,max:50})},{validator:this.checkDiscoveryName}]})(y.default.createElement(o.default,{placeholder:$.translate("pleaseEnter",{name:$.translate("taskName")})}))),y.default.createElement(T,(0,s.default)({},r,{label:$.translate("beginTime")}),n("startAt",{initialValue:a.id?(0,E.default)(a.startAt,w.DEFAULT_DATEFORMAT):(0,E.default)(Date.now()),rules:[{required:!0,message:$.translate("pleaseEnter",{name:$.translate("beginTime")})}]})(y.default.createElement(c.default,{showTime:!0,allowClear:!1,format:"YYYY-MM-DD HH:mm:ss"}))),y.default.createElement(T,(0,s.default)({},r,{label:$.translate("taskStrategy")}),n("intervalType",{initialValue:a.intervalType||"WEEKLY",rules:[{required:!0,message:$.translate("pleaseSelect",{name:$.translate("taskStrategy")})}]})(y.default.createElement(h.default,null,_.map(Object.keys(w.JOBINTERVAL),(function(e){return y.default.createElement(I,{key:e,value:e},w.JOBINTERVAL[e])}))))),y.default.createElement(T,{wrapperCol:{span:12,offset:3}},n("autoIm",{initialValue:a.autoIm,valuePropName:"checked"})(y.default.createElement(i.default,null,$.translate("discoveryResultsDirectlyPacific")))),y.default.createElement("div",{className:"task-form-title"},y.default.createElement("h3",null,$.translate("usePluginList"))),y.default.createElement(T,{style:{marginLeft:125}},n("targetGroupIds",{initialValue:a.targetGroupIds||[],rules:[{required:!0,message:$.translate("pleaseSelect")+$.translate("usePlugin")}]})(y.default.createElement("p",null,$.translate("selectPlugin&discoveryRelation"))),y.default.createElement("ul",{className:"clearfix"},_.map(t,(function(t){if(!t.relationScan)return y.default.createElement("li",{key:t.id,className:"task-form-param"},y.default.createElement("div",{className:"task-form-param-name"},y.default.createElement(i.default,{onClick:function(){return e.handleSelectPlugin(t)},className:"task-form-param-name-checkbox",checked:e.isChecked(t.id)}),y.default.createElement("span",{title:t.name,className:"param-name-label truncate"},t.name)),y.default.createElement("p",{className:"ml10"},$.translate("rsTotalNum"),": ",t.count.rsCount))})))),y.default.createElement(T,{style:{marginTop:20},wrapperCol:{span:10,offset:3}},y.default.createElement(l.default,{type:"primary",onClick:this.handleSubmit},a.id?$.translate("update"):$.translate("save")),"\xa0\xa0\xa0",y.default.createElement(l.default,{type:"ghost",onClick:this.back},$.translate("cancel"))))}}]),a}(y.Component);P=v.default.create({})(P);var R=(0,g.connect)((function(e){return{plugins:e.plugin.lists}}))(P);t.default=R},801:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRecordsOfRelation=function(e,t){return function(a){$.get(l.default.records_of_relation(e),t,(function(e){a({type:s,payload:{data:e.elements,total:e.totalElementsNum}})}))}},t.resetRecordsOfRelation=function(){return function(e){e({type:s,payload:{data:[],total:0}})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="relationJobRecord/Load";t.LOAD=s;var o={data:[],total:0}},802:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.selectScripts=t.submitUserScript=t.fetchUserScript=t.fetchMoreUserList=t.fetchUserList=void 0;var r=n(a(44)),l=n(a(23)),i=a(53);t.fetchUserList=function(e){return function(t){return $.get(l.default.user_list,e,(function(e){t({type:i.GET_USER_LIST,payload:{list:e,total:e.length}})}))}};t.fetchMoreUserList=function(e){return function(t,a){var n=a().setting.lists;return $.get(l.default.user_list,e,(function(e){t({type:i.GET_MORE_USER_LIST,payload:n.concat(e.records)})}))}};t.fetchUserScript=function(e){return function(t){var a={roleId:e};return $.get(l.default.user_script,a,(function(e){t({type:i.GET_USER_SCRIPT,payload:{data:e.data,selectIds:e.ids}})}))}};t.submitUserScript=function(e){return function(){return $.ajax({type:"POST",url:l.default.submit_user_script,data:JSON.stringify(e),contentType:"application/json",context:void 0}).done((function(e){r.default.success($.translate("updateSuc"))})).fail((function(e){r.default.error($.translate("updateFail"))}))}};t.selectScripts=function(e){return function(t){t({type:i.GET_USER_SELECT_SCRIPT,payload:e})}}},803:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(59)),i=r(a(223)),c=r(a(61)),s=r(a(31)),o=r(a(10)),u=r(a(170)),d=r(a(44)),f=r(a(12)),p=r(a(13)),m=r(a(16)),h=r(a(14)),v=r(a(15)),y=r(a(127)),g=n(a(0)),E=r(a(4)),b=a(17),S=r(a(23)),O=a(804);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,v.default)(e);if(t){var r=(0,v.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}a(1924);var k=y.default.TabPane,N=function(e){(0,m.default)(a,e);var t=w(a);function a(e){var n;return(0,f.default)(this,a),(n=t.call(this,e)).handleVisibleChange=function(){n.setState({visible:!n.state.visible})},n.handleClick=function(e){n.setState({iconUrl:e})},n.changeTabPosition=function(e){n.setState({type:e}),n.props.requestIconList({type:e})},n.onChangePager=function(e){n.props.requestIconList({type:n.props.type,pageNum:e})},n.handleOk=function(){n.setState({visible:!1}),n.props.onChange(n.state.iconUrl)},n.state={type:"BUILTIN",visible:!1,iconUrl:n.props.url||""},n}return(0,p.default)(a,[{key:"componentWillReceiveProps",value:function(e){e.url&&e.url!==this.props.url&&this.setState({iconUrl:e.url})}},{key:"componentDidMount",value:function(){var e=this.props.type;this.props.requestIconList({type:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.total,r=t.pageSize,f=t.pageNum,p=this.state.visible,m=this,h={action:S.default.default_icon_list,data:function(e){return{fileName:encodeURIComponent(e.name),classCode:e.size}},beforeUpload:function(e){return/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(e.name)?e.size>102400?(d.default.error($.translate("sizeTip",{size:"100k"})),!1):void 0:(d.default.error($.translate("picTypeTip")),!1)},onChange:function(e){"done"===e.file.status?(m.setState({iconUrl:"/cmdb/".concat(e.file.response.url)}),m.props.requestIconList({type:"CUSTOM"}),d.default.success($.translate("uploadSuccess"))):"error"===e.file.status&&d.default.error($.translate("uploadFail"))}},v=g.default.createElement(u.default,{className:"pull-right",onChange:this.onChangePager,pageSize:r,current:f,size:"small",total:n}),b=g.default.createElement("div",null,g.default.createElement("ul",{className:"default-icon-list clearfix"},_.map(a,(function(t){var a=e.state.iconUrl==="/cmdb/".concat(t);return g.default.createElement("li",{className:(0,E.default)({active:a}),key:t,onClick:function(){return e.handleClick("/cmdb/".concat(t))}},g.default.createElement("img",{src:"/cmdb/".concat(t),width:"30",height:"30",alt:""}),a?g.default.createElement(o.default,{className:"choose",type:"check-circle"}):null)}))),n>0?v:null);return g.default.createElement("span",null,this.props.url?g.default.createElement("div",{onClick:this.handleVisibleChange,className:"modify_icon"},g.default.createElement("img",{src:this.props.url,alt:$.translate("changeIcon"),className:"pointer",width:"30",height:"30"}),g.default.createElement("div",{className:"modify_icon_tip"},$.translate("changeIcon"))):g.default.createElement("div",{onClick:this.handleVisibleChange,className:"choose-icon"},$.translate("chooseIcon")),g.default.createElement(l.default,{width:"550px",ref:"modal",visible:p,footer:[g.default.createElement(s.default,{key:"ok",onClick:this.handleOk,type:"primary"},$.translate("ok")),g.default.createElement(s.default,{key:"cancel",onClick:this.handleVisibleChange,type:"ghost"},$.translate("cancel"))],onOk:this.handleOk,onCancel:this.handleVisibleChange,className:"icon-modal"},g.default.createElement("div",{className:"modal-tab"},g.default.createElement(y.default,{activeKey:this.state.type,onChange:this.changeTabPosition},g.default.createElement(k,{tab:$.translate("systemIcons"),key:"BUILTIN"},b),g.default.createElement(k,{tab:$.translate("customIcons"),key:"CUSTOM"},g.default.createElement("div",null,g.default.createElement("div",{className:"mt10",style:{position:"relative"}},g.default.createElement(i.default,(0,c.default)({},h,{style:{float:"left"}}),g.default.createElement(s.default,{type:"primary"},$.translate("uploadIcon"))),g.default.createElement("span",{style:{position:"absolute",top:7,left:100}},$.translate("uploadIconTips"))),b))))))}}]),a}(g.Component),T=(0,b.connect)((function(e){var t=e.icons;return{data:t.data,total:t.total,pageSize:t.pageSize,pageNum:t.pageNum,type:t.type}}),{requestIconList:O.requestIconList})(N);t.default=T},804:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return s(s({},e),t.payload);default:return e}},t.requestIconList=t.LOAD=void 0;var r=n(a(24)),l=n(a(44)),i=n(a(23));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o="model/icons/Load";t.LOAD=o;t.requestIconList=function(e){var t=e.type,a=e.pageSize,n=void 0===a?24:a,r=e.pageNum,c=void 0===r?1:r;return{type:o,ajax:{type:"GET",url:i.default.default_icon_list,data:{type:t,pageSize:n,pageNum:c},global:!1,complete:function(e){200!==e.status&&l.default.error($.translate("cmdbConnectionFail"))}},callback:function(e,a){a({type:o,payload:{type:t,pageSize:n,pageNum:c,data:e.dataList,total:e.totalRecords}})}}};var u={type:"BUILTIN",isFetching:!1,data:[],total:0,pageNum:1,pageSize:24}},807:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(59)),i=r(a(61)),c=r(a(19)),s=r(a(31)),o=r(a(44)),u=r(a(12)),d=r(a(13)),f=r(a(16)),p=r(a(14)),m=r(a(15)),h=r(a(25)),v=r(a(76)),y=n(a(0)),g=a(17),E=a(327),b=a(326),S=a(149),O=r(a(793)),w=a(502),k=a(350);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var r=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var T,I=v.default.Item,P=h.default.Option,R="-@-",C=function(e){(0,f.default)(a,e);var t=N(a);function a(){var e;(0,u.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,processVisible:!1,percent:0,jobId:""},e.checkIP=function(e,t,a){t?(0,S.validIPAddress)(t)||a([new Error($.translate("ipInvalid"))]):a(),a()},e.checkValue=function(e,t,a){t?"ip"!==e.field.split(R)[0]||(0,S.validIPAddress)(t)?"password"!==e.field.split(R)[0]||(0,S.validPassword)(t)?"text"!==e.field.split(R)[0]||(0,S.validText)(t)||a([new Error($.translate("WordNumRules",{min:0,max:255}))]):a([new Error($.translate("passwordNumRules",{min:2,max:80}))]):a([new Error($.translate("ipInvalid"))]):a(),a()},e.selectAgent=function(t,a){e.setState({agentId:t,agentName:a.props.children})},e.selectNetwork=function(t,a){e.props.form.setFieldsValue({agentId:[]}),e.props.dispatch((0,b.fetchAgent)(t,null,e.props.groupTag))},e.testScript=function(){_.isUndefined(e.props.fileContent.scriptStr)||""===e.props.fileContent.scriptStr?o.default.error($.translate("uploadFill")):e.props.dispatch((0,w.fetchTestParams)(e.props.fileContent)).then((function(t){t.skipTest?e.props.onShowTestResult(!1,!0):e.setState({visible:!0})}))},e.handleCancel=function(t){e.setState({visible:!1}),e.props.form.resetFields()},e.goTestSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){if(!t){var n=[];_.map(Object.keys(a),(function(e,t){_.includes(e,R)&&("identityFile"===e.split(R)[0]?n.push({argName:e.split(R)[1],valueType:e.split(R)[0],argValue:a[e].name,fileContent:a[e].response}):n.push({argName:e.split(R)[1],valueType:e.split(R)[0],argValue:a[e]}),delete a[e])})),a.slufs=e.props.fileContent.slufs,a.groupTag=e.props.groupTag,a.scriptStr=e.props.fileContent.scriptStr,a.targetIp=[a.targetIp],a.jobParamItems=n,a.scriptPropertyType=e.props.fileContent.scriptPropertyType,e.props.dispatch((0,w.onGoTest)(a)).then((function(t){"START"===t.status?(e.setState({visible:!1,processVisible:!0,jobId:t.jobId}),T=setInterval((function(){e.props.dispatch((0,w.getTestProgress)(t.jobId)).then((function(a){"ERROR"===a.status?(clearInterval(T),o.default.error($.translate("failurePass")),e.setState({processVisible:!1}),e.props.onShowTestResult(!0,!1,t.jobId)):("DONE"===a.status&&(clearInterval(T),e.setState({processVisible:!1}),e.props.onShowTestResult(!0,!0,t.jobId)),e.setState({percent:a.percent}))})).catch((function(e){clearInterval(T)}))}),500)):o.default.error($.translate("beginTestFail"))})),e.props.form.resetFields()}}))},e.cancelTest=function(){e.props.dispatch((0,k.stopDiscovery)("",e.state.jobId)).then((function(){clearInterval(T),e.setState({processVisible:!1})}))},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((0,E.fetchNetwork)())}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,b.resetAgent)())}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.agent,r=a.network,o=a.testParams,u=this.state,d=u.percent,f=u.processVisible,p=u.visible,m={labelCol:{span:5},wrapperCol:{span:18}},g=o.skipTest?y.default.createElement(s.default,{type:"primary"},$.translate("next")):[y.default.createElement(s.default,{key:"sure",type:"primary",size:"default",onClick:this.goTestSubmit},$.translate("immediatelyTest")),y.default.createElement(s.default,{key:"cancel",type:"ghost",size:"default",onClick:this.handleCancel},$.translate("cancel"))];return y.default.createElement("div",{className:"inline-block mr10"},y.default.createElement(s.default,{type:"primary",onClick:this.testScript},$.translate("test")),this.state.visible&&y.default.createElement(l.default,{footer:g,onCancel:this.handleCancel,title:$.translate("testScript"),visible:p},y.default.createElement(v.default,null,y.default.createElement("div",{className:"test-form-title"},$.translate("foundObject")),y.default.createElement(I,(0,i.default)({},m,{label:$.translate("testObject"),hasFeedback:!0}),t("targetIp",{rules:[{required:!0,message:$.translate("enterIptestObject")},{validator:this.checkIP}]})(y.default.createElement(c.default,{placeholder:$.translate("enterIptestObject")}))),y.default.createElement(I,(0,i.default)({},m,{label:$.translate("network")}),t("networkDomainId",{rules:[{required:!0,message:$.translate("pleaseSelectNetwork")}]})(y.default.createElement(h.default,{getPopupContainer:function(e){return e},disabled:0===r.length,placeholder:$.translate("pleaseSelectNetwork"),onSelect:this.selectNetwork,notFoundContent:$.translate("noData")},_.map(r,(function(e){return y.default.createElement(P,{key:e.id,value:e.id},e.name)}))))),y.default.createElement(I,(0,i.default)({},m,{label:"Agent"}),t("agentId",{rules:[{required:!0,message:$.translate("pleaseSelect")+"agent"}]})(y.default.createElement(h.default,{getPopupContainer:function(e){return e},placeholder:$.translate("pleaseSelect")+"agent",onSelect:this.selectAgent,notFoundContent:$.translate("noData")},_.map(n,(function(e){return y.default.createElement(P,{key:e.id,value:e.id},e.name)}))))),y.default.createElement("div",{className:"test-form-title"},$.translate("foundParameter")),_.map(o.args,(function(a,n){return y.default.createElement(I,(0,i.default)({},m,{key:n+a.argName,required:!a.nullable,hasFeedback:!0,label:a.argAlias}),t("".concat(a.valueType).concat(R).concat(a.argName),{initialValue:a.defaultValue,rules:[{required:!a.nullable,message:$.translate("pleaseEnter",{name:a.argAlias})},{validator:e.checkValue}]})(y.default.createElement(O.default,{arg:a,placeholder:a.description,identityFileList:[]})))})))),y.default.createElement(l.default,{footer:!1,title:$.translate("testScript"),visible:f},y.default.createElement("div",{className:"mb10"},$.translate("testWait")),y.default.createElement("div",{className:"ant-progress ant-progress-line ant-progress-status-normal ant-progress-show-info"},y.default.createElement("div",{className:"ant-progress-outer"},y.default.createElement("div",{className:"ant-progress-inner",style:{marginTop:0,borderRadius:100}},y.default.createElement("div",{className:"ant-progress-bg",style:{width:d+"%",height:"10px",marginTop:0,borderRadius:100}}))),y.default.createElement("span",{className:"ant-progress-text"},d,"%")),y.default.createElement("div",{className:"text-center mt10"},y.default.createElement(s.default,{type:"primary",onClick:this.cancelTest},$.translate("cancelTest")))))}}]),a}(y.Component),j=v.default.create()(C),D=(0,g.connect)((function(e){return{agent:e.agent.data,network:e.network.data,testParams:e.newScript.data}}))(j);t.default=D},808:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(66)),i=r(a(26)),c=r(a(10)),s=r(a(12)),o=r(a(13)),u=r(a(16)),d=r(a(14)),f=r(a(15)),p=r(a(127)),m=n(a(0)),h=a(17),v=r(a(107)),y=a(329),g=a(84),E=a(502);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var S=p.default.TabPane,O=function(e){(0,u.default)(a,e);var t=b(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,page:1,tabKey:"result",checkedJob:{ip:""}},e.changeTab=function(t){e.setState({tabKey:t})},e.checkDetail=function(t,a){t.preventDefault(),e.setState({visible:!0,checkedJob:a}),e.props.dispatch((0,g.fetchIpDetail)(a.ciId))},e.handleCancel=function(){e.setState({visible:!1,checkedJob:{ip:""}}),e.props.dispatch((0,g.resetIpDetail)())},e.getLogData=function(t){e.setState({page:t}),e.props.dispatch((0,E.getTestLog)(e.props.jobId,{page:t,size:10}))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.jobId;this.props.dispatch((0,y.fetchRecordsOfJob)(e)),this.props.dispatch((0,E.getTestLog)(e))}},{key:"componentWillReceiveProps",value:function(e){e.jobId!==this.props.jobId&&(this.props.dispatch((0,y.fetchRecordsOfJob)(e.jobId)),this.props.dispatch((0,E.getTestLog)(e.jobId)))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,y.resetRecordsOfJob)())}},{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.log,r=t.isSuc,s=t.detail,o=this.state,u=o.tabKey,d=o.page,f=o.checkedJob,h=[{title:m.default.createElement("span",{className:"pl20"},$.translate("time")),dataIndex:"createdAt",key:"createdAt",width:"30%",render:function(e){return m.default.createElement("span",{className:"pl20"},e)}},{title:$.translate("level"),dataIndex:"logLevel",key:"logLevel",width:"20%"},{title:$.translate("content"),dataIndex:"description",key:"description",width:"50%"}],y=[{title:$.translate("configClass"),dataIndex:"ciTypeName",key:"ciTypeName",width:"50%",render:function(t,a){return m.default.createElement("a",{onClick:function(t){return e.checkDetail(t,a)},className:"pl20"},t)}},{title:$.translate("name"),dataIndex:"name",key:"name",width:"50%"}],g={current:d,total:"result"===u?a.total:n.total,onChange:function(t){return e.getLogData(t)},showTotal:function(e){return $.translate("total",{total:e})}};return m.default.createElement("div",{className:"test-result-content show"},r?m.default.createElement("div",{className:"test-result-content-status"},m.default.createElement("div",{className:"test-result-content-status-succ"},m.default.createElement(c.default,{className:"test-result-content-status-succ-icon",type:"check-circle"}),$.translate("scriptTestSuccess"))):m.default.createElement("div",{className:"test-result-content-status"},m.default.createElement("div",{className:"test-result-content-status-fail"},m.default.createElement(c.default,{className:"test-result-content-status-fail-icon",type:"close-circle"}),$.translate("scriptTestFail"))),m.default.createElement(p.default,{defaultActiveKey:"result",onChange:this.changeTab},m.default.createElement(S,{tab:$.translate("executionResult"),key:"result"},m.default.createElement(i.default,{pagination:g,className:"widget-filter-result",rowKey:function(e){return e.id},columns:y,dataSource:a.data,size:"middle"})),m.default.createElement(S,{tab:$.translate("performLog"),key:"log"},m.default.createElement(i.default,{className:"widget-filter-result",columns:h,pagination:g,dataSource:n.logData,rowKey:function(e){return e.id},size:"middle"}))),m.default.createElement(l.default,{title:f.ip,width:"900",visible:this.state.visible,onClose:this.handleCancel},m.default.createElement(v.default,{data:s})))}}]),a}(m.Component),w=(0,h.connect)((function(e){return{record:e.jobRecord,detail:e.ipDetail.data,log:e.newScript}}))(O);t.default=w},809:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(223)),i=r(a(31)),c=r(a(10)),s=r(a(44)),o=r(a(12)),u=r(a(13)),d=r(a(16)),f=r(a(14)),p=r(a(15)),m=n(a(0)),h=r(a(23));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var y=function(e){(0,d.default)(a,e);var t=v(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).handleDelete=function(e){var t=n.state.fileList;t.splice(e,1),n.setState({fileList:t},(function(){n.props.onChange(t)}))},n.state={fileList:n.props.defaultFileList||[]},n}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.state.fileList,a={accept:".jar,.py,.tar.gz,.wheel",action:h.default.upload_lib_extend,onChange:function(a){var n=a.file.status;if("done"===n){if(!a.file.response.success)return s.default.error(a.file.response.msg);var r=a.file.response,l=r.fileName,i=r.fsPath,c=r.fsFileName,o=r.excludePublicLibs;t.push({fileName:l,fsPath:i,fsFileName:c,excludePublicLibs:o}),e.setState({fileList:t},(function(){e.props.onChange(t)})),s.default.success("".concat(a.file.name)+$.translate("uploadSuccess"))}else"error"===n&&s.default.error("".concat(a.file.name)+$.translate("uploadFail"))}};return m.default.createElement("div",{className:"upload-lib-wrap"},m.default.createElement(l.default,a,m.default.createElement(i.default,{type:"ghost"},m.default.createElement(c.default,{type:"upload"})," ",$.translate("upload"))),t&&t.length>0&&m.default.createElement("ul",{className:"file-list"},_.map(t,(function(t,a){return m.default.createElement("li",{key:t.fsFileName}," ",t.fileName," ",m.default.createElement(c.default,{type:"close-circle",onClick:function(){return e.handleDelete(a)}}))}))))}}]),a}(m.Component);t.default=y},810:function(e,t,a){"use strict";var n=a(11),r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(264)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=n(a(0)),f=a(17),p=r(a(1936));a(1938),a(1939),a(1940),a(1941),a(1942),a(1943),a(1944);var m=a(1945);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var v=function(e){(0,s.default)(a,e);var t=h(a);function a(e){var n;return(0,i.default)(this,a),(n=t.call(this,e)).updateCode=function(e){n.setState({code:e}),n.props.onUpdateCode(e,"powershell"===n.state.mode?"ps1":n.state.mode)},n.changeMode=function(e){var t=e.target.value;n.setState({mode:t}),n.props.onUpdateCode(n.state.code,"powershell"===t?"ps1":t)},n.state={code:n.props.value,mode:n.props.mode},n}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=$("html").hasClass("white")?"eclipse":"monokai";if(this.refs.editor.getCodeMirror().setOption("theme",t),!this.props.mode){var a=("REMOTE"===this.props.groupTag?["groovy","powershell","python"]:["python"])[0];this.setState({mode:a},(function(){e.props.onUpdateCode(void 0,"powershell"===a?"ps1":a)}))}}},{key:"componentWillReceiveProps",value:function(e){this.setState({code:e.value,mode:"ps1"===e.mode?"powershell":e.mode});var t=this.refs.editor.getCodeMirror();e.value!==this.state.value&&t.setValue(e.value)}},{key:"render",value:function(){var e={lineNumbers:!0,mode:this.state.mode,placeholder:m.PLACE_HOLDER[this.state.mode]},t="REMOTE"===this.props.groupTag?["groovy","powershell","python"]:["python"];return d.default.createElement("div",{className:"uy-codemirror"},d.default.createElement("div",{className:"uy-codemirror-header"},d.default.createElement(l.default.Group,{onChange:this.changeMode,value:this.state.mode},_.map(t,(function(e){return d.default.createElement(l.default,{key:e,value:e},e)})))),d.default.createElement(p.default,{ref:"editor",value:this.state.code,onChange:this.updateCode,options:e,autoFocus:!0}))}}]),a}(d.Component);v.defaultProps={value:"",lineNumbers:!0,showHeader:!0,highlightLines:[]};var y=(0,f.connect)((function(e){return{}}))(v);t.default=y},825:function(e,t,a){e.exports=a(826)},826:function(e,t,a){"use strict";var n=a(11),r=a(1),l=r(a(828)),i=r(a(12)),c=r(a(13)),s=r(a(16)),o=r(a(14)),u=r(a(15)),d=r(a(59)),f=n(a(0)),p=r(a(20));a(907);var m=a(32),h=r(a(1137)),v=r(a(1445));a(1465);var y=r(a(1466)),g=r(a(1471)),E=r(a(1565)),b=r(a(1626)),S=r(a(1627)),O=r(a(1628)),w=r(a(1629)),k=r(a(1630)),N=r(a(1631)),T=r(a(1656)),I=r(a(1672)),P=r(a(1673)),R=r(a(1674)),C=r(a(1860)),j=r(a(1866)),D=r(a(1867)),L=r(a(1868)),x=r(a(1869)),F=r(a(1870)),A=r(a(1871)),M=r(a(1872)),J=r(a(1873)),G=r(a(1874)),z=r(a(1875)),U=r(a(1876)),V=r(a(1877)),K=r(a(1880)),W=r(a(1900)),q=r(a(1901)),H=r(a(1902)),B=r(a(1903)),Y=r(a(1905)),Q=r(a(1906)),X=r(a(1907)),Z=r(a(1908)),ee=r(a(1909)),te=r(a(1910)),ae=r(a(1911)),ne=r(a(1912)),re=r(a(1913)),le=r(a(1916)),ie=r(a(1917)),ce=r(a(1918)),se=r(a(1919)),oe=r(a(1920)),ue=r(a(1921)),de=r(a(1922)),fe=r(a(1925)),pe=r(a(1926)),me=r(a(1931)),he=r(a(1946)),ve=r(a(1996)),ye=r(a(1997)),ge=r(a(1998)),Ee=a(149),be=a(445),Se=a(17),Oe=r(a(2003)),we=r(a(2004)),ke=r(a(2014));function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}a(2015),a(2016),a(2017);var Te,Ie,Pe="en_US"===(0,Ee.getCookie)("language")?ge.default:void 0,_e=[Oe.default,ke.default],Re=(0,be.createStore)(we.default,be.applyMiddleware.apply(void 0,_e));$.ajax({url:"api/authority/user",async:!1,success:function(e){-1===e?d.default.info({title:$.translate("NoProductRights"),onOk:function(){window.location.href="/tenant/"}}):Te=!0}}),$.ajax({url:"api/authority/permission",async:!1,success:function(e){var t={};_.map(e,(function(e,a){t[e.name]=!0})),Ie=t}});var Ce=function(e){(0,s.default)(a,e);var t=Ne(a);function a(e){var n;(0,i.default)(this,a),n=t.call(this,e);var r=[];return Ie.IPScan&&r.push({key:"scan",type:"link",name:$.translate("scan"),path:"scan",icon:f.default.createElement("i",{className:"iconfont icon-scanning"})}),Ie.DeepScan&&r.push({key:"plugins",type:"link",name:$.translate("discovery"),path:"plugins",icon:f.default.createElement("i",{className:"iconfont icon-Discovery"})}),Ie.Permission&&r.push({key:"role",type:"link",name:$.translate("role"),icon:f.default.createElement("i",{className:"iconfont icon-power"}),path:"role",below:!0}),Ie.Settings&&r.push({key:"setting",type:"link",name:$.translate("setting"),icon:f.default.createElement("i",{className:"iconfont icon-setting1"}),path:"setting",below:!0}),n.state={items:r},n}return(0,c.default)(a,[{key:"render",value:function(){return f.default.createElement(h.default,{sideMenu:{items:this.state.items,Link:m.Link}},f.default.createElement("div",{id:"content"},f.default.createElement(v.default,null),this.props.children))}}]),a}(f.Component),je=Ie.IPScan?"scan/task":Ie.DeepScan?"plugins/task":Ie.Permission?"role":"setting/script/detail",$e=f.default.createElement(m.Route,{component:Ce,path:"/"},f.default.createElement(m.IndexRedirect,{to:je}),Ie.IPScan?f.default.createElement(m.Route,{path:"scan",component:y.default},f.default.createElement(m.IndexRedirect,{to:"task"}),f.default.createElement(m.Route,{path:"task",component:g.default}),f.default.createElement(m.Route,{path:"scanOnline",component:E.default}),f.default.createElement(m.Route,{path:"scanFail",component:b.default}),f.default.createElement(m.Route,{path:"importSuc",component:S.default}),f.default.createElement(m.Route,{path:"importFail",component:w.default}),f.default.createElement(m.Route,{path:"waitImport",component:O.default}),f.default.createElement(m.Route,{path:"resource",component:k.default})):null,Ie.IPScan?f.default.createElement(m.Route,{path:"scan/edit/:id",component:N.default}):null,Ie.IPScan?f.default.createElement(m.Route,{path:"scan/create",component:N.default}):null,Ie.IPScan?f.default.createElement(m.Route,{path:"scan/result/:id",component:T.default}):null,Ie.IPScan?f.default.createElement(m.Route,{path:"scan/log/:id",component:I.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins",component:P.default},f.default.createElement(m.IndexRedirect,{to:"task"}),f.default.createElement(m.Route,{path:"task",component:R.default}),f.default.createElement(m.Route,{path:"config",component:C.default}),f.default.createElement(m.Route,{path:"discoveryFail",component:j.default}),f.default.createElement(m.Route,{path:"discoveryImportSuc",component:D.default}),f.default.createElement(m.Route,{path:"discoveryImportFail",component:L.default}),f.default.createElement(m.Route,{path:"discoveryWaitImport",component:x.default})):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/local",component:P.default},f.default.createElement(m.Route,{path:"task",component:R.default}),f.default.createElement(m.Route,{path:"config",component:C.default}),f.default.createElement(m.Route,{path:"discoveryFail",component:j.default}),f.default.createElement(m.Route,{path:"discoveryImportSuc",component:D.default}),f.default.createElement(m.Route,{path:"discoveryImportFail",component:L.default}),f.default.createElement(m.Route,{path:"discoveryWaitImport",component:x.default})):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:scriptFileId/new",component:K.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id",component:F.default},f.default.createElement(m.IndexRedirect,{to:"jobs"}),f.default.createElement(m.Route,{path:"jobs",component:A.default}),f.default.createElement(m.Route,{path:"task",component:A.default}),f.default.createElement(m.Route,{path:"config",component:M.default}),f.default.createElement(m.Route,{path:"discoveryFail",component:J.default}),f.default.createElement(m.Route,{path:"discoveryImportSuc",component:G.default}),f.default.createElement(m.Route,{path:"discoveryImportFail",component:z.default}),f.default.createElement(m.Route,{path:"discoveryWaitImport",component:U.default})):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/jobs/new",component:K.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/jobs/:jobId",component:V.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/log/:jobId",component:q.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/jobs/:jobId/edit",component:W.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/local/:id",component:F.default},f.default.createElement(m.Route,{path:"jobs",component:H.default}),f.default.createElement(m.Route,{path:"config",component:M.default}),f.default.createElement(m.Route,{path:"discoveryFail",component:J.default}),f.default.createElement(m.Route,{path:"discoveryImportSuc",component:G.default}),f.default.createElement(m.Route,{path:"discoveryImportFail",component:z.default}),f.default.createElement(m.Route,{path:"discoveryWaitImport",component:U.default})):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/local/:id/jobs/new",component:B.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/local/:id/jobs/:jobId/edit",component:Y.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id",component:Q.default},f.default.createElement(m.IndexRedirect,{to:"relations"}),f.default.createElement(m.Route,{path:"relations",component:X.default}),f.default.createElement(m.Route,{path:"discoveryRelation",component:Z.default}),f.default.createElement(m.Route,{path:"relationImportSuc",component:ee.default}),f.default.createElement(m.Route,{path:"relationImportFail",component:te.default}),f.default.createElement(m.Route,{path:"relationWaitImport",component:ae.default})):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/relations/new",component:ne.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/relations/:relationId",component:re.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/relations/log/:relationId",component:ie.default}):null,Ie.DeepScan?f.default.createElement(m.Route,{path:"plugins/:id/relations/:relationId/edit",component:le.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting",component:se.default},f.default.createElement(m.IndexRedirect,{to:"script/detail"}),f.default.createElement(m.Route,{path:"script/detail",component:de.default},f.default.createElement(m.Route,{path:":id",component:pe.default})),f.default.createElement(m.Route,{path:"localScript/detail",component:de.default},f.default.createElement(m.Route,{path:":id",component:pe.default})),f.default.createElement(m.Route,{path:"libs",component:fe.default})):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/script/new",component:me.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/localScript/new",component:me.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/script/:groupId/edit/:id",component:he.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/script/:groupId/addScript",component:ve.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/script/:groupId/editScript/:id",component:ve.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/localScript/:groupId/edit/:id",component:he.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/localScript/:groupId/addScript",component:ve.default}):null,Ie.Settings?f.default.createElement(m.Route,{path:"setting/localScript/:groupId/editScript/:id",component:ve.default}):null,Ie.Permission?f.default.createElement(m.Route,{path:"role",component:ce.default},f.default.createElement(m.IndexRedirect,{to:"roleList"}),f.default.createElement(m.Route,{path:"roleList",component:oe.default},f.default.createElement(m.Route,{path:":id",component:ue.default}))):null,f.default.createElement(m.Route,{path:"script",component:ye.default}),f.default.createElement(m.Route,{path:"*",exact:!0,getComponent:function(){window.location.href="/tenant/"}}));Te&&p.default.render(f.default.createElement(l.default,{locale:Pe},f.default.createElement(Se.Provider,{store:Re},f.default.createElement(m.Router,{history:m.hashHistory,routes:$e}))),document.getElementById("app"))},84:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchIpDetail=function(e){return{ajax:{type:"GET",url:l.default.detail_of_record(e)},callback:function(e,t){t({type:s,payload:{data:e}})}}},t.fetchFailIpDetail=function(e){return{ajax:{type:"GET",url:l.default.detail_of_fail_record(e)},callback:function(e,t){t({type:s,payload:{data:e}})}}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return c(c({},e),t.payload);default:return e}},t.resetIpDetail=t.LOAD=void 0;var r=n(a(24)),l=n(a(23));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s="ipDetail/Load";t.LOAD=s;t.resetIpDetail=function(){return function(e){e({type:s,payload:{data:{}}})}};var o={data:{}}}}),console.groupCollapsed("%c hawk/discovery-web %c \u5f53\u524d\u7248\u672c v0.1.0 %c","background:#35495e;padding:0 1px;border-radius:3px 0 0 3px;color:#fff","background:#41b883;padding:0 1px;border-radius:0 3px 3px 0;color:#fff","background:transparent"),console.log("%c\u6253\u5305\u65f6\u95f4\uff1a2020-05-18 17:20:49","color:#0dbb38;padding:7px;"),console.log("%cgit\u4ed3\u5e93\uff1ahttps://git.uyunsoft.cn/hawk/discovery-web.git","color:#0dbb38;padding:7px;"),console.log("%cgit\u5206\u652f\uff1aHEAD","color:#0dbb38;padding:7px;"),console.log("%ccommit\uff1ac0d44ed4877bf8f0f7da262e719381c97e9847dd","color:#0dbb38;padding:7px;"),console.groupEnd();